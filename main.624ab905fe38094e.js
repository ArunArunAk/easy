"use strict";(self.webpackChunkfire=self.webpackChunkfire||[]).push([[179],{740:()=>{function Me(t){return"function"==typeof t}function ac(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const mh=ac(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ra(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof mh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{mM(s)}catch(o){e=e??[],o instanceof mh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new mh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mM(e);else{if(e instanceof bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ra(n,e)}remove(e){const{_finalizers:n}=this;n&&ra(n,e),e instanceof bn&&e._removeParent(this)}}bn.EMPTY=(()=>{const t=new bn;return t.closed=!0,t})();const pM=bn.EMPTY;function gM(t){return t instanceof bn||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function mM(t){Me(t)?t():t.unsubscribe()}const qs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yh={setTimeout(t,e,...n){const{delegate:r}=yh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=yh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yM(t){yh.setTimeout(()=>{const{onUnhandledError:e}=qs;if(!e)throw t;e(t)})}function _y(){}const yz=vy("C",void 0,void 0);function vy(t,e,n){return{kind:t,value:e,error:n}}let Ws=null;function _h(t){if(qs.useDeprecatedSynchronousErrorHandling){const e=!Ws;if(e&&(Ws={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ws;if(Ws=null,n)throw r}}else t()}class wy extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gM(e)&&e.add(this)):this.destination=Tz}static create(e,n,r){return new uc(e,n,r)}next(e){this.isStopped?Iy(function vz(t){return vy("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Iy(function _z(t){return vy("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Iy(yz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ez=Function.prototype.bind;function Ey(t,e){return Ez.call(t,e)}class Iz{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vh(r)}else vh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vh(n)}}}class uc extends wy{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&qs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ey(e.next,s),error:e.error&&Ey(e.error,s),complete:e.complete&&Ey(e.complete,s)}):i=e}this.destination=new Iz(i)}}function vh(t){qs.useDeprecatedSynchronousErrorHandling?function wz(t){qs.useDeprecatedSynchronousErrorHandling&&Ws&&(Ws.errorThrown=!0,Ws.error=t)}(t):yM(t)}function Iy(t,e){const{onStoppedNotification:n}=qs;n&&yh.setTimeout(()=>n(t,e))}const Tz={closed:!0,next:_y,error:function Dz(t){throw t},complete:_y},Dy="function"==typeof Symbol&&Symbol.observable||"@@observable";function es(t){return t}function _M(t){return 0===t.length?es:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let We=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Sz(t){return t&&t instanceof wy||function Cz(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&gM(t)}(n)?n:new uc(n,r,i);return _h(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=vM(r))((i,s)=>{const o=new uc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Dy](){return this}pipe(...n){return _M(n)(this)}toPromise(n){return new(n=vM(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function vM(t){var e;return null!==(e=t??qs.Promise)&&void 0!==e?e:Promise}const Az=ac(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let bt=(()=>{class t extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new wM(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Az}next(n){_h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?pM:(this.currentObservers=null,s.push(n),new bn(()=>{this.currentObservers=null,ra(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new We;return n.source=this,n}}return t.create=(e,n)=>new wM(e,n),t})();class wM extends bt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:pM}}function EM(t){return Me(t?.lift)}function vt(t){return e=>{if(EM(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new Mz(t,e,n,r,i)}class Mz extends wy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(t,e){return vt((n,r)=>{let i=0;n.subscribe(ft(r,s=>{r.next(t.call(e,s,i++))}))})}function Cy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ts(t){return this instanceof ts?(this.v=t,this):new ts(t)}function bM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ay(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const CM=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function SM(t){return Me(t?.then)}function AM(t){return Me(t[Dy])}function MM(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function NM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xM=function Yz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function RM(t){return Me(t?.[xM])}function kM(t){return function TM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ts?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ts(n.read());if(i)return yield ts(void 0);yield yield ts(r)}}finally{n.releaseLock()}})}function PM(t){return Me(t?.getReader)}function $n(t){if(t instanceof We)return t;if(null!=t){if(AM(t))return function Zz(t){return new We(e=>{const n=t[Dy]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(CM(t))return function Xz(t){return new We(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(SM(t))return function Jz(t){return new We(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yM)})}(t);if(MM(t))return OM(t);if(RM(t))return function eq(t){return new We(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(PM(t))return function tq(t){return OM(kM(t))}(t)}throw NM(t)}function OM(t){return new We(e=>{(function nq(t,e){var n,r,i,s;return function IM(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bM(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function gi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Bt(t,e,n=1/0){return Me(e)?Bt((r,i)=>De((s,o)=>e(r,s,i,o))($n(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function rq(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;$n(n(g,l++)).subscribe(ft(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?gi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ia(t=1/0){return Bt(es,t)}const Vr=new We(t=>t.complete());function My(t){return t[t.length-1]}function FM(t){return Me(My(t))?t.pop():void 0}function cc(t){return function sq(t){return t&&Me(t.schedule)}(My(t))?t.pop():void 0}function wh(t,e=0){return vt((n,r)=>{n.subscribe(ft(r,i=>gi(r,t,()=>r.next(i),e),()=>gi(r,t,()=>r.complete(),e),i=>gi(r,t,()=>r.error(i),e)))})}function Eh(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LM(t,e){if(!t)throw new Error("Iterable cannot be null");return new We(n=>{gi(n,e,()=>{const r=t[Symbol.asyncIterator]();gi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ct(t,e){return e?function hq(t,e){if(null!=t){if(AM(t))return function aq(t,e){return $n(t).pipe(Eh(e),wh(e))}(t,e);if(CM(t))return function cq(t,e){return new We(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(SM(t))return function uq(t,e){return $n(t).pipe(Eh(e),wh(e))}(t,e);if(MM(t))return LM(t,e);if(RM(t))return function lq(t,e){return new We(n=>{let r;return gi(n,e,()=>{r=t[xM](),gi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(PM(t))return function dq(t,e){return LM(kM(t),e)}(t,e)}throw NM(t)}(t,e):$n(t)}class or extends bt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Y(...t){return Ct(t,cc(t))}function VM(t={}){const{connector:e=(()=>new bt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return vt((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Ny(p,i))}),v.subscribe(m),!o&&c>0&&(o=new uc({next:y=>v.next(y),error:y=>{d=!0,h(),a=Ny(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=Ny(f,r),v.complete()}}),$n(g).subscribe(o))})(s)}}function Ny(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new uc({next:()=>{r.unsubscribe(),t()}});return $n(e(...n)).subscribe(r)}function Br(t,e){return vt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ft(r,u=>{i?.unsubscribe();let c=0;const l=s++;$n(t(u,l)).subscribe(i=ft(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gq(t,e){return t===e}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function Ih(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xy(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const mq=Te({__forward_ref__:Te});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return wt(this())},t}function K(t){return Ry(t)?t():t}function Ry(t){return"function"==typeof t&&t.hasOwnProperty(mq)&&t.__forward_ref__===xe}function ky(t){return t&&!!t.\u0275providers}const BM="https://g.co/ng/security#xss";class I extends Error{constructor(e,n){super(function Dh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function Py(t,e){throw new I(-201,!1)}function ar(t,e){null==t&&function q(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Th(t){return UM(t,Ch)||UM(t,jM)}function UM(t,e){return t.hasOwnProperty(e)?t[e]:null}function bh(t){return t&&(t.hasOwnProperty(Oy)||t.hasOwnProperty(Tq))?t[Oy]:null}const Ch=Te({\u0275prov:Te}),Oy=Te({\u0275inj:Te}),jM=Te({ngInjectableDef:Te}),Tq=Te({ngInjectorDef:Te});var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{});let Fy;function Cn(t){const e=Fy;return Fy=t,e}function HM(t,e,n){const r=Th(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&oe.Optional?null:void 0!==e?e:void Py(wt(t))}const Re=globalThis,lc={},jy="__NG_DI_FLAG__",Sh="ngTempTokenPath",Sq=/\n/gm,zM="__source";let sa;function ns(t){const e=sa;return sa=t,e}function Nq(t,e=oe.Default){if(void 0===sa)throw new I(-203,!1);return null===sa?HM(t,void 0,e):sa.get(t,e&oe.Optional?null:void 0,e)}function O(t,e=oe.Default){return(function $M(){return Fy}()||Nq)(K(t),e)}function P(t,e=oe.Default){return O(t,Ah(e))}function Ah(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $y(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=xq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function dc(t,e){return t[jy]=e,t.prototype[jy]=e,t}function xq(t){return t[jy]}function mi(t){return{toString:t}.toString()}var Mh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mh||{}),ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ur||{});const Ur={},_e=[],Nh=Te({\u0275cmp:Te}),Hy=Te({\u0275dir:Te}),Gy=Te({\u0275pipe:Te}),WM=Te({\u0275mod:Te}),yi=Te({\u0275fac:Te}),hc=Te({__NG_ELEMENT_ID__:Te}),KM=Te({__NG_ENV_ID__:Te});function QM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function zy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ZM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function YM(t){return 3===t||4===t||6===t}function ZM(t){return 64===t.charCodeAt(0)}function fc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||XM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function XM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const JM="ng-template";function Pq(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==QM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function eN(t){return 4===t.type&&t.value!==JM}function Oq(t,e,n){return e===(4!==t.type||n?t.value:JM)}function Fq(t,e,n){let r=4;const i=t.attrs||[],s=function Bq(t){for(let e=0;e<t.length;e++)if(YM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Oq(t,u,n)||""===u&&1===e.length){if(Ir(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Pq(t.attrs,c,n)){if(Ir(r))return!1;o=!0}continue}const d=Lq(8&r?"class":u,i,eN(t),n);if(-1===d){if(Ir(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==QM(f,c,0)||2&r&&c!==h){if(Ir(r))return!1;o=!0}}}}else{if(!o&&!Ir(r)&&!Ir(u))return!1;if(o&&Ir(u))continue;o=!1,r=u|1&r}}return Ir(r)||o}function Ir(t){return 0==(1&t)}function Lq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Uq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tN(t,e,n=!1){for(let r=0;r<e.length;r++)if(Fq(t,e[r],n))return!0;return!1}function nN(t,e){return t?":not("+e.trim()+")":e}function $q(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ir(o)&&(e+=nN(s,i),i=""),r=o,s=s||!Ir(r);n++}return""!==i&&(e+=nN(s,i)),e}function pc(t){return mi(()=>{const e=iN(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null,id:""};sN(n);const r=t.dependencies;return n.directiveDefs=xh(r,!1),n.pipeDefs=xh(r,!0),n.id=function Yq(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function qq(t){return le(t)||Ut(t)}function Wq(t){return null!==t}function Sn(t){return mi(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rN(t,e){if(null==t)return Ur;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return mi(()=>{const e=iN(t);return sN(e),e})}function An(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function le(t){return t[Nh]||null}function Ut(t){return t[Hy]||null}function hn(t){return t[Gy]||null}function Gn(t,e){const n=t[WM]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function iN(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ur,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rN(t.inputs,e),outputs:rN(t.outputs)}}function sN(t){t.features?.forEach(e=>e(t))}function xh(t,e){if(!t)return null;const n=e?hn:qq;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Wq)}const Xe=0,k=1,ne=2,Ge=3,Dr=4,gc=5,Jt=6,aa=7,st=8,rs=9,ua=10,J=11,mc=12,oN=13,ca=14,ot=15,yc=16,la=17,jr=18,_c=19,aN=20,is=21,_i=22,vc=23,wc=24,ae=25,qy=1,uN=2,$r=7,da=9,jt=11;function Mn(t){return Array.isArray(t)&&"object"==typeof t[qy]}function fn(t){return Array.isArray(t)&&!0===t[qy]}function Wy(t){return 0!=(4&t.flags)}function Qs(t){return t.componentOffset>-1}function kh(t){return 1==(1&t.flags)}function Tr(t){return!!t.template}function Ky(t){return 0!=(512&t[ne])}function Ys(t,e){return t.hasOwnProperty(yi)?t[yi]:null}let $t=null,Ph=!1;function cr(t){const e=$t;return $t=t,e}const dN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fN(t){if(!Ic(t)||t.dirty){if(!t.producerMustRecompute(t)&&!mN(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function gN(t){t.dirty=!0,function pN(t){if(void 0===t.liveConsumerNode)return;const e=Ph;Ph=!0;try{for(const n of t.liveConsumerNode)n.dirty||gN(n)}finally{Ph=e}}(t),t.consumerMarkedDirty?.(t)}function Yy(t){return t&&(t.nextProducerIndex=0),cr(t)}function Zy(t,e){if(cr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ic(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Oh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mN(t){ha(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fN(n),r!==n.version))return!0}return!1}function yN(t){if(ha(t),Ic(t))for(let e=0;e<t.producerNode.length;e++)Oh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oh(t,e){if(function vN(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ha(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Oh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ha(i),i.producerIndexOfThis[r]=e}}function Ic(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ha(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let wN=null;function DN(t){const e=cr(null);try{return t()}finally{cr(e)}}const TN=()=>{},c3=(()=>({...dN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:TN}))();class l3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function lr(){return bN}function bN(t){return t.type.prototype.ngOnChanges&&(t.setInput=h3),d3}function d3(){const t=SN(this),e=t?.current;if(e){const n=t.previous;if(n===Ur)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function h3(t,e,n,r){const i=this.declaredInputs[n],s=SN(t)||function f3(t,e){return t[CN]=e}(t,{previous:Ur,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new l3(u&&u.currentValue,e,a===Ur),t[r]=e}lr.ngInherit=!0;const CN="__ngSimpleChanges__";function SN(t){return t[CN]||null}const Hr=function(t,e,n){};function ke(t){for(;Array.isArray(t);)t=t[Xe];return t}function Fh(t,e){return ke(e[t])}function Nn(t,e){return ke(e[t.index])}function NN(t,e){return t.data[e]}function fa(t,e){return t[e]}function zn(t,e){const n=e[t];return Mn(n)?n:n[Xe]}function os(t,e){return null==e?null:t[e]}function xN(t){t[la]=0}function v3(t){1024&t[ne]||(t[ne]|=1024,kN(t,1))}function RN(t){1024&t[ne]&&(t[ne]&=-1025,kN(t,-1))}function kN(t,e){let n=t[Ge];if(null===n)return;n[gc]+=e;let r=n;for(n=n[Ge];null!==n&&(1===e&&1===r[gc]||-1===e&&0===r[gc]);)n[gc]+=e,r=n,n=n[Ge]}const W={lFrame:GN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FN(){return W.bindingsEnabled}function T(){return W.lFrame.lView}function de(){return W.lFrame.tView}function Dc(t){return W.lFrame.contextLView=t,t[st]}function Tc(t){return W.lFrame.contextLView=null,t}function Ht(){let t=LN();for(;null!==t&&64===t.type;)t=t.parent;return t}function LN(){return W.lFrame.currentTNode}function Gr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function n_(){return W.lFrame.isParent}function r_(){W.lFrame.isParent=!1}function ga(){return W.lFrame.bindingIndex++}function wi(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function x3(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,i_(e)}function i_(t){W.lFrame.currentDirectiveIndex=t}function s_(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function o_(t){W.lFrame.currentQueryIndex=t}function k3(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Jt]:null}function $N(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&oe.Host||(i=k3(s),null===i||(s=s[ca],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=HN();return r.currentTNode=e,r.lView=t,!0}function a_(t){const e=HN(),n=t[k];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function HN(){const t=W.lFrame,e=null===t?null:t.child;return null===e?GN(t):e}function GN(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function zN(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qN=zN;function u_(){const t=zN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gn(){return W.lFrame.selectedIndex}function Zs(t){W.lFrame.selectedIndex=t}function Ke(){const t=W.lFrame;return NN(t.tView,t.selectedIndex)}let KN=!0;function Lh(){return KN}function as(t){KN=t}function Vh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Bh(t,e,n){QN(t,e,3,n)}function Uh(t,e,n,r){(3&t[ne])===n&&QN(t,e,n,r)}function c_(t,e){let n=t[ne];(3&n)===e&&(n&=8191,n+=1,t[ne]=n)}function QN(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[la]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[la]+=65536),(a<s||-1==s)&&(j3(t,n,e,u),t[la]=(4294901760&t[la])+u+2),u++}function YN(t,e){Hr(4,t,e);const n=cr(null);try{e.call(t)}finally{cr(n),Hr(5,t,e)}}function j3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>13<t[la]>>16&&(3&t[ne])===e&&(t[ne]+=8192,YN(a,s)):YN(a,s)}const ma=-1;class Cc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function d_(t){return t!==ma}function Sc(t){return 32767&t}function Ac(t,e){let n=function z3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ca],n--;return r}let h_=!0;function jh(t){const e=h_;return h_=t,e}const ZN=255,XN=5;let q3=0;const zr={};function $h(t,e){const n=JN(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,f_(r.data,t),f_(e,null),f_(r.blueprint,null));const i=Hh(t,e),s=t.injectorIndex;if(d_(i)){const o=Sc(i),a=Ac(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function f_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JN(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Hh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=ox(i),null===r)return ma;if(n++,i=i[ca],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ma}function p_(t,e,n){!function W3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hc)&&(r=n[hc]),null==r&&(r=n[hc]=q3++);const i=r&ZN;e.data[t+(i>>XN)]|=1<<i}(t,e,n)}function ex(t,e,n){if(n&oe.Optional||void 0!==t)return t;Py()}function tx(t,e,n,r){if(n&oe.Optional&&void 0===r&&(r=null),!(n&(oe.Self|oe.Host))){const i=t[rs],s=Cn(void 0);try{return i?i.get(e,r,n&oe.Optional):HM(e,r,n&oe.Optional)}finally{Cn(s)}}return ex(r,0,n)}function nx(t,e,n,r=oe.Default,i){if(null!==t){if(2048&e[ne]&&!(r&oe.Self)){const o=function J3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ne]&&!(512&o[ne]);){const a=rx(s,o,n,r|oe.Self,zr);if(a!==zr)return a;let u=s.parent;if(!u){const c=o[aN];if(c){const l=c.get(n,zr,r);if(l!==zr)return l}u=ox(o),o=o[ca]}s=u}return i}(t,e,n,r,zr);if(o!==zr)return o}const s=rx(t,e,n,r,zr);if(s!==zr)return s}return tx(e,n,r,i)}function rx(t,e,n,r,i){const s=function Y3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hc)?t[hc]:void 0;return"number"==typeof e?e>=0?e&ZN:X3:e}(n);if("function"==typeof s){if(!$N(e,t,r))return r&oe.Host?ex(i,0,r):tx(e,n,r,i);try{let o;if(o=s(r),null!=o||r&oe.Optional)return o;Py()}finally{qN()}}else if("number"==typeof s){let o=null,a=JN(t,e),u=ma,c=r&oe.Host?e[ot][Jt]:null;for((-1===a||r&oe.SkipSelf)&&(u=-1===a?Hh(t,e):e[a+8],u!==ma&&sx(r,!1)?(o=e[k],a=Sc(u),e=Ac(u,e)):a=-1);-1!==a;){const l=e[k];if(ix(s,a,l.data)){const d=Q3(a,e,n,o,r,c);if(d!==zr)return d}u=e[a+8],u!==ma&&sx(r,e[k].data[a+8]===c)&&ix(s,a,e)?(o=l,a=Sc(u),e=Ac(u,e)):a=-1}}return i}function Q3(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function Gh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Tr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Qs(a)&&h_:r!=o&&0!=(3&a.type),i&oe.Host&&s===a);return null!==l?Xs(e,o,l,a):zr}function Xs(t,e,n,r){let i=t[n];const s=e.data;if(function $3(t){return t instanceof Cc}(i)){const o=i;o.resolving&&function yq(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}(s[n]));const a=jh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Cn(o.injectImpl):null;$N(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function U3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=bN(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Cn(c),jh(a),o.resolving=!1,qN()}}return i}function ix(t,e,n){return!!(n[e+(t>>XN)]&1<<t)}function sx(t,e){return!(t&oe.Self||t&oe.Host&&e)}class mn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nx(this._tNode,this._lView,e,Ah(r),n)}}function X3(){return new mn(Ht(),T())}function Gt(t){return mi(()=>{const e=t.prototype.constructor,n=e[yi]||g_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[yi]||g_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function g_(t){return Ry(t)?()=>{const e=g_(K(t));return e&&e()}:Ys(t)}function ox(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Jt]:null}const _a="__parameters__";function wa(t,e,n){return mi(()=>{const r=function m_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(_a)?u[_a]:Object.defineProperty(u,_a,{value:[]})[_a];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ia(t,e){t.forEach(n=>Array.isArray(n)?Ia(n,e):e(n))}function ux(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qn(t,e,n){let r=Da(t,e);return r>=0?t[1|r]=n:(r=~r,function o6(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function y_(t,e){const n=Da(t,e);if(n>=0)return t[1|n]}function Da(t,e){return function cx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const xn=dc(wa("Optional"),8),Kh=dc(wa("SkipSelf"),4);function Jh(t){return 128==(128&t.flags)}var us=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(us||{});const S6=/^>|^->|<!--|-->|--!>|<!-$/g,A6=/(<|>)/g,M6="\u200b$1\u200b";const I_=new Map;let N6=0;const T_="__ngContext__";function en(t,e){Mn(e)?(t[T_]=e[_c],function R6(t){I_.set(t[_c],t)}(e)):t[T_]=e}let b_;function C_(t,e){return b_(t,e)}function Pc(t){const e=t[Ge];return fn(e)?e[Ge]:e}function Mx(t){return xx(t[mc])}function Nx(t){return xx(t[Dr])}function xx(t){for(;null!==t&&!fn(t);)t=t[Dr];return t}function Ca(t,e,n,r,i){if(null!=r){let s,o=!1;fn(r)?s=r:Mn(r)&&(o=!0,r=r[Xe]);const a=ke(r);0===t&&null!==n?null==i?Ox(e,n,a):Js(e,n,a,i||null,!0):1===t&&null!==n?Js(e,n,a,i||null,!0):2===t?function uf(t,e,n){const r=sf(t,e);r&&function Z6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function e9(t,e,n,r,i){const s=n[$r];s!==ke(n)&&Ca(e,t,r,s,i);for(let a=jt;a<n.length;a++){const u=n[a];Fc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function S_(t,e){return t.createComment(function Ex(t){return t.replace(S6,e=>e.replace(A6,M6))}(e))}function nf(t,e,n){return t.createElement(e,n)}function kx(t,e){const n=t[da],r=n.indexOf(e);RN(e),n.splice(r,1)}function rf(t,e){if(t.length<=jt)return;const n=jt+e,r=t[n];if(r){const i=r[yc];null!==i&&i!==t&&kx(i,r),e>0&&(t[n-1][Dr]=r[Dr]);const s=qh(t,jt+e);!function H6(t,e){Fc(t,e,e[J],2,null,null),e[Xe]=null,e[Jt]=null}(r[k],r);const o=s[jr];null!==o&&o.detachView(s[k]),r[Ge]=null,r[Dr]=null,r[ne]&=-129}return r}function A_(t,e){if(!(256&e[ne])){const n=e[J];e[vc]&&yN(e[vc]),e[wc]&&yN(e[wc]),n.destroyNode&&Fc(t,e,n,3,null,null),function q6(t){let e=t[mc];if(!e)return M_(t[k],t);for(;e;){let n=null;if(Mn(e))n=e[mc];else{const r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[Dr]&&e!==t;)Mn(e)&&M_(e[k],e),e=e[Ge];null===e&&(e=t),Mn(e)&&M_(e[k],e),n=e&&e[Dr]}e=n}}(e)}}function M_(t,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function Y6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Cc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Hr(4,a,u);try{u.call(a)}finally{Hr(5,a,u)}}else{Hr(4,i,s);try{s.call(i)}finally{Hr(5,i,s)}}}}}(t,e),function Q6(t,e){const n=t.cleanup,r=e[aa];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[aa]=null);const i=e[is];if(null!==i){e[is]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[J].destroy();const n=e[yc];if(null!==n&&fn(e[Ge])){n!==e[Ge]&&kx(n,e);const r=e[jr];null!==r&&r.detachView(t)}!function k6(t){I_.delete(t[_c])}(e)}}function N_(t,e,n){return function Px(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ur.None||s===ur.Emulated)return null}return Nn(r,n)}}(t,e.parent,n)}function Js(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ox(t,e,n){t.appendChild(e,n)}function Fx(t,e,n,r,i){null!==r?Js(t,e,n,r,i):Ox(t,e,n)}function sf(t,e){return t.parentNode(e)}let x_,cf,O_,lf,Bx=function Vx(t,e,n){return 40&t.type?Nn(t,n):null};function af(t,e,n,r){const i=N_(t,r,e),s=e[J],a=function Lx(t,e,n){return Bx(t,e,n)}(r.parent||e[Jt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Fx(s,i,n[u],a,!1);else Fx(s,i,n,a,!1);void 0!==x_&&x_(s,r,e,n,i)}function Oc(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return R_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Oc(t,r);{const i=t[e.index];return fn(i)?R_(-1,i):ke(i)}}if(32&n)return C_(e,t)()||ke(t[e.index]);{const r=jx(t,e);return null!==r?Array.isArray(r)?r[0]:Oc(Pc(t[ot]),r):Oc(t,e.next)}}return null}function jx(t,e){return null!==e?t[ot][Jt].projection[e.projection]:null}function R_(t,e){const n=jt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return Oc(r,i)}return e[$r]}function k_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&en(ke(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)k_(t,e,n.child,r,i,s,!1),Ca(e,t,i,a,s);else if(32&u){const c=C_(n,r);let l;for(;l=c();)Ca(e,t,i,l,s);Ca(e,t,i,a,s)}else 16&u?Hx(t,e,r,n,i,s):Ca(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Fc(t,e,n,r,i,s){k_(n,r,t.firstChild,e,i,s,!1)}function Hx(t,e,n,r,i,s){const o=n[ot],u=o[Jt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ca(e,t,i,u[c],s);else{let c=u;const l=o[Ge];Jh(r)&&(c.flags|=128),k_(t,e,c,l,i,s,!0)}}function Gx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&zy(t,e,r),null!==i&&Gx(t,e,i),null!==s&&function n9(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Sa(t){return function P_(){if(void 0===cf&&(cf=null,Re.trustedTypes))try{cf=Re.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cf}()?.createHTML(t)||t}function Aa(){if(void 0!==O_)return O_;if(typeof document<"u")return document;throw new I(210,!1)}function qx(t){return function F_(){if(void 0===lf&&(lf=null,Re.trustedTypes))try{lf=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lf}()?.createHTML(t)||t}class eo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${BM})`}}class a9 extends eo{getTypeName(){return"HTML"}}class u9 extends eo{getTypeName(){return"Style"}}class c9 extends eo{getTypeName(){return"Script"}}class l9 extends eo{getTypeName(){return"URL"}}class d9 extends eo{getTypeName(){return"ResourceURL"}}function Wn(t){return t instanceof eo?t.changingThisBreaksApplicationSecurity:t}function qr(t,e){const n=function h9(t){return t instanceof eo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${BM})`)}return n===e}class _9{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Sa(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class v9{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Sa(e),n}}const E9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function df(t){return(t=String(t)).match(E9)?t:"unsafe:"+t}function Ei(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Lc(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Yx=Ei("area,br,col,hr,img,wbr"),Zx=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xx=Ei("rp,rt"),L_=Lc(Yx,Lc(Zx,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lc(Xx,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lc(Xx,Zx)),V_=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jx=Lc(V_,Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),I9=Ei("script,style,template");class D9{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!L_.hasOwnProperty(n))return this.sanitizedSomething=!0,!I9.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Jx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;V_[a]&&(u=df(u)),this.buf.push(" ",o,'="',eR(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();L_.hasOwnProperty(n)&&!Yx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(eR(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const T9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b9=/([^\#-~ |!])/g;function eR(t){return t.replace(/&/g,"&amp;").replace(T9,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(b9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hf;function tR(t,e){let n=null;try{hf=hf||function Qx(t){const e=new v9(t);return function w9(){try{return!!(new window.DOMParser).parseFromString(Sa(""),"text/html")}catch{return!1}}()?new _9(e):e}(t);let r=e?String(e):"";n=hf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hf.getInertBodyElement(r)}while(r!==s);return Sa((new D9).sanitizeChildren(B_(n)||n))}finally{if(n){const r=B_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function B_(t){return"content"in t&&function C9(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Kn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kn||{});function U_(t){const e=function Vc(){const t=T();return t&&t[ua].sanitizer}();return e?qx(e.sanitize(Kn.HTML,t)||""):qr(t,"HTML")?qx(Wn(t)):tR(Aa(),X(t))}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bc=new V("ENVIRONMENT_INITIALIZER"),sR=new V("INJECTOR",-1),oR=new V("INJECTOR_DEF_TYPES");class j_{get(e,n=lc){if(n===lc){const r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}}function R9(...t){return{\u0275providers:aR(0,t),\u0275fromNgModule:!0}}function aR(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ia(e,o=>{const a=o;ff(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&uR(i,s),n}function uR(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];H_(i,s=>{e(s,r)})}}function ff(t,e,n,r){if(!(t=K(t)))return!1;let i=null,s=bh(t);const o=!s&&le(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=bh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)ff(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ia(s.imports,l=>{ff(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&uR(c,e)}if(!a){const c=Ys(i)||(()=>new i);e({provide:i,useFactory:c,deps:_e},i),e({provide:oR,useValue:i,multi:!0},i),e({provide:Bc,useValue:()=>O(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;H_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function H_(t,e){for(let n of t)ky(n)&&(n=n.\u0275providers),Array.isArray(n)?H_(n,e):e(n)}const k9=Te({provide:String,useValue:Te});function G_(t){return null!==t&&"object"==typeof t&&k9 in t}function to(t){return"function"==typeof t}const z_=new V("Set Injector scope."),pf={},O9={};let q_;function gf(){return void 0===q_&&(q_=new j_),q_}class hr{}class mf extends hr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K_(e,o=>this.processProvider(o)),this.records.set(sR,Ma(void 0,this)),i.has("environment")&&this.records.set(hr,Ma(void 0,this));const s=this.records.get(z_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(oR.multi,_e,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ns(this),r=Cn(void 0);try{return e()}finally{ns(n),Cn(r)}}get(e,n=lc,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KM))return e[KM](this);r=Ah(r);const s=ns(this),o=Cn(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function U9(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Th(e);u=c&&this.injectableDefInScope(c)?Ma(W_(e),pf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&oe.Self?gf():this.parent).get(e,n=r&oe.Optional&&n===lc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Sh]=a[Sh]||[]).unshift(wt(e)),s)throw a;return function Rq(t,e,n,r){const i=t[Sh];throw e[zM]&&i.unshift(e[zM]),t.message=function kq(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sq,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Sh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Cn(o),ns(s)}}resolveInjectorInitializers(){const e=ns(this),n=Cn(void 0);try{const i=this.get(Bc.multi,_e,oe.Self);for(const s of i)s()}finally{ns(e),Cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let n=to(e=K(e))?e:K(e&&e.provide);const r=function L9(t){return G_(t)?Ma(void 0,t.useValue):Ma(dR(t),pf)}(e);if(to(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ma(void 0,pf,!0),i.factory=()=>$y(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===pf&&(n.value=O9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function B9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=K(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function W_(t){const e=Th(t),n=null!==e?e.factory:Ys(t);if(null!==n)return n;if(t instanceof V)throw new I(204,!1);if(t instanceof Function)return function F9(t){const e=t.length;if(e>0)throw function xc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new I(204,!1);const n=function Dq(t){return t&&(t[Ch]||t[jM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new I(204,!1)}function dR(t,e,n){let r;if(to(t)){const i=K(t);return Ys(i)||W_(i)}if(G_(t))r=()=>K(t.useValue);else if(function lR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...$y(t.deps||[]));else if(function cR(t){return!(!t||!t.useExisting)}(t))r=()=>O(K(t.useExisting));else{const i=K(t&&(t.useClass||t.provide));if(!function V9(t){return!!t.deps}(t))return Ys(i)||W_(i);r=()=>new i(...$y(t.deps))}return r}function Ma(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function K_(t,e){for(const n of t)Array.isArray(n)?K_(n,e):n&&ky(n)?K_(n.\u0275providers,e):e(n)}const yf=new V("AppId",{providedIn:"root",factory:()=>j9}),j9="ng",hR=new V("Platform Initializer"),cs=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fR=new V("AnimationModuleType"),pR=new V("CSP nonce",{providedIn:"root",factory:()=>Aa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gR=(t,e,n)=>null;function nv(t,e,n=!1){return gR(t,e,n)}class Z9{}class _R{}class J9{resolveComponentFactory(e){throw function X9(t){const e=Error(`No component factory found for ${wt(t)}.`);return e.ngComponent=t,e}(e)}}let $c=(()=>{class t{static#e=this.NULL=new J9}return t})();function e5(){return Ra(Ht(),T())}function Ra(t,e){return new Qn(Nn(t,e))}let Qn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=e5}return t})();class Hc{}let Ii=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function n5(){const t=T(),n=zn(Ht().index,t);return(Mn(n)?n:t)[J]}()}return t})(),r5=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();class ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wR=new ka("16.2.7"),sv={};function TR(t,e=null,n=null,r){const i=bR(t,e,n,r);return i.resolveInjectorInitializers(),i}function bR(t,e=null,n=null,r,i=new Set){const s=[n||_e,R9(t)];return r=r||("object"==typeof t?void 0:wt(t)),new mf(s,e||gf(),r||null,i)}let St=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=lc;static#t=this.NULL=new j_;static create(n,r){if(Array.isArray(n))return TR({name:""},r,n,"");{const i=n.name??"";return TR({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=U({token:t,providedIn:"any",factory:()=>O(sR)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function av(t){return t.ngOriginalError}class Di{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&av(e);for(;n&&av(n);)n=av(n);return n||null}}function cv(t){return e=>{setTimeout(t,void 0,e)}}const Je=class l5 extends bt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=cv(s),i&&(i=cv(i)),o&&(o=cv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof bn&&e.add(a),a}};function SR(...t){}class pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function d5(){const t="function"==typeof Re.requestAnimationFrame;let e=Re[t?"requestAnimationFrame":"setTimeout"],n=Re[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function p5(t){const e=()=>{!function f5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Re,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dv(t),t.isCheckStableRunning=!0,lv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function m5(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return AR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),MR(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return AR(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),MR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,dv(t),lv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pe.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(pe.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,h5,SR,SR);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const h5={};function lv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function AR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MR(t){t._nesting--,lv(t)}class g5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const NR=new V("",{providedIn:"root",factory:xR});function xR(){const t=P(pe);let e=!0;return function fq(...t){const e=cc(t),n=function oq(t,e){return"number"==typeof My(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?$n(r[0]):ia(n)(Ct(r,e)):Vr}(new We(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new We(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{pe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(VM()))}function Ti(t){return t instanceof Function?t():t}let hv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Gc(t){for(;t;){t[ne]|=64;const e=Pc(t);if(Ky(t)&&!e)return t;t=e}return null}const FR=new V("",{providedIn:"root",factory:()=>!1});let Tf=null;function UR(t,e){return t[e]??HR()}function jR(t,e){const n=HR();n.producerNode?.length&&(t[e]=Tf,n.lView=t,Tf=$R())}const C5={...dN,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gc(t.lView)},lView:null};function $R(){return Object.create(C5)}function HR(){return Tf??=$R(),Tf}const te={};function Be(t){GR(de(),T(),gn()+t,!1)}function GR(t,e,n,r){if(!r)if(3==(3&e[ne])){const s=t.preOrderCheckHooks;null!==s&&Bh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Uh(e,s,0,n)}Zs(n)}function C(t,e=oe.Default){const n=T();return null===n?O(t,e):nx(Ht(),n,K(t),e)}function bf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Xe]=i,d[ne]=140|r,(null!==c||t&&2048&t[ne])&&(d[ne]|=2048),xN(d),d[Ge]=d[ca]=t,d[st]=n,d[ua]=o||t&&t[ua],d[J]=a||t&&t[J],d[rs]=u||t&&t[rs]||null,d[Jt]=s,d[_c]=function x6(){return N6++}(),d[_i]=l,d[aN]=c,d[ot]=2==e.type?t[ot]:d,d}function Fa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function fv(t,e,n,r,i){const s=LN(),o=n_(),u=t.data[e]=function P5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function pa(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function N3(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function bc(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Gr(s,!0),s}function zc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qR(t,e,n,r,i){const s=UR(e,vc),o=gn(),a=2&r;try{Zs(-1),a&&e.length>ae&&GR(t,e,ae,!1),Hr(a?2:0,i);const c=a?s:null,l=Yy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Zy(c,l)}}finally{a&&null===e[vc]&&jR(e,vc),Zs(o),Hr(a?3:1,i)}}function pv(t,e,n){if(Wy(e)){const r=cr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{cr(r)}}}function gv(t,e,n){FN()&&(function j5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Qs(n)&&function K5(t,e,n){const r=Nn(e,t),i=WR(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Cf(t,bf(t,i,null,o,r,e,null,t[ua].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$h(n,e),en(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Xs(e,t,a,n);en(c,e),null!==o&&Q5(0,a-i,c,u,0,o),Tr(u)&&(zn(n.index,e)[st]=Xs(e,t,a,n))}}(t,e,n,Nn(n,e)),64==(64&n.flags)&&XR(t,e,n))}function mv(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function WR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yv(t,e,n,r,i,s,o,a,u,c,l){const d=ae+r,h=d+i,f=function A5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let KR=t=>null;function QR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?YR(n,e,i,s):r.hasOwnProperty(i)&&YR(n,e,r[i],s)}return n}function YR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Yn(t,e,n,r,i,s,o,a){const u=Nn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Iv(t,n,l,r,i),Qs(e)&&function L5(t,e){const n=zn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function F5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function _v(t,e,n,r){if(FN()){const i=null===r?null:{"":-1},s=function H5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(tN(e,o.selectors,!1))if(r||(r=[]),Tr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),vv(t,e,a.length)}else r.unshift(o),vv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ZR(t,e,n,o,i,a),i&&function G5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=fc(n.mergedAttrs,n.attrs)}function ZR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)p_($h(n,e),t,r[c].type);!function q5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=zc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=fc(n.mergedAttrs,l.hostAttrs),W5(t,n,e,u,l),z5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function O5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=QR(d.inputs,l,u,h?h.inputs:null),c=QR(d.outputs,l,c,p);const g=null===u||null===o||eN(e)?null:Y5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function XR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function R3(){return W.lFrame.currentDirectiveIndex}();try{Zs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];i_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&$5(u,c)}}finally{Zs(-1),i_(o)}}function $5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function vv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function z5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tr(e)&&(n[""]=t)}}function W5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ys(i.type)),o=new Cc(s,Tr(i),C);t.blueprint[r]=o,n[r]=o,function B5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function U5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,zc(t,n,i.hostVars,te),i)}function Wr(t,e,n,r,i,s){const o=Nn(t,e);!function wv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?X(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[J],o,s,t.value,n,r,i)}function Q5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)JR(r,n,o[a++],o[a++],o[a++])}function JR(t,e,n,r,i){const s=cr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{cr(s)}}function Y5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ek(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function tk(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];o_(n[r]),o.contentQueries(2,e[s],s)}}}function Cf(t,e){return t[mc]?t[oN][Dr]=e:t[mc]=e,t[oN]=e,e}function Ev(t,e,n){o_(0);const r=cr(null);try{e(t,n)}finally{cr(r)}}function ik(t,e,n){return(null===t||Tr(t))&&(n=function t_(t){for(;Array.isArray(t);){if("object"==typeof t[qy])return t;t=t[Xe]}return null}(n[e.index])),n[J]}function sk(t,e){const n=t[rs],r=n?n.get(Di,null):null;r&&r.handleError(e)}function Iv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];JR(t.data[o],e[o],r,a,i)}}function Z5(t,e){const n=zn(e,t),r=n[k];!function X5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[_i]&&(n[_i]=nv(i,n[rs])),Dv(r,n,n[st])}function Dv(t,e,n){a_(e);try{const r=t.viewQuery;null!==r&&Ev(1,r,n);const i=t.template;null!==i&&qR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tk(t,e),t.staticViewQueries&&Ev(2,t.viewQuery,n);const s=t.components;null!==s&&function J5(t,e){for(let n=0;n<e.length;n++)Z5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,u_()}}let ok=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function u3(t,e,n){const r=Object.create(c3);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>gN(r),run:()=>{if(r.dirty=!1,r.hasRun&&!mN(r))return;r.hasRun=!0;const o=Yy(r);try{r.cleanupFn(),r.cleanupFn=TN,r.fn(i)}finally{Zy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=xy(i,a):2==s&&(r=xy(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function qc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(ke(s)),fn(s)&&ak(s,r);const o=n.type;if(8&o)qc(t,e,n.child,r);else if(32&o){const a=C_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=jx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Pc(e[ot]);qc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ak(t,e){for(let n=jt;n<t.length;n++){const r=t[n],i=r[k].firstChild;null!==i&&qc(r[k],r,i,e)}t[$r]!==t[Xe]&&e.push(t[$r])}function Af(t,e,n,r=!0){const i=e[ua],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{uk(t,e,t.template,n)}catch(u){throw r&&sk(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function uk(t,e,n,r){const i=e[ne];if(256!=(256&i)){e[ua].effectManager?.flush(),a_(e);try{xN(e),function BN(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&qR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Bh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Uh(e,c,0,null),c_(e,0)}if(function nW(t){for(let e=Mx(t);null!==e;e=Nx(e)){if(!e[uN])continue;const n=e[da];for(let r=0;r<n.length;r++){v3(n[r])}}}(e),ck(e,2),null!==t.contentQueries&&tk(t,e),o){const c=t.contentCheckHooks;null!==c&&Bh(e,c)}else{const c=t.contentHooks;null!==c&&Uh(e,c,1),c_(e,1)}!function S5(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=UR(e,wc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Zs(~s);else{const o=s,a=n[++i],u=n[++i];x3(a,o),r.dirty=!1;const c=Yy(r);try{u(2,e[o])}finally{Zy(r,c)}}}}finally{null===e[wc]&&jR(e,wc),Zs(-1)}}(t,e);const a=t.components;null!==a&&dk(e,a,0);const u=t.viewQuery;if(null!==u&&Ev(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Bh(e,c)}else{const c=t.viewHooks;null!==c&&Uh(e,c,2),c_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ne]&=-73,RN(e)}finally{u_()}}}function ck(t,e){for(let n=Mx(t);null!==n;n=Nx(n))for(let r=jt;r<n.length;r++)lk(n[r],e)}function rW(t,e,n){lk(zn(e,t),n)}function lk(t,e){if(!function y3(t){return 128==(128&t[ne])}(t))return;const n=t[k],r=t[ne];if(80&r&&0===e||1024&r||2===e)uk(n,t,n.template,t[st]);else if(t[gc]>0){ck(t,1);const i=n.components;null!==i&&dk(t,i,1)}}function dk(t,e,n){for(let r=0;r<e.length;r++)rW(t,e[r],n)}class Wc{get rootNodes(){const e=this._lView,n=e[k];return qc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(fn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(rf(e,r),qh(n,r))}this._attachedToViewContainer=!1}A_(this._lView[k],this._lView)}onDestroy(e){!function PN(t,e){if(256==(256&t[ne]))throw new I(911,!1);null===t[is]&&(t[is]=[]),t[is].push(e)}(this._lView,e)}markForCheck(){Gc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){Af(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function z6(t,e){Fc(t,e,e[J],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class iW extends Wc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Af(e[k],e,e[st],!1)}checkNoChanges(){}get context(){return null}}class hk extends $c{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=le(e);return new Kc(n,this.ngModule)}}function fk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class oW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ah(r);const i=this.injector.get(e,sv,r);return i!==sv||n===sv?i:this.parentInjector.get(e,n,r)}}class Kc extends _R{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=fk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Hq(t){return t.map($q).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new oW(e,s):e,a=o.get(Hc,null);if(null===a)throw new I(407,!1);const d={rendererFactory:a,sanitizer:o.get(r5,null),effectManager:o.get(ok,null),afterRenderEventManager:o.get(hv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function M5(t,e,n,r){const s=r.get(FR,!1)||n===ur.ShadowDom,o=t.selectRootElement(e,s);return function N5(t){KR(t)}(o),o}(h,r,this.componentDef.encapsulation,o):nf(h,f,function sW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=nv(p,o,!0));const D=yv(0,null,null,1,0,null,null,null,null,null,null),A=bf(null,D,null,v,null,null,d,h,o,null,y);let L,H;a_(A);try{const re=this.componentDef;let Ve,_t=null;re.findHostDirectiveDefs?(Ve=[],_t=new Map,re.findHostDirectiveDefs(re,Ve,_t),Ve.push(re)):Ve=[re];const ir=function uW(t,e){const n=t[k],r=ae;return t[r]=e,Fa(n,r,2,"#host",null)}(A,p),my=function cW(t,e,n,r,i,s,o){const a=i[k];!function lW(t,e,n,r){for(const i of t)e.mergedAttrs=fc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sf(e,e.mergedAttrs,!0),null!==n&&zx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=nv(e,i[rs]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=bf(i,WR(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&vv(a,t,r.length-1),Cf(i,d),i[t.index]=d}(ir,p,re,Ve,A,d,h);H=NN(D,ae),p&&function hW(t,e,n,r){if(r)zy(t,n,["ng-version",wR.full]);else{const{attrs:i,classes:s}=function Gq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ir(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&zy(t,n,i),s&&s.length>0&&Gx(t,n,s.join(" "))}}(h,re,p,r),void 0!==n&&function fW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(H,this.ngContentSelectors,n),L=function dW(t,e,n,r,i,s){const o=Ht(),a=i[k],u=Nn(o,i);ZR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)en(Xs(i,a,o.directiveStart+l,o),i);XR(a,i,o),u&&en(u,i);const c=Xs(i,a,o.directiveStart+o.componentOffset,o);if(t[st]=i[st]=c,null!==s)for(const l of s)l(c,e);return pv(a,o,t),c}(my,re,Ve,_t,A,[pW]),Dv(D,A,null)}finally{u_()}return new aW(this.componentType,L,Ra(H,A),A,H)}}class aW extends Z9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new iW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Iv(s[k],s,i,e,n),this.previousInputValues.set(e,n),Gc(zn(this._tNode.index,s))}}get injector(){return new mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function pW(){const t=Ht();Vh(T()[k],t)}function be(t){let e=function pk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Mf(t.inputs),o.inputTransforms=Mf(t.inputTransforms),o.declaredInputs=Mf(t.declaredInputs),o.outputs=Mf(t.outputs);const a=i.hostBindings;a&&_W(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&mW(t,u),c&&yW(t,c),Ih(t.inputs,i.inputs),Ih(t.declaredInputs,i.declaredInputs),Ih(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ih(o.inputTransforms,i.inputTransforms)),Tr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===be&&(n=!1)}}e=Object.getPrototypeOf(e)}!function gW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fc(i.hostAttrs,n=fc(n,i.hostAttrs))}}(r)}function Mf(t){return t===Ur?{}:t===_e?[]:t}function mW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function yW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function _W(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Nf(t){return!!function Tv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function kn(t,e,n,r){const i=T();return tn(i,ga(),e)&&(de(),Wr(Ke(),i,t,e,n,r)),kn}function Pn(t,e,n,r,i,s,o,a){const u=T(),c=de(),l=t+ae,d=c.firstCreatePass?function HW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Fa(e,t,4,o||null,os(c,a));_v(e,n,l,os(c,u)),Vh(e,l);const d=l.tView=yv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Gr(d,!1);const h=xk(c,u,d,t);Lh()&&af(c,u,h,d),en(h,u),Cf(u,u[l]=ek(h,u,h,d)),kh(d)&&gv(c,u,d),null!=o&&mv(u,d,a)}let xk=function Rk(t,e,n,r){return as(!0),e[J].createComment("")};function Nv(t){return fa(function M3(){return W.lFrame.contextLView}(),ae+t)}function At(t,e,n){const r=T();return tn(r,ga(),e)&&Yn(de(),Ke(),r,t,e,r[J],n,!1),At}function xv(t,e,n,r,i){const o=i?"class":"style";Iv(t,n,e.inputs[o],o,r)}function ve(t,e,n,r){const i=T(),s=de(),o=ae+t,a=i[J],u=s.firstCreatePass?function WW(t,e,n,r,i,s){const o=e.consts,u=Fa(e,t,2,r,os(o,i));return _v(e,n,u,os(o,s)),null!==u.attrs&&Sf(u,u.attrs,!1),null!==u.mergedAttrs&&Sf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=kk(s,i,u,a,e,t);i[o]=c;const l=kh(u);return Gr(u,!0),zx(a,c,u),32!=(32&u.flags)&&Lh()&&af(s,i,c,u),0===function E3(){return W.lFrame.elementDepthCount}()&&en(c,i),function I3(){W.lFrame.elementDepthCount++}(),l&&(gv(s,i,u),pv(s,u,i)),null!==r&&mv(i,u),ve}function ge(){let t=Ht();n_()?r_():(t=t.parent,Gr(t,!1));const e=t;(function T3(t){return W.skipHydrationRootTNode===t})(e)&&function A3(){W.skipHydrationRootTNode=null}(),function D3(){W.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(Vh(n,t),Wy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function H3(t){return 0!=(8&t.flags)}(e)&&xv(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function G3(t){return 0!=(16&t.flags)}(e)&&xv(n,e,T(),e.stylesWithoutHost,!1),ge}function br(t,e,n,r){return ve(t,e,n,r),ge(),br}let kk=(t,e,n,r,i,s)=>(as(!0),nf(r,i,function WN(){return W.lFrame.currentNamespace}()));function Jc(t,e,n){const r=T(),i=de(),s=t+ae,o=i.firstCreatePass?function YW(t,e,n,r,i){const s=e.consts,o=os(s,r),a=Fa(e,t,8,"ng-container",o);return null!==o&&Sf(a,o,!0),_v(e,n,a,os(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Gr(o,!0);const a=Ok(i,r,o,t);return r[s]=a,Lh()&&af(i,r,a,o),en(a,r),kh(o)&&(gv(i,r,o),pv(i,o,r)),null!=n&&mv(r,o),Jc}function el(){let t=Ht();const e=de();return n_()?r_():(t=t.parent,Gr(t,!1)),e.firstCreatePass&&(Vh(e,t),Wy(t)&&e.queries.elementEnd(t)),el}let Ok=(t,e,n,r)=>(as(!0),S_(e[J],""));function tl(){return T()}function nl(t){return!!t&&"function"==typeof t.then}function Fk(t){return!!t&&"function"==typeof t.subscribe}function Mt(t,e,n,r){const i=T(),s=de(),o=Ht();return function Vk(t,e,n,r,i,s,o){const a=kh(r),c=t.firstCreatePass&&function rk(t){return t.cleanup||(t.cleanup=[])}(t),l=e[st],d=function nk(t){return t[aa]||(t[aa]=[])}(e);let h=!0;if(3&r.type||o){const g=Nn(r,e),m=o?o(g):g,v=d.length,y=o?A=>o(ke(A[r.index])):r.index;let D=null;if(!o&&a&&(D=function JW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[aa],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,h=!1;else{s=Uk(r,e,l,s,!1);const A=n.listen(m,i,s);d.push(s,A),c&&c.push(i,y,v,v+1)}}else s=Uk(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const L=e[p[m]][p[m+1]].subscribe(s),H=d.length;d.push(s,L),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[J],o,t,e,r),Mt}function Bk(t,e,n,r){try{return Hr(6,e,n),!1!==n(r)}catch(i){return sk(t,i),!1}finally{Hr(7,e,n)}}function Uk(t,e,n,r,i){return function s(o){if(o===Function)return r;Gc(t.componentOffset>-1?zn(t.index,e):e);let u=Bk(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Bk(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function On(t=1){return function P3(t){return(W.lFrame.contextLView=function O3(t,e){for(;t>0;)e=e[ca],t--;return e}(t,W.lFrame.contextLView))[st]}(t)}function Of(t,e){return t<<17|e<<2}function ls(t){return t>>17&32767}function kv(t){return 2|t}function ro(t){return(131068&t)>>2}function Pv(t,e){return-131069&t|e<<2}function Ov(t){return 1|t}function Yk(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ls(s):ro(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];u7(t[a],e)&&(u=!0,t[a+1]=r?Ov(l):kv(l)),a=r?ls(l):ro(l)}u&&(t[n+1]=r?kv(s):Ov(s))}function u7(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Da(t,e)>=0}const It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zk(t){return t.substring(It.key,It.keyEnd)}function Xk(t,e){const n=It.textEnd;return n===e?-1:(e=It.keyEnd=function h7(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,It.key=e,n),qa(t,e,n))}function qa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Wa(t,e,n){return Cr(t,e,n,!1),Wa}function Ff(t,e){return Cr(t,e,null,!0),Ff}function Ci(t){!function Sr(t,e,n,r){const i=de(),s=wi(2);i.firstUpdatePass&&i1(i,null,s,r);const o=T();if(n!==te&&tn(o,s,n)){const a=i.data[gn()];if(u1(a,r)&&!r1(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=xy(u,n||"")),xv(i,a,o,n,r)}else!function I7(t,e,n,r,i,s,o,a){i===te&&(i=_e);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&o1(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[J],o[s+1],o[s+1]=function w7(t,e,n){if(null==n||""===n)return _e;const r=[],i=Wn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(E7,Yr,t,!0)}function Yr(t,e){for(let n=function l7(t){return function e1(t){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=t.length}(t),Xk(t,qa(t,0,It.textEnd))}(e);n>=0;n=Xk(e,n))qn(t,Zk(e),!0)}function Cr(t,e,n,r){const i=T(),s=de(),o=wi(2);s.firstUpdatePass&&i1(s,t,o,r),e!==te&&tn(i,o,e)&&o1(s,s.data[gn()],i,i[J],t,i[o+1]=function D7(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wt(Wn(t)))),t}(e,n),r,o)}function r1(t,e){return e>=t.expandoStartIndex}function i1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[gn()],o=r1(t,n);u1(s,r)&&null===e&&!o&&(e=!1),e=function m7(t,e,n,r){const i=s_(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=rl(n=Fv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Fv(i,t,e,n,r),null===s){let u=function y7(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ro(r))return t[ls(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Fv(null,t,e,u[1],r),u=rl(u,e.attrs,r),function _7(t,e,n,r){t[ls(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function v7(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=rl(r,t[s].hostAttrs,n);return rl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function o7(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ls(o),u=ro(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Da(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ls(t[a+1]);t[r+1]=Of(h,a),0!==h&&(t[h+1]=Pv(t[h+1],r)),t[a+1]=function i7(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Of(a,0),0!==a&&(t[a+1]=Pv(t[a+1],r)),a=r;else t[r+1]=Of(u,0),0===a?a=r:t[u+1]=Pv(t[u+1],r),u=r;c&&(t[r+1]=kv(t[r+1])),Yk(t,l,r,!0),Yk(t,l,r,!1),function a7(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Da(s,e)>=0&&(n[r+1]=Ov(n[r+1]))}(e,l,t,r,s),o=Of(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Fv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=rl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function rl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qn(t,o,!!n||e[++s]))}return void 0===t?null:t}function E7(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&qn(t,r,n)}function o1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function s7(t){return 1==(1&t)}(c)?a1(u,e,n,i,ro(c),o):void 0;Lf(l)||(Lf(s)||function r7(t){return 2==(2&t)}(c)&&(s=a1(u,null,n,i,a,o)),function t9(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:us.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=us.Important),t.setStyle(n,r,i,s))}}(r,o,Fh(gn(),n),i,s))}function a1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?_e:void 0);let f=d?y_(h,r):l===r?h:void 0;if(c&&!Lf(f)&&(f=y_(u,r)),Lf(f)&&(a=f,o))return a;const p=t[i+1];i=o?ls(p):ro(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=y_(u,r))}return a}function Lf(t){return void 0!==t}function u1(t,e){return 0!=(t.flags&(e?8:16))}function Pe(t,e=""){const n=T(),r=de(),i=t+ae,s=r.firstCreatePass?Fa(r,i,1,e,null):r.data[i],o=c1(r,n,s,e,t);n[i]=o,Lh()&&af(r,n,o,s),Gr(s,!1)}let c1=(t,e,n,r,i)=>(as(!0),function tf(t,e){return t.createText(e)}(e[J],r));function Ka(t){return Si("",t,""),Ka}function Si(t,e,n){const r=T(),i=function Va(t,e,n,r){return tn(t,ga(),n)?e+X(n)+r:te}(r,t,e,n);return i!==te&&function bi(t,e,n){const r=Fh(e,t);!function Rx(t,e,n){t.setValue(e,n)}(t[J],r,n)}(r,gn(),i),Si}function Lv(t,e,n){const r=T();if(tn(r,ga(),e)){const s=de(),o=Ke();Yn(s,o,r,t,e,ik(s_(s.data),o,r),n,!0)}return Lv}const Ya="en-US";let N1=Ya;function Uv(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let s=0;s<t.length;s++)Uv(t[s],e,n,r,i);else{const s=de(),o=T(),a=Ht();let u=to(t)?t:K(t.provide);const c=dR(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(to(t)||!t.multi){const f=new Cc(c,i,C),p=$v(u,e,i?l:l+h,d);-1===p?(p_($h(a,o),s,u),jv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=$v(u,e,l+h,d),p=$v(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){p_($h(a,o),s,u);const v=function G8(t,e,n,r,i){const s=new Cc(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,tP(s,i,r&&!n),s}(i?H8:$8,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),jv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else jv(s,t,f>-1?f:p,tP(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function jv(t,e,n,r){const i=to(e),s=function P9(t){return!!t.useClass}(e);if(i||s){const u=(s?K(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function tP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $v(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $8(t,e,n,r){return Hv(this.multi,[])}function H8(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),Hv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Hv(i,s);return s}function Hv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function j8(t,e,n){const r=de();if(r.firstCreatePass){const i=Tr(t);Uv(n,r.data,r.blueprint,i,!0),Uv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class so{}class nP{}class Gv extends so{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hk(this);const i=Gn(e);this._bootstrapComponents=Ti(i.bootstrap),this._r3Injector=bR(e,n,[{provide:so,useValue:this},{provide:$c,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zv extends nP{constructor(e){super(),this.moduleType=e}create(e){return new Gv(this.moduleType,e,[])}}class rP extends so{constructor(e){super(),this.componentFactoryResolver=new hk(this),this.instance=null;const n=new mf([...e.providers,{provide:so,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],e.parent||gf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qv(t,e,n=null){return new rP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let W8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=aR(0,n.type),i=r.length>0?qv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(O(hr))})}return t})();function $f(t){t.getStandaloneInjector=e=>e.get(W8).getOrCreateStandaloneInjector(t)}function lP(t,e,n,r,i,s){const o=e+n;return tn(t,o,i)?function Kr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function cl(t,e){const n=t[e];return n===te?void 0:n}(t,o+1)}function mP(t,e,n){const r=t+ae,i=T(),s=fa(i,r);return function ll(t,e){return t[k].data[e].pure}(i,r)?lP(i,function pn(){const t=W.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function vK(t,e,n,r=!0){const i=e[k];if(function W6(t,e,n,r){const i=jt+r,s=n.length;r>0&&(n[i-1][Dr]=e),r<s-jt?(e[Dr]=n[i],ux(n,jt+r,e)):(n.push(e),e[Dr]=null),e[Ge]=n;const o=e[yc];null!==o&&n!==o&&function K6(t,e){const n=t[da];e[ot]!==e[Ge][Ge][ot]&&(t[uN]=!0),null===n?t[da]=[e]:n.push(e)}(o,e);const a=e[jr];null!==a&&a.insertView(t),e[ne]|=128}(i,e,t,n),r){const s=R_(n,t),o=e[J],a=sf(o,t[$r]);null!==a&&function G6(t,e,n,r,i,s){r[Xe]=i,r[Jt]=e,Fc(t,r,n,1,i,s)}(i,t[Jt],o,e,a,s)}}Symbol;let Ai=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=IK}return t})();const wK=Ai,EK=class extends wK{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function _K(t,e,n,r){const i=e.tView,a=bf(t,i,n,4096&t[ne]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[yc]=t[e.index];const c=t[jr];return null!==c&&(a[jr]=c.createEmbeddedView(i)),Dv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Wc(i)}};function IK(){return function Hf(t,e){return 4&t.type?new EK(e,t,Ra(t,e)):null}(Ht(),T())}let Ar=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AK}return t})();function AK(){return function DP(t,e){let n;const r=e[t.index];return fn(r)?n=r:(n=ek(r,e,null,t),e[t.index]=n,Cf(e,n)),TP(n,e,t,r),new EP(n,t,e)}(Ht(),T())}const MK=Ar,EP=class extends MK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new mn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hh(this._hostTNode,this._hostLView);if(d_(e)){const n=Ac(e,this._hostLView),r=Sc(e);return new mn(n[k].data[r+8],n)}return new mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=IP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Nc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Kc(le(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(hr,null);m&&(s=m)}le(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function _3(t){return fn(t[Ge])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ge],l=new EP(c,c[Jt],c[Ge]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return vK(a,i,o,!r),e.attachToViewContainerRef(),ux(Qv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=IP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=rf(this._lContainer,n);r&&(qh(Qv(this._lContainer),n),A_(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=rf(this._lContainer,n);return r&&null!=qh(Qv(this._lContainer),n)?new Wc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function IP(t){return t[8]}function Qv(t){return t[8]||(t[8]=[])}let TP=function bP(t,e,n,r){if(t[$r])return;let i;i=8&n.type?ke(r):function NK(t,e){const n=t[J],r=n.createComment(""),i=Nn(e,t);return Js(n,sf(n,i),r,function X6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[$r]=i};const ow=new V("Application Initializer");let aw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(ow,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(nl(s))n.push(s);else if(Fk(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YP=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Mi=new V("LocaleId",{providedIn:"root",factory:()=>P(Mi,oe.Optional|oe.SkipSelf)||function aQ(){return typeof $localize<"u"&&$localize.locale||Ya}()});let ZP=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new or(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class lQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let XP=(()=>{class t{compileModuleSync(n){return new zv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ti(Gn(n).declarations).reduce((o,a)=>{const u=le(a);return u&&o.push(new Kc(u)),o},[]);return new lQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const nO=new V(""),Wf=new V("");let hw,lw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hw||(function NQ(t){hw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(O(pe),O(dw),O(Wf))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),dw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return hw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ds=null;const rO=new V("AllowMultipleToken"),fw=new V("PlatformDestroyListeners"),pw=new V("appBootstrapListener");class sO{constructor(e,n){this.name=e,this.token=n}}function aO(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=gw();if(!o||o.injector.get(rO,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function kQ(t){if(ds&&!ds.get(rO,!1))throw new I(400,!1);(function iO(){!function r3(t){wN=t}(()=>{throw new I(600,!1)})})(),ds=t;const e=t.get(cO);(function oO(t){t.get(hR,null)?.forEach(n=>n())})(t)}(function uO(t=[],e){return St.create({name:e,providers:[{provide:z_,useValue:"platform"},{provide:fw,useValue:new Set([()=>ds=null])},...t]})}(a,r))}return function OQ(t){const e=gw();if(!e)throw new I(401,!1);return e}()}}function gw(){return ds?.get(cO)??null}let cO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function FQ(t="zone.js",e){return"noop"===t?new g5:"zone.js"===t?new pe(e):t}(r?.ngZone,function lO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function q8(t,e,n){return new Gv(t,e,n)}(n.moduleType,this.injector,function gO(t){return[{provide:pe,useFactory:t},{provide:Bc,multi:!0,useFactory:()=>{const e=P(VQ,{optional:!0});return()=>e.initialize()}},{provide:pO,useFactory:LQ},{provide:NR,useFactory:xR}]}(()=>i)),o=s.injector.get(Di,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Kf(this._modules,s),a.unsubscribe()})}),function dO(t,e,n){try{const r=n();return nl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(aw);return a.runInitializers(),a.donePromise.then(()=>(function x1(t){ar(t,"Expected localeId to be defined"),"string"==typeof t&&(N1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Mi,Ya)||Ya),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=hO({},r);return function xQ(t,e,n){const r=new zv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ni);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new I(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(fw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(O(St))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function hO(t,e){return Array.isArray(e)?e.reduce(hO,t):{...t,...e}}let Ni=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(pO),this.zoneIsStable=P(NR),this.componentTypes=[],this.components=[],this.isStable=P(ZP).hasPendingTasks.pipe(Br(n=>n?Y(!1):this.zoneIsStable),function pq(t,e=es){return t=t??gq,vt((n,r)=>{let i,s=!0;n.subscribe(ft(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),VM()),this._injector=P(hr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof _R;if(!this._injector.get(aw).done)throw!i&&function oa(t){const e=le(t)||Ut(t)||hn(t);return null!==e&&e.standalone}(n),new I(405,!1);let o;o=i?n:this._injector.get($c).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function RQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(so),c=o.create(St.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(nO,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Kf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(pw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pO=new V("",{providedIn:"root",factory:()=>P(Di).handleError.bind(void 0)});function LQ(){const t=P(pe),e=P(Di);return n=>t.runOutsideAngular(()=>e.handleError(n))}let VQ=(()=>{class t{constructor(){this.zone=P(pe),this.applicationRef=P(Ni)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Qf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=UQ}return t})();function UQ(t){return function jQ(t,e,n){if(Qs(t)&&!n){const r=zn(t.index,e);return new Wc(r,r)}return 47&t.type?new Wc(e[ot],e):null}(Ht(),T(),16==(16&t))}class vO{constructor(){}supports(e){return Nf(e)}create(e){return new WQ(e)}}const qQ=(t,e)=>e;class WQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qQ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<EO(r,i,s)?n:r,a=EO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Nf(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function bW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new KQ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new wO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class KQ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class wO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new QQ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function DO(){return new Xf([new vO])}let Xf=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:DO});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||DO()),deps:[[t,new Kh,new xn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new I(901,!1)}}return t})();const eY=aO(null,"core",[]);let tY=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(O(Ni))};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({})}return t})();function Ja(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Ew=null;function hs(){return Ew}class gY{}const Nt=new V("DocumentToken");let Iw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(yY)},providedIn:"platform"})}return t})();const mY=new V("Location Initialized");let yY=(()=>{class t extends Iw{constructor(){super(),this._doc=P(Nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hs().getBaseHref(this._doc)}onPopState(n){const r=hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Dw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function kO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xi(t){return t&&"?"!==t[0]?"?"+t:t}let ao=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(OO)},providedIn:"root"})}return t})();const PO=new V("appBaseHref");let OO=(()=>{class t extends ao{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+xi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+xi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Iw),O(PO,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_Y=(()=>{class t extends ao{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Dw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+xi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+xi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Iw),O(PO,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Tw=(()=>{class t{constructor(n){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function EY(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(kO(FO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xi(r))}normalize(n){return t.stripTrailingSlash(function wY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,FO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=xi;static#t=this.joinWithSlash=Dw;static#n=this.stripTrailingSlash=kO;static#r=this.\u0275fac=function(r){return new(r||t)(O(ao))};static#i=this.\u0275prov=U({token:t,factory:function(){return function vY(){return new Tw(O(ao))}()},providedIn:"root"})}return t})();function FO(t){return t.replace(/\/index.html$/,"")}class uZ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let WO=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new uZ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),KO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{KO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ar),C(Ai),C(Xf))};static#t=this.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function KO(t,e){t.context.$implicit=e.item}let Ow=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new cZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){QO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){QO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ar),C(Ai))};static#t=this.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class cZ{constructor(){this.$implicit=null,this.ngIf=null}}function QO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class hZ{createSubscription(e,n){return DN(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){DN(()=>e.unsubscribe())}}class fZ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const pZ=new fZ,gZ=new hZ;let ZO=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(nl(n))return pZ;if(Fk(n))return gZ;throw function Nr(t,e){return new I(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(C(Qf,16))};static#t=this.\u0275pipe=An({name:"async",type:t,pure:!1,standalone:!0})}return t})(),kZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({})}return t})();function eF(t){return"server"===t}let LZ=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new VZ(O(Nt),window)})}return t})();class VZ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function BZ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cX extends gY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $w extends cX{static makeCurrent(){!function pY(t){Ew||(Ew=t)}(new $w)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function lX(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}();return null==n?null:function dX(t){hp=hp||document.createElement("a"),hp.setAttribute("href",t);const e=hp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function sZ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let hp,yl=null,fX=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const Hw=new V("EventManagerPlugins");let sF=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(O(Hw),O(pe))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class oF{constructor(e){this._doc=e}}const Gw="ng-app-id";let aF=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eF(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Gw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Gw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Gw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Nt),O(yf),O(pR,8),O(cs))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const zw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qw=/%COMP%/g,yX=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cF(t,e){return e.map(n=>n.replace(qw,t))}let Ww=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=eF(a),this.defaultRenderer=new Kw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ur.ShadowDom&&(r={...r,encapsulation:ur.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof dF?i.applyToHost(n):i instanceof Qw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ur.Emulated:s=new dF(u,c,r,this.appId,l,o,a,d);break;case ur.ShadowDom:return new EX(u,c,n,r,o,a,this.nonce,d);default:s=new Qw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(O(sF),O(aF),O(yf),O(yX),O(Nt),O(cs),O(pe),O(pR))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class Kw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=zw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=zw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(us.DashCase|us.Important)?e.style.setProperty(n,r,i&us.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&us.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=hs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function lF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class EX extends Kw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cF(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qw extends Kw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?cF(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dF extends Qw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function _X(t){return"_ngcontent-%COMP%".replace(qw,t)}(c),this.hostAttr=function vX(t){return"_nghost-%COMP%".replace(qw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let IX=(()=>{class t extends oF{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Nt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const hF=["alt","control","meta","shift"],DX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bX=(()=>{class t extends oF{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),hF.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=DX[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hF.forEach(o=>{o!==i&&(0,TX[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(O(Nt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const pF=[{provide:cs,useValue:"browser"},{provide:hR,useValue:function CX(){$w.makeCurrent()},multi:!0},{provide:Nt,useFactory:function AX(){return function o9(t){O_=t}(document),document},deps:[]}],MX=aO(eY,"browser",pF),NX=new V(""),gF=[{provide:Wf,useClass:class hX{addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new I(5103,!1);return s},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?hs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:nO,useClass:lw,deps:[pe,dw,Wf]},{provide:lw,useClass:lw,deps:[pe,dw,Wf]}],mF=[{provide:z_,useValue:"root"},{provide:Di,useFactory:function SX(){return new Di},deps:[]},{provide:Hw,useClass:IX,multi:!0,deps:[Nt,pe,cs]},{provide:Hw,useClass:bX,multi:!0,deps:[Nt]},Ww,aF,sF,{provide:Hc,useExisting:Ww},{provide:class UZ{},useClass:fX,deps:[]},[]];let yF=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(O(NX,12))};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({providers:[...mF,...gF],imports:[kZ,tY]})}return t})(),_F=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(O(Nt))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function RX(){return new _F(O(Nt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let EF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):O(IF),i},providedIn:"root"})}return t})(),IF=(()=>{class t extends EF{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Kn.NONE:return r;case Kn.HTML:return qr(r,"HTML")?Wn(r):tR(this._doc,String(r)).toString();case Kn.STYLE:return qr(r,"Style")?Wn(r):r;case Kn.SCRIPT:if(qr(r,"Script"))return Wn(r);throw new I(5200,!1);case Kn.URL:return qr(r,"URL")?Wn(r):df(String(r));case Kn.RESOURCE_URL:if(qr(r,"ResourceURL"))return Wn(r);throw new I(5201,!1);default:throw new I(5202,!1)}}bypassSecurityTrustHtml(n){return function f9(t){return new a9(t)}(n)}bypassSecurityTrustStyle(n){return function p9(t){return new u9(t)}(n)}bypassSecurityTrustScript(n){return function g9(t){return new c9(t)}(n)}bypassSecurityTrustUrl(n){return function m9(t){return new l9(t)}(n)}bypassSecurityTrustResourceUrl(n){return function y9(t){return new d9(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Nt))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function FX(t){return new IF(t.get(Nt))}(O(St)),i},providedIn:"root"})}return t})();class TF{}class LX{}const Pi="*";function VX(t,e){return{type:7,name:t,definitions:e,options:{}}}function bF(t,e=null){return{type:4,styles:e,timings:t}}function CF(t,e=null){return{type:2,steps:t,options:e}}function _l(t){return{type:6,styles:t,offset:null}}function Zw(t,e,n){return{type:0,name:t,styles:e,options:n}}function SF(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class vl{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class AF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function MF(t){return new I(3e3,!1)}function ps(t){switch(t.length){case 0:return new vl;case 1:return t[0];default:return new AF(t)}}function NF(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case Pi:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=c}),i.length)throw function aJ(t){return new I(3502,!1)}();return s}function Jw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&eE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&eE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&eE(n,"destroy",t)))}}function eE(t,e,n){const s=tE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function tE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Xn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function xF(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const vJ=(()=>typeof document>"u"?null:document.documentElement)();function nE(t){const e=t.parentNode||t.host||null;return e===vJ?null:e}let uo=null,RF=!1;function kF(t,e){for(;e;){if(e===t)return!0;e=nE(e)}return!1}function PF(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let OF=(()=>{class t{validateStyleProperty(n){return function EJ(t){uo||(uo=function IJ(){return typeof document<"u"?document.body:null}()||{},RF=!!uo.style&&"WebkitAppearance"in uo.style);let e=!0;return uo.style&&!function wJ(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in uo.style,!e&&RF&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in uo.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return kF(n,r)}getParentElement(n){return nE(n)}query(n,r,i){return PF(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new vl(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),rE=(()=>{class t{static#e=this.NOOP=new OF}return t})();const DJ=1e3,iE="ng-enter",fp="ng-leave",pp="ng-trigger",gp=".ng-trigger",LF="ng-animating",sE=".ng-animating";function Oi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:oE(parseFloat(e[1]),e[2])}function oE(t,e){return"s"===e?t*DJ:t}function mp(t,e,n){return t.hasOwnProperty("duration")?t:function bJ(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(MF()),{duration:0,delay:0,easing:""};i=oE(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=oE(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function BX(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function UX(){return new I(3101,!1)}()),a=!0),a&&e.splice(u,0,MF())}return{duration:i,delay:s,easing:o}}(t,e,n)}function wl(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function VF(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function gs(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Zr(t,e,n){e.forEach((r,i)=>{const s=uE(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function co(t,e){e.forEach((n,r)=>{const i=uE(r);t.style[i]=""})}function El(t){return Array.isArray(t)?1==t.length?t[0]:CF(t):t}const aE=new RegExp("{{\\s*(.+?)\\s*}}","g");function UF(t){let e=[];if("string"==typeof t){let n;for(;n=aE.exec(t);)e.push(n[1]);aE.lastIndex=0}return e}function Il(t,e,n){const r=t.toString(),i=r.replace(aE,(s,o)=>{let a=e[o];return null==a&&(n.push(function $X(t){return new I(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function yp(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const AJ=/-+([a-z0-9])/g;function uE(t){return t.replace(AJ,(...e)=>e[1].toUpperCase())}function Jn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function HX(t){return new I(3004,!1)}()}}function jF(t,e){return window.getComputedStyle(t)[e]}const _p="*";function xJ(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function RJ(t,e,n){if(":"==t[0]){const u=function kJ(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function rJ(t){return new I(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function nJ(t){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push($F(i,o));"<"==s[0]&&!(i==_p&&o==_p)&&e.push($F(o,i))}(r,n,e)):n.push(t),n}const vp=new Set(["true","1"]),wp=new Set(["false","0"]);function $F(t,e){const n=vp.has(t)||wp.has(t),r=vp.has(e)||wp.has(e);return(i,s)=>{let o=t==_p||t==i,a=e==_p||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?vp.has(t):wp.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?vp.has(e):wp.has(e)),o&&a}}const PJ=new RegExp("s*:selfs*,?","g");function cE(t,e,n,r){return new OJ(t).build(e,n,r)}class OJ{constructor(e){this._driver=e}build(e,n,r){const i=new VJ(n);return this._resetContextStyleTimingState(i),Jn(this,El(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function zX(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function qX(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{UF(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(yp(s.values()),n.errors.push(function WX(t,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Jn(this,El(e.animation),n);return{type:1,matchers:xJ(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:lo(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Jn(this,r,n)),options:lo(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=Jn(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:lo(e.options)}}visitAnimate(e,n){const r=function UJ(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return lE(mp(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lE(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=mp(n,e);return lE(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:_l({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=_l(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Pi?r.push(a):n.errors.push(new I(3002,!1)):r.push(VF(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function QX(t,e,n,r,i){return new I(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function SJ(t,e,n){const r=e.params||{},i=UF(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function jX(t){return new I(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function YX(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(v=>{const y=this._makeStyleAst(v,n);let D=null!=y.offset?y.offset:function BJ(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),A=0;return null!=D&&(s++,A=y.offset=D),u=u||A<0||A>1,a=a||A<c,c=A,o.push(A),y});u&&n.errors.push(function ZX(){return new I(3012,!1)}()),a&&n.errors.push(function XX(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function JX(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return l.forEach((v,y)=>{const D=h>0?y==f?1:h*y:o[y],A=D*m;n.currentTime=p+g.delay+A,g.duration=A,this._validateStyleAst(v,n),v.offset=D,r.styles.push(v)}),r}visitReference(e,n){return{type:8,animation:Jn(this,El(e.animation),n),options:lo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:lo(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:lo(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function FJ(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(PJ,"")),t=t.replace(/@\*/g,gp).replace(/@\w+/g,n=>gp+"-"+n.slice(1)).replace(/:animating/g,sE),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Xn(n.collectedStyles,n.currentQuerySelector,new Map);const a=Jn(this,El(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:lo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function eJ(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:mp(e.timings,n.errors,!0);return{type:12,animation:Jn(this,El(e.animation),n),timings:r,options:null}}}class VJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lo(t){return t?(t=wl(t)).params&&(t.params=function LJ(t){return t?wl(t):null}(t.params)):t={},t}function lE(t,e,n){return{duration:t,delay:e,easing:n}}function dE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ep{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HJ=new RegExp(":enter","g"),zJ=new RegExp(":leave","g");function hE(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new qJ).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class qJ{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new Ep;const d=new fE(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?Oi(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),Jn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[dE(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Oi(Il(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Oi(r.duration):null,a=null!=r.delay?Oi(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Jn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ip);const o=Oi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Jn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Oi(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),Jn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return mp(n.params?Il(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Oi(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ip);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),Jn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;Jn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Ip={};class fE{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ip,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Dp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Oi(r.duration)),null!=r.delay&&(i.delay=Oi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Il(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new fE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ip,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new WJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(HJ,"."+this._enterClassName)).replace(zJ,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function tJ(t){return new I(3014,!1)}()),a}}class Dp{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Dp(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Pi),this._currentKeyframe.set(n,Pi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function KJ(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,Pi)}else gs(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Il(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=gs(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===Pi&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?yp(e.values()):[],o=n.size?yp(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return dE(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class WJ extends Dp{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=gs(e[0]);u.set("offset",0),s.push(u);const c=gs(e[0]);c.set("offset",zF(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=gs(e[d]);const f=h.get("offset");h.set("offset",zF((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return dE(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function zF(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class pE{}const QJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YJ extends pE{normalizePropertyName(e,n){return uE(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(QJ.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function GX(t,e){return new I(3005,!1)}())}return o+s}}function qF(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const gE={};class WF{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function ZJ(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||gE,p=this.buildStyles(r,a&&a.params||gE,d),g=u&&u.params||gE,m=this.buildStyles(i,g,d),v=new Set,y=new Map,D=new Map,A="void"===i,L={params:XJ(g,h),delay:this.ast.options?.delay},H=l?[]:hE(e,n,this.ast.animation,s,o,p,m,L,c,d);let re=0;if(H.forEach(_t=>{re=Math.max(_t.duration+_t.delay,re)}),d.length)return qF(n,this._triggerName,r,i,A,p,m,[],[],y,D,re,d);H.forEach(_t=>{const ir=_t.element,my=Xn(y,ir,new Set);_t.preStyleProps.forEach(ta=>my.add(ta));const gh=Xn(D,ir,new Set);_t.postStyleProps.forEach(ta=>gh.add(ta)),ir!==n&&v.add(ir)});const Ve=yp(v.values());return qF(n,this._triggerName,r,i,A,p,m,H,Ve,y,D,re)}}function XJ(t,e){const n=wl(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class JJ{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=wl(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Il(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class tee{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new JJ(i.style,i.options&&i.options.params||{},r))}),KF(this.states,"true","1"),KF(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new WF(e,i,this.states))}),this.fallbackTransition=function nee(t,e,n){return new WF(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function KF(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const ree=new Ep;class iee{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=cE(this._driver,n,r,[]);if(r.length)throw function uJ(t){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=NF(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=hE(this._driver,n,s,iE,fp,new Map,new Map,r,ree,i),o.forEach(l=>{const d=Xn(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function cJ(){return new I(3300,!1)}()),o=[]),i.length)throw function lJ(t){return new I(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Pi))})});const c=ps(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function dJ(t){return new I(3301,!1)}();return n}listen(e,n,r,i){const s=tE(n,"","","");return Jw(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const QF="ng-animate-queued",mE="ng-animate-disabled",cee=[],YF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xr="__ng_removed";class yE{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function pee(t){return t??null}(r?e.value:e),r){const s=wl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Dl="void",_E=new yE(Dl);class dee{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,mr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function hJ(t,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function fJ(t){return new I(3303,!1)}();if(!function gee(t){return"start"==t||"done"==t}(r))throw function pJ(t,e){return new I(3400,!1)}();const s=Xn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Xn(this._engine.statesByElement,e,new Map);return a.has(n)||(mr(e,pp),mr(e,pp+"-"+n),a.set(n,_E)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function gJ(t){return new I(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new vE(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(mr(e,pp),mr(e,pp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new yE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=_E),c.value!==Dl&&u.value===c.value){if(!function _ee(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const g=[],m=s.matchStyles(u.value,u.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{co(e,m),Zr(e,v)})}return}const h=Xn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(mr(e,QF),o.onStart(()=>{tu(e,QF)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,gp,!0);r.forEach(i=>{if(i[xr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Dl,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ps(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||_E,l=new yE(Dl),d=new vE(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[xr];(!s||s===YF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){mr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=tE(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,Jw(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class hee{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new dee(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(Tp(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Tp(n))return;const s=n[xr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),mr(e,mE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),tu(e,mE))}removeNode(e,n,r){if(Tp(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[xr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Tp(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,gp,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,sE,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ps(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[xr];if(n&&n.setForRemoval){if(e[xr]=YF,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(mE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)mr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?ps(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mJ(t){return new I(3402,!1)}()}_flushAnimations(e,n){const r=new Ep,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(B=>{l.add(B);const G=this.driver.query(B,".ng-animate-queued",!0);for(let z=0;z<G.length;z++)l.add(G[z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=JF(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((B,G)=>{const z=iE+g++;p.set(G,z),B.forEach(ye=>mr(ye,z))});const m=[],v=new Set,y=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const G=this.collectedLeaveElements[B],z=G[xr];z&&z.setForRemoval&&(m.push(G),v.add(G),z.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(ye=>v.add(ye)):y.add(G))}const D=new Map,A=JF(h,Array.from(v));A.forEach((B,G)=>{const z=fp+g++;D.set(G,z),B.forEach(ye=>mr(ye,z))}),e.push(()=>{f.forEach((B,G)=>{const z=p.get(G);B.forEach(ye=>tu(ye,z))}),A.forEach((B,G)=>{const z=D.get(G);B.forEach(ye=>tu(ye,z))}),m.forEach(B=>{this.processLeaveNode(B)})});const L=[],H=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(n).forEach(z=>{const ye=z.player,Vt=z.element;if(L.push(ye),this.collectedEnterElements.length){const ln=Vt[xr];if(ln&&ln.setForMove){if(ln.previousTriggersValues&&ln.previousTriggersValues.has(z.triggerName)){const na=ln.previousTriggersValues.get(z.triggerName),Er=this.statesByElement.get(z.element);if(Er&&Er.has(z.triggerName)){const yy=Er.get(z.triggerName);yy.value=na,Er.set(z.triggerName,yy)}}return void ye.destroy()}}const pi=!d||!this.driver.containsElement(d,Vt),sr=D.get(Vt),zs=p.get(Vt),Ze=this._buildInstruction(z,r,zs,sr,pi);if(Ze.errors&&Ze.errors.length)return void H.push(Ze);if(pi)return ye.onStart(()=>co(Vt,Ze.fromStyles)),ye.onDestroy(()=>Zr(Vt,Ze.toStyles)),void i.push(ye);if(z.isFallbackTransition)return ye.onStart(()=>co(Vt,Ze.fromStyles)),ye.onDestroy(()=>Zr(Vt,Ze.toStyles)),void i.push(ye);const mz=[];Ze.timelines.forEach(ln=>{ln.stretchStartingKeyframe=!0,this.disabledNodes.has(ln.element)||mz.push(ln)}),Ze.timelines=mz,r.append(Vt,Ze.timelines),o.push({instruction:Ze,player:ye,element:Vt}),Ze.queriedElements.forEach(ln=>Xn(a,ln,[]).push(ye)),Ze.preStyleProps.forEach((ln,na)=>{if(ln.size){let Er=u.get(na);Er||u.set(na,Er=new Set),ln.forEach((yy,fM)=>Er.add(fM))}}),Ze.postStyleProps.forEach((ln,na)=>{let Er=c.get(na);Er||c.set(na,Er=new Set),ln.forEach((yy,fM)=>Er.add(fM))})});if(H.length){const B=[];H.forEach(G=>{B.push(function yJ(t,e){return new I(3505,!1)}())}),L.forEach(G=>G.destroy()),this.reportError(B)}const re=new Map,Ve=new Map;o.forEach(B=>{const G=B.element;r.has(G)&&(Ve.set(G,G),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,re))}),i.forEach(B=>{const G=B.element;this._getPreviousPlayers(G,!1,B.namespaceId,B.triggerName,null).forEach(ye=>{Xn(re,G,[]).push(ye),ye.destroy()})});const _t=m.filter(B=>tL(B,u,c)),ir=new Map;XF(ir,this.driver,y,c,Pi).forEach(B=>{tL(B,u,c)&&_t.push(B)});const gh=new Map;f.forEach((B,G)=>{XF(gh,this.driver,new Set(B),u,"!")}),_t.forEach(B=>{const G=ir.get(B),z=gh.get(B);ir.set(B,new Map([...G?.entries()??[],...z?.entries()??[]]))});const ta=[],pz=[],gz={};o.forEach(B=>{const{element:G,player:z,instruction:ye}=B;if(r.has(G)){if(l.has(G))return z.onDestroy(()=>Zr(G,ye.toStyles)),z.disabled=!0,z.overrideTotalTime(ye.totalTime),void i.push(z);let Vt=gz;if(Ve.size>1){let sr=G;const zs=[];for(;sr=sr.parentNode;){const Ze=Ve.get(sr);if(Ze){Vt=Ze;break}zs.push(sr)}zs.forEach(Ze=>Ve.set(Ze,Vt))}const pi=this._buildAnimation(z.namespaceId,ye,re,s,gh,ir);if(z.setRealPlayer(pi),Vt===gz)ta.push(z);else{const sr=this.playersByElement.get(Vt);sr&&sr.length&&(z.parentPlayer=ps(sr)),i.push(z)}}else co(G,ye.fromStyles),z.onDestroy(()=>Zr(G,ye.toStyles)),pz.push(z),l.has(G)&&i.push(z)}),pz.forEach(B=>{const G=s.get(B.element);if(G&&G.length){const z=ps(G);B.setRealPlayer(z)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<m.length;B++){const G=m[B],z=G[xr];if(tu(G,fp),z&&z.hasAnimation)continue;let ye=[];if(a.size){let pi=a.get(G);pi&&pi.length&&ye.push(...pi);let sr=this.driver.query(G,sE,!0);for(let zs=0;zs<sr.length;zs++){let Ze=a.get(sr[zs]);Ze&&Ze.length&&ye.push(...Ze)}}const Vt=ye.filter(pi=>!pi.destroyed);Vt.length?mee(this,G,Vt):this.processLeaveNode(G)}return m.length=0,ta.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const G=this.players.indexOf(B);this.players.splice(G,1)}),B.play()}),ta}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Dl;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=Xn(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}co(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;l.add(g);const m=g[xr];if(m&&m.removedBeforeQueried)return new vl(p.duration,p.delay);const v=g!==u,y=function yee(t){const e=[];return eL(t,e),e}((r.get(g)||cee).map(re=>re.getRealPlayer())).filter(re=>!!re.element&&re.element===g),D=s.get(g),A=o.get(g),L=NF(this._normalizer,p.keyframes,D,A),H=this._buildPlayer(p,L,y);if(p.subTimeline&&i&&d.add(g),v){const re=new vE(e,a,g);re.setRealPlayer(H),c.push(re)}return H});c.forEach(p=>{Xn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function fee(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>mr(p,LF));const f=ps(h);return f.onDestroy(()=>{l.forEach(p=>tu(p,LF)),Zr(u,n.toStyles)}),d.forEach(p=>{Xn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new vl(e.duration,e.delay)}}class vE{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new vl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Jw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Tp(t){return t&&1===t.nodeType}function ZF(t,e){const n=t.style.display;return t.style.display=e??"none",n}function XF(t,e,n,r,i){const s=[];n.forEach(u=>s.push(ZF(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[xr]=lee,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>ZF(u,s[a++])),o}function JF(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function mr(t,e){t.classList?.add(e)}function tu(t,e){t.classList?.remove(e)}function mee(t,e,n){ps(n).onDone(()=>t.processLeaveNode(e))}function eL(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof AF?eL(r.players,e):e.push(r)}}function tL(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class bp{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new hee(e,n,r),this._timelineEngine=new iee(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=cE(this._driver,s,u,[]);if(u.length)throw function oJ(t,e){return new I(3404,!1)}();a=function eee(t,e,n){return new tee(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=xF(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=xF(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let wee=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(co(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(co(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}return t})();function wE(t){let e=null;return t.forEach((n,r)=>{(function Eee(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class nL{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:jF(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Iee{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return kF(e,n)}getParentElement(e){return nE(e)}query(e,n,r){return PF(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof nL);(function MJ(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function CJ(t){return t.length?t[0]instanceof Map?t:t.map(e=>VF(e)):[]}(n).map(f=>gs(f));d=function NJ(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,jF(t,a)))}}return e}(e,d,c);const h=function vee(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=wE(e[0]),e.length>1&&(r=wE(e[e.length-1]))):e instanceof Map&&(n=wE(e)),n||r?new wee(t,n,r):null}(e,d);return new nL(e,d,u,h)}}let Dee=(()=>{class t extends TF{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:ur.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?CF(n):n;return rL(this._renderer,null,r,"register",[i]),new Tee(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Hc),O(Nt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class Tee extends LX{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new bee(this._id,e,n||{},this._renderer)}}class bee{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return rL(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rL(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const iL="@.disabled";let Cee=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new sL("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=l=>{Array.isArray(l)?l.forEach(u):this.engine.registerTrigger(o,a,n,l.name,l)};return r.data.animation.forEach(u),new See(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(O(Hc),O(bp),O(pe))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class sL{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==iL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class See extends sL{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==iL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function Aee(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Mee(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let Nee=(()=>{class t extends bp{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(O(Nt),O(rE),O(pE),O(Ni))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const oL=[{provide:TF,useClass:Dee},{provide:pE,useFactory:function xee(){return new YJ}},{provide:bp,useClass:Nee},{provide:Hc,useFactory:function Ree(t,e,n){return new Cee(t,e,n)},deps:[Ww,bp,pe]}],EE=[{provide:rE,useFactory:()=>new Iee},{provide:fR,useValue:"BrowserAnimations"},...oL],aL=[{provide:rE,useClass:OF},{provide:fR,useValue:"NoopAnimations"},...oL];let kee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?aL:EE}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({providers:EE,imports:[yF]})}return t})();const{isArray:Oee}=Array,{getPrototypeOf:Fee,prototype:Lee,keys:Vee}=Object;function uL(t){if(1===t.length){const e=t[0];if(Oee(e))return{args:e,keys:null};if(function Bee(t){return t&&"object"==typeof t&&Fee(t)===Lee}(e)){const n=Vee(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Uee}=Array;function cL(t){return De(e=>function jee(t,e){return Uee(e)?t(...e):t(e)}(t,e))}function lL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function IE(...t){const e=cc(t),n=FM(t),{args:r,keys:i}=uL(t);if(0===r.length)return Ct([],e);const s=new We(function $ee(t,e,n=es){return r=>{dL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)dL(e,()=>{const c=Ct(t[u],e);let l=!1;c.subscribe(ft(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>lL(i,o):es));return n?s.pipe(cL(n)):s}function dL(t,e,n){t?gi(n,t,e):e()}const Sp=ac(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function DE(...t){return function Hee(){return ia(1)}()(Ct(t,cc(t)))}function hL(t){return new We(e=>{$n(t()).subscribe(e)})}function Tl(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new We(e?i=>e.schedule(r,0,i):r)}function TE(){return vt((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class fL extends We{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,EM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bn;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bn.EMPTY)}return e}refCount(){return TE()(this)}}function nu(t){return t<=0?()=>Vr:vt((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ms(t,e){return vt((n,r)=>{let i=0;n.subscribe(ft(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ap(t){return vt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pL(t=zee){return vt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zee(){return new Sp}function ho(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ms((i,s)=>t(i,s,r)):es,nu(1),n?Ap(e):pL(()=>new Sp))}function bl(t,e){return Me(e)?Bt(t,e,1):Bt(t,1)}function zt(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):es}function fo(t){return vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,o=>{s=$n(t(o,fo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function bE(t){return t<=0?()=>Vr:vt((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function CE(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",Cl=Symbol("RouteTitle");class Zee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ru(t){return new Zee(t)}function Xee(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gL(t[i],e[i]))return!1;return!0}function gL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function mL(t){return t.length>0?t[t.length-1]:null}function ys(t){return function Pee(t){return!!t&&(t instanceof We||Me(t.lift)&&Me(t.subscribe))}(t)?t:nl(t)?Ct(Promise.resolve(t)):Y(t)}const ete={exact:function vL(t,e,n){if(!po(t.segments,e.segments)||!Mp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vL(t.children[r],e.children[r],n))return!1;return!0},subset:wL},yL={exact:function tte(t,e){return Xr(t,e)},subset:function nte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gL(t[n],e[n]))},ignored:()=>!0};function _L(t,e,n){return ete[n.paths](t.root,e.root,n.matrixParams)&&yL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wL(t,e,n){return EL(t,e,e.segments,n)}function EL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!po(i,n)||e.hasChildren()||!Mp(i,n,r))}if(t.segments.length===n.length){if(!po(t.segments,n)||!Mp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!wL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(po(t.segments,i)&&Mp(t.segments,i,r)&&t.children[ie])&&EL(t.children[ie],e,s,r)}}function Mp(t,e,n){return e.every((r,i)=>yL[n](t[i].parameters,r.parameters))}class iu{constructor(e=new Ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return ste.serialize(this)}}class Ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Np(this)}}class Sl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ru(this.parameters)),this._parameterMap}toString(){return TL(this)}}function po(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Al=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new SE},providedIn:"root"})}return t})();class SE{parse(e){const n=new mte(e);return new iu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ml(e.root,!0)}`,r=function ute(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${xp(n)}=${xp(i)}`).join("&"):`${xp(n)}=${xp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function ote(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ste=new SE;function Np(t){return t.segments.map(e=>TL(e)).join("/")}function Ml(t,e){if(!t.hasChildren())return Np(t);if(e){const n=t.children[ie]?Ml(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${Ml(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ite(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ie?[Ml(t.children[ie],!1)]:[`${i}:${Ml(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Np(t)}/${n[0]}`:`${Np(t)}/(${n.join("//")})`}}function IL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(t){return IL(t).replace(/%3B/gi,";")}function AE(t){return IL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(t){return decodeURIComponent(t)}function DL(t){return Rp(t.replace(/\+/g,"%20"))}function TL(t){return`${AE(t.path)}${function ate(t){return Object.keys(t).map(e=>`;${AE(e)}=${AE(t[e])}`).join("")}(t.parameters)}`}const cte=/^[^\/()?;#]+/;function ME(t){const e=t.match(cte);return e?e[0]:""}const lte=/^[^\/()?;=#]+/,hte=/^[^=?&#]+/,pte=/^[^&#]+/;class mte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ce(e,n)),r}parseSegment(){const e=ME(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new Sl(Rp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function dte(t){const e=t.match(lte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ME(this.remaining);i&&(r=i,this.capture(r))}e[Rp(n)]=Rp(r)}parseQueryParam(e){const n=function fte(t){const e=t.match(hte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function gte(t){const e=t.match(pte);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DL(n),s=DL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ME(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new Ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}}function bL(t){return t.segments.length>0?new Ce([],{[ie]:t}):t}function CL(t){const e={};for(const r of Object.keys(t.children)){const s=CL(t.children[r]);if(r===ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function yte(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new Ce(t.segments.concat(e.segments),e.children)}return t}(new Ce(t.segments,e))}function go(t){return t instanceof iu}function SL(t){let e;const i=bL(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ce(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function AL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return NE(i,i,i,n,r);const s=function vte(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new NL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new NL(n,e,r)}(e);if(s.toRoot())return NE(i,i,new Ce([],{}),n,r);const o=function wte(t,e,n){if(t.isAbsolute)return new Pp(e,!0,0);if(!n)return new Pp(e,!1,NaN);if(null===n.parent)return new Pp(n,!0,0);const r=kp(t.commands[0])?0:1;return function Ete(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Pp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?xl(o.segmentGroup,o.index,s.commands):xL(o.segmentGroup,o.index,s.commands);return NE(i,o.segmentGroup,a,n,r)}function kp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nl(t){return"object"==typeof t&&null!=t&&t.outlets}function NE(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:ML(t,e,n);const a=bL(CL(o));return new iu(a,s,i)}function ML(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:ML(s,e,n)}),new Ce(t.segments,r)}class NL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kp(r[0]))throw new I(4003,!1);const i=r.find(Nl);if(i&&i!==mL(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function xL(t,e,n){if(t||(t=new Ce([],{})),0===t.segments.length&&t.hasChildren())return xl(t,e,n);const r=function Dte(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Nl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!kL(u,c,o))return s;r+=2}else{if(!kL(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ce(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new Ce(t.segments.slice(r.pathIndex),t.children),xl(s,0,i)}return r.match&&0===i.length?new Ce(t.segments,{}):r.match&&!t.hasChildren()?xE(t,e,n):r.match?xl(t,0,i):xE(t,e,n)}function xl(t,e,n){if(0===n.length)return new Ce(t.segments,{});{const r=function Ite(t){return Nl(t[0])?t[0].outlets:{[ie]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&1===t.numberOfChildren&&0===t.children[ie].segments.length){const s=xl(t.children[ie],e,n);return new Ce(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=xL(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ce(t.segments,i)}}function xE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Nl(s)){const u=Tte(s.outlets);return new Ce(r,u)}if(0===i&&kp(n[0])){r.push(new Sl(t.segments[e].path,RL(n[0]))),i++;continue}const o=Nl(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kp(a)?(r.push(new Sl(o,RL(a))),i+=2):(r.push(new Sl(o,{})),i++)}return new Ce(r,{})}function Tte(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=xE(new Ce([],{}),0,r))}),e}function RL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kL(t,e,n){return t==n.path&&Xr(e,n.parameters)}const Rl="imperative";class Jr{constructor(e,n){this.id=e,this.url=n}}class Op extends Jr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _s extends Jr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kl extends Jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class su extends Jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Fp extends Jr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PL extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bte extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cte extends Jr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ste extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ate extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mte{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nte{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kte{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pte{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RE{}class kE{constructor(e){this.url=e}}class Ote{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pl,this.attachRef=null}}let Pl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ote,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class FL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=PE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=PE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=OE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return OE(e,this._root).map(n=>n.value)}}function PE(t,e){if(t===e.value)return e;for(const n of e.children){const r=PE(t,n);if(r)return r}return null}function OE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=OE(t,n);if(r.length)return r.unshift(e),r}return[]}class Fi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ou(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LL extends FL{constructor(e,n){super(e),this.snapshot=n,FE(this,e)}toString(){return this.snapshot.toString()}}function VL(t,e){const n=function Fte(t,e){const o=new Lp([],{},{},"",{},ie,e,null,{});return new UL("",new Fi(o,[]))}(0,e),r=new or([new Sl("",{})]),i=new or({}),s=new or({}),o=new or({}),a=new or(""),u=new au(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new LL(new Fi(u,[]),n)}class au{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(De(c=>c[Cl]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>ru(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>ru(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Lte(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Lp{get title(){return this.data?.[Cl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UL extends FL{constructor(e,n){super(n),this.url=e,FE(this,n)}toString(){return jL(this._root)}}function FE(t,e){e.value._routerState=t,e.children.forEach(n=>FE(t,n))}function jL(t){const e=t.children.length>0?` { ${t.children.map(jL).join(", ")} } `:"";return`${t.value}${e}`}function LE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xr(e.params,n.params)||t.paramsSubject.next(n.params),function Jee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function VE(t,e){const n=Xr(t.params,e.params)&&function rte(t,e){return po(t,e)&&t.every((n,r)=>Xr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||VE(t.parent,e.parent))}let $L=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=P(Pl),this.location=P(Ar),this.changeDetector=P(Qf),this.environmentInjector=P(hr),this.inputBinder=P(Vp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Vte(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]})}return t})();class Vte{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===au?this.route:e===Pl?this.childContexts:this.parent.get(e,n)}}const Vp=new V("");let HL=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=IE([r.queryParams,r.params,r.data]).pipe(Br(([s,o,a],u)=>(a={...s,...o,...a},0===u?Y(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function fY(t){const e=le(t);if(!e)return null;const n=new Kc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Ol(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ute(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ol(t,r,i);return Ol(t,r)})}(t,e,n);return new Fi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ol(t,a)),o}}const r=function jte(t){return new au(new or(t.url),new or(t.params),new or(t.queryParams),new or(t.fragment),new or(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ol(t,s));return new Fi(r,i)}}const BE="ngNavigationCancelingError";function GL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function zL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[BE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function qL(t){return t&&t[BE]}let WL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pc({type:t,selectors:[["ng-component"]],standalone:!0,features:[$f],decls:1,vars:0,template:function(r,i){1&r&&br(0,"router-outlet")},dependencies:[$L],encapsulation:2})}return t})();function UE(t){const e=t.children&&t.children.map(UE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=WL),n}function Rr(t){return t.outlet||ie}function Fl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Qte{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),LE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ou(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ou(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ou(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ou(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Pte(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rte(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(LE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),LE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Fl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bp{constructor(e,n){this.component=e,this.route=n}}function Yte(t,e,n){const r=t._root;return Ll(r,e?e._root:null,n,[r.value])}function uu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Iq(t){return null!==Th(t)}(t)?e.get(t):t:r}function Ll(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ou(e);return t.children.forEach(o=>{(function Xte(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Jte(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!po(t.url,e.url);case"pathParamsOrQueryParamsChange":return!po(t.url,e.url)||!Xr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VE(t,e)||!Xr(t.queryParams,e.queryParams);default:return!VE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new KL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ll(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bp(a.outlet.component,o))}else o&&Vl(e,a,i),i.canActivateChecks.push(new KL(r)),Ll(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vl(a,n.getContext(o),i)),i}function Vl(t,e,n){const r=ou(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Vl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Bp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bl(t){return"function"==typeof t}function QL(t){return t instanceof Sp||"EmptyError"===t?.name}const Up=Symbol("INITIAL_VALUE");function cu(){return Br(t=>IE(t.map(e=>e.pipe(nu(1),function Gee(...t){const e=cc(t);return vt((n,r)=>{(e?DE(t,n,e):DE(t,n)).subscribe(r)})}(Up)))).pipe(De(e=>{for(const n of e)if(!0!==n){if(n===Up)return Up;if(!1===n||n instanceof iu)return n}return!0}),ms(e=>e!==Up),nu(1)))}function YL(t){return function bz(...t){return _M(t)}(zt(e=>{if(go(e))throw GL(0,e)}),De(e=>!0===e))}class jp{constructor(e){this.segmentGroup=e||null}}class ZL{constructor(e){this.urlTree=e}}function lu(t){return Tl(new jp(t))}function XL(t){return Tl(new ZL(t))}class vne{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new I(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[ie])return Tl(new I(4e3,!1));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new iu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const jE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wne(t,e,n,r,i){const s=$E(t,e,n);return s.matched?(r=function Hte(t,e){return t.providers&&!t._injector&&(t._injector=qv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function mne(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(o=>{const a=uu(o,t);return ys(function sne(t){return t&&Bl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(cu(),YL()):Y(!0)}(r,e,n).pipe(De(o=>!0===o?s:{...jE}))):Y(s)}function $E(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...jE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Xee)(n,t,e);if(!i)return{...jE};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function JL(t,e,n,r){return n.length>0&&function Dne(t,e,n){return n.some(r=>$p(t,e,r)&&Rr(r)!==ie)}(t,n,r)?{segmentGroup:new Ce(e,Ine(r,new Ce(n,t.children))),slicedSegments:[]}:0===n.length&&function Tne(t,e,n){return n.some(r=>$p(t,e,r))}(t,n,r)?{segmentGroup:new Ce(t.segments,Ene(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function Ene(t,e,n,r,i){const s={};for(const o of r)if($p(t,n,o)&&!i[Rr(o)]){const a=new Ce([],{});s[Rr(o)]=a}return{...i,...s}}function Ine(t,e){const n={};n[ie]=e;for(const r of t)if(""===r.path&&Rr(r)!==ie){const i=new Ce([],{});n[Rr(r)]=i}return n}function $p(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Ane{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new vne(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,!1)}recognize(){const e=JL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(fo(n=>{if(n instanceof ZL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof jp?this.noMatchError(n):n}),De(n=>{const r=new Lp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new Fi(r,n),s=new UL("",i),o=function _te(t,e,n=null,r=null){return AL(SL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ie).pipe(fo(r=>{throw r instanceof jp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=BL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(bl(s=>{const o=r.children[s],a=function Wte(t,e){const n=t.filter(r=>Rr(r)===e);return n.push(...t.filter(r=>Rr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Wee(t,e){return vt(function qee(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ft(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ap(null),function Kee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ms((i,s)=>t(i,s,r)):es,bE(1),n?Ap(e):pL(()=>new Sp))}(),Bt(s=>{if(null===s)return lu(r);const o=e2(s);return function Mne(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Y(o)}))}processSegment(e,n,r,i,s,o){return Ct(n).pipe(bl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(fo(u=>{if(u instanceof jp)return Y(null);throw u}))),ho(a=>!!a),fo(a=>{if(QL(a))return function Cne(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Y([]):lu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function bne(t,e,n,r){return!!(Rr(t)===r||r!==ie&&$p(e,n,t))&&("**"===t.path||$E(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):lu(i):lu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Bt(o=>{const a=new Ce(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=$E(n,i,s);if(!a)return lu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?XL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Bt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?mL(i).parameters:{};a=Y({snapshot:new Lp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,t2(r),Rr(r),r.component??r._loadedComponent??null,r,n2(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=wne(n,r,i,e).pipe(De(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Lp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,t2(r),Rr(r),r.component??r._loadedComponent??null,r,n2(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Br(u=>null===u?lu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Br(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=JL(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(De(v=>null===v?null:[new Fi(d,v)]));if(0===c.length&&0===g.length)return Y([new Fi(d,[])]);const m=Rr(r)===s;return this.processSegment(l,c,p,g,m?ie:s,!0).pipe(De(v=>[new Fi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function gne(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(o=>{const a=uu(o,t);return ys(function tne(t){return t&&Bl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(cu(),YL())}(e,n,r).pipe(Bt(i=>i?this.configLoader.loadChildren(e,n).pipe(zt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function _ne(t){return Tl(zL(!1,3))}())):Y({routes:[],injector:e})}}function Nne(t){const e=t.value.routeConfig;return e&&""===e.path}function e2(t){const e=[],n=new Set;for(const r of t){if(!Nne(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=e2(r.children);e.push(new Fi(r.value,i))}return e.filter(r=>!n.has(r))}function t2(t){return t.data||{}}function n2(t){return t.resolve||{}}function r2(t){return"string"==typeof t.title||null===t.title}function HE(t){return Br(e=>{const n=t(e);return n?Ct(n).pipe(De(()=>e)):Y(e)})}const du=new V("ROUTES");let GE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(XP)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ys(n.loadComponent()).pipe(De(i2),zt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),CE(()=>{this.componentLoaders.delete(n)})),i=new fL(r,()=>new bt).pipe(TE());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Lne(t,e,n,r){return ys(t.loadChildren()).pipe(De(i2),Bt(i=>i instanceof nP||Array.isArray(i)?Y(i):Ct(e.compileModuleAsync(i))),De(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(du,[],{optional:!0,self:!0}).flat()),{routes:o.map(UE),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(CE(()=>{this.childrenLoaders.delete(r)})),o=new fL(s,()=>new bt).pipe(TE());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i2(t){return function Vne(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Hp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bt,this.transitionAbortSubject=new bt,this.configLoader=P(GE),this.environmentInjector=P(hr),this.urlSerializer=P(Al),this.rootContexts=P(Pl),this.inputBindingEnabled=null!==P(Vp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Nte(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Mte(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new or({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ms(s=>0!==s.id),De(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Br(s=>{this.currentTransition=s;let o=!1,a=!1;return Y(s).pipe(zt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Br(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new su(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Vr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Br(h=>{const f=this.transitions?.getValue();return this.events.next(new Op(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Vr:Promise.resolve(h)}),function xne(t,e,n,r,i,s){return Bt(o=>function Sne(t,e,n,r,i,s,o="emptyOnly"){return new Ane(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(De(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),zt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new PL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new Op(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const y=VL(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:y,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},Y(s)}{const h="";return this.events.next(new su(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Vr}}),zt(u=>{const c=new bte(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),De(u=>(this.currentTransition=s={...u,guards:Yte(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function ane(t,e){return Bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y({...n,guardsResult:!0}):function une(t,e,n,r){return Ct(t).pipe(Bt(i=>function pne(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=Fl(e)??i,c=uu(a,u);return ys(function ine(t){return t&&Bl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ho())})).pipe(cu()):Y(!0)}(i.component,i.route,n,e,r)),ho(i=>!0!==i,!0))}(o,r,i,t).pipe(Bt(a=>a&&function ene(t){return"boolean"==typeof t}(a)?function cne(t,e,n,r){return Ct(e).pipe(bl(i=>DE(function dne(t,e){return null!==t&&e&&e(new xte(t)),Y(!0)}(i.route.parent,r),function lne(t,e){return null!==t&&e&&e(new kte(t)),Y(!0)}(i.route,r),function fne(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Zte(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>hL(()=>Y(o.guards.map(u=>{const c=Fl(o.node)??n,l=uu(u,c);return ys(function rne(t){return t&&Bl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ho())})).pipe(cu())));return Y(s).pipe(cu())}(t,i.path,n),function hne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>hL(()=>{const o=Fl(e)??n,a=uu(s,o);return ys(function nne(t){return t&&Bl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ho())}));return Y(i).pipe(cu())}(t,i.route,n))),ho(i=>!0!==i,!0))}(r,s,t,e):Y(a)),De(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),zt(u=>{if(s.guardsResult=u.guardsResult,go(u.guardsResult))throw GL(0,u.guardsResult);const c=new Cte(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),ms(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),HE(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(zt(c=>{const l=new Ste(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Br(c=>{let l=!1;return Y(c).pipe(function Rne(t,e){return Bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return Ct(i).pipe(bl(o=>function kne(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!r2(i)&&(s[Cl]=i.title),function Pne(t,e,n,r){const i=function One(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const s={};return Ct(i).pipe(Bt(o=>function Fne(t,e,n,r){const i=Fl(e)??r,s=uu(t,i);return ys(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ho(),zt(a=>{s[o]=a}))),bE(1),function Qee(t){return De(()=>t)}(s),fo(o=>QL(o)?Vr:Tl(o)))}(s,t,e,r).pipe(De(o=>(t._resolvedData=o,t.data=BL(t,n).resolve,i&&r2(i)&&(t.data[Cl]=i.title),null)))}(o.route,r,t,e)),zt(()=>s++),bE(1),Bt(o=>s===i.length?Y(n):Vr))})}(n.paramsInheritanceStrategy,this.environmentInjector),zt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),zt(c=>{const l=new Ate(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),HE(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(zt(h=>{l.component=h}),De(()=>{})));for(const h of l.children)d.push(...c(h));return d};return IE(c(u.targetSnapshot.root)).pipe(Ap(),nu(1))}),HE(()=>this.afterPreactivation()),De(u=>{const c=function Bte(t,e,n){const r=Ol(t,e._root,n?n._root:void 0);return new LL(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),zt(()=>{this.events.next(new RE)}),((t,e,n,r)=>De(i=>(new Qte(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),nu(1),zt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _s(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function Yee(t){return vt((e,n)=>{$n(t).subscribe(ft(n,()=>n.complete(),_y)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(zt(u=>{throw u}))),CE(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),fo(u=>{if(a=!0,qL(u))this.events.next(new kl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function $te(t){return qL(t)&&go(t.url)}(u)?this.events.next(new kE(u.url)):s.resolve(!1);else{this.events.next(new Fp(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Vr}))}))}cancelNavigationTransition(n,r,i){const s=new kl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s2(t){return t!==Rl}let o2=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Cl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(Bne)},providedIn:"root"})}return t})(),Bne=(()=>{class t extends o2{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(O(_F))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Une=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P($ne)},providedIn:"root"})}return t})();class jne{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let $ne=(()=>{class t extends jne{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Gp=new V("",{providedIn:"root",factory:()=>({})});let Hne=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(Gne)},providedIn:"root"})}return t})(),Gne=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ul=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ul||{});function a2(t,e){t.events.pipe(ms(n=>n instanceof _s||n instanceof kl||n instanceof Fp||n instanceof su),De(n=>n instanceof _s||n instanceof su?Ul.COMPLETE:n instanceof kl&&(0===n.code||1===n.code)?Ul.REDIRECTING:Ul.FAILED),ms(n=>n!==Ul.REDIRECTING),nu(1)).subscribe(()=>{e()})}function zne(t){throw t}function qne(t,e,n){return e.parse("/")}const Wne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(YP),this.isNgZoneEnabled=!1,this._events=new bt,this.options=P(Gp,{optional:!0})||{},this.pendingTasks=P(ZP),this.errorHandler=this.options.errorHandler||zne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(Hne),this.routeReuseStrategy=P(Une),this.titleStrategy=P(o2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(du,{optional:!0})?.flat()??[],this.navigationTransitions=P(Hp),this.urlSerializer=P(Al),this.location=P(Tw),this.componentInputBindingEnabled=!!P(Vp,{optional:!0}),this.eventsSubscription=new bn,this.isNgZoneEnabled=P(pe)instanceof pe&&pe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new iu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(u2(r)&&this._events.next(r));if(r instanceof Op)s2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof su)this.rawUrlTree=i.rawUrl;else if(r instanceof PL){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof RE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof kl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof kE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s2(i.source)};this.scheduleNavigation(s,Rl,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Fp&&this.restoreHistory(i,!0),r instanceof _s&&(this.navigated=!0),u2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(UE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=SL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return AL(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=go(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Rl,null,r)}navigate(n,r={skipLocationChange:!1}){return function Qne(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new I(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Wne}:!1===r?{...Kne}:r,go(n))return _L(this.currentUrlTree,n,i);const s=this.parseUrl(n);return _L(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return a2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u2(t){return!(t instanceof RE||t instanceof kE)}class c2{}let Xne=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ms(n=>n instanceof _s),bl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=qv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ct(i).pipe(ia())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const s=i.pipe(Bt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Ct([s,this.loader.loadComponent(r)]).pipe(ia()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(O(yr),O(XP),O(hr),O(c2),O(GE))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qE=new V("");let l2=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Op?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _s?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof su&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof OL&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new OL(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function zR(){throw new Error("invalid")}()};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Li(t,e){return{\u0275kind:t,\u0275providers:e}}function h2(){const t=P(St);return e=>{const n=t.get(Ni);if(e!==n.components[0])return;const r=t.get(yr),i=t.get(f2);1===t.get(WE)&&r.initialNavigation(),t.get(p2,null,oe.Optional)?.setUpPreloading(),t.get(qE,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const f2=new V("",{factory:()=>new bt}),WE=new V("",{providedIn:"root",factory:()=>1}),p2=new V("");function nre(t){return Li(0,[{provide:p2,useExisting:Xne},{provide:c2,useExisting:t}])}const g2=new V("ROUTER_FORROOT_GUARD"),ire=[Tw,{provide:Al,useClass:SE},yr,Pl,{provide:au,useFactory:function d2(t){return t.routerState.root},deps:[yr]},GE,[]];function sre(){return new sO("Router",yr)}let m2=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[ire,[],{provide:du,multi:!0,useValue:n},{provide:g2,useFactory:cre,deps:[[yr,new xn,new Kh]]},{provide:Gp,useValue:r||{}},r?.useHash?{provide:ao,useClass:_Y}:{provide:ao,useClass:OO},{provide:qE,useFactory:()=>{const t=P(LZ),e=P(pe),n=P(Gp),r=P(Hp),i=P(Al);return n.scrollOffset&&t.setOffset(n.scrollOffset),new l2(i,r,t,e,n)}},r?.preloadingStrategy?nre(r.preloadingStrategy).\u0275providers:[],{provide:sO,multi:!0,useFactory:sre},r?.initialNavigation?lre(r):[],r?.bindToComponentInputs?Li(8,[HL,{provide:Vp,useExisting:HL}]).\u0275providers:[],[{provide:y2,useFactory:h2},{provide:pw,multi:!0,useExisting:y2}]]}}static forChild(n){return{ngModule:t,providers:[{provide:du,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(O(g2,8))};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({})}return t})();function cre(t){return"guarded"}function lre(t){return["disabled"===t.initialNavigation?Li(3,[{provide:ow,multi:!0,useFactory:()=>{const e=P(yr);return()=>{e.setUpLocationChangeListener()}}},{provide:WE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Li(2,[{provide:WE,useValue:0},{provide:ow,multi:!0,deps:[St],useFactory:e=>{const n=e.get(mY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(yr),s=e.get(f2);a2(i,()=>{r(!0)}),e.get(Hp).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const y2=new V(""),hre=[];let fre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({imports:[m2.forRoot(hre),m2]})}return t})();function _2(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){_2(s,r,i,o,a,"next",u)}function a(u){_2(s,r,i,o,a,"throw",u)}o(void 0)})}}const v2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new yre;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zp=function(t){return function(t){const e=v2(t);return QE.encodeByteArray(e,!0)}(t).replace(/\./g,"")},qp=function(t){try{return QE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Wp=()=>{try{return function wre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},E2=()=>{var t;return null===(t=Wp())||void 0===t?void 0:t.config};class Kp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function er(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function YE(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function mo(){try{return"object"==typeof indexedDB}catch{return!1}}function jl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function ZE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Rre(t,e){return t.replace(kre,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new kr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const kre=/\{\$([^}]+)}/g;function XE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(D2(s)&&D2(o)){if(!XE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D2(t){return null!==t&&"object"==typeof t}function T2(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Ore{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Fre(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=JE),void 0===i.error&&(i.error=JE),void 0===i.complete&&(i.complete=JE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JE(){}const Lre=1e3,Vre=2,Bre=144e5,Ure=.5;function tI(t,e=Lre,n=Vre){const r=e*Math.pow(n,t),i=Math.round(Ure*r*(Math.random()-.5)*2);return Math.min(Bre,r+i)}function _r(t){return t&&t._delegate?t._delegate:t}class nn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yo="[DEFAULT]";class $re{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Gre(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===yo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $re(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const nI=[];var me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{});const b2={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},qre=me.INFO,Wre={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Kre=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Wre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class hu{constructor(e){this.name=e,this._logLevel=qre,this._logHandler=Kre,this._userLogHandler=null,nI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?b2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const Qre=(t,e)=>e.some(n=>t instanceof n);let C2,S2;const A2=new WeakMap,rI=new WeakMap,M2=new WeakMap,iI=new WeakMap,sI=new WeakMap;let oI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return rI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||M2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nie(t){return"function"==typeof t?function tie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zre(){return S2||(S2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(aI(this),e),vs(A2.get(this))}:function(...e){return vs(t.apply(aI(this),e))}:function(e,...n){const r=t.call(aI(this),e,...n);return M2.set(r,e.sort?e.sort():[e]),vs(r)}}(t):(t instanceof IDBTransaction&&function Jre(t){if(rI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rI.set(t,e)}(t),Qre(t,function Yre(){return C2||(C2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,oI):t)}function vs(t){if(t instanceof IDBRequest)return function Xre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&A2.set(n,t)}).catch(()=>{}),sI.set(e,t),e}(t);if(iI.has(t))return iI.get(t);const e=nie(t);return e!==t&&(iI.set(t,e),sI.set(e,t)),e}const aI=t=>sI.get(t),iie=["get","getKey","getAll","getAllKeys","count"],sie=["put","add","delete","clear"],uI=new Map;function N2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(uI.get(e))return uI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!iie.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return uI.set(e,s),s}!function eie(t){oI=t(oI)}(t=>({...t,get:(e,n,r)=>N2(e,n)||t.get(e,n,r),has:(e,n)=>!!N2(e,n)||t.has(e,n)}));class oie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function aie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const cI="@firebase/app",_o=new hu("@firebase/app"),Yp="[DEFAULT]",kie={[cI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vo=new Map,Zp=new Map;function Pie(t,e){try{t.container.addComponent(e)}catch(n){_o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(Zp.has(e))return _o.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of vo.values())Pie(n,t);return!0}function Xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Vi=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const $l="9.23.0";function R2(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=E2()),!n)throw Vi.create("no-options");const s=vo.get(i);if(s){if(XE(n,s.options)&&XE(r,s.config))return s;throw Vi.create("duplicate-app",{appName:i})}const o=new zre(i);for(const u of Zp.values())o.addComponent(u);const a=new Fie(n,r,o);return vo.set(i,a),a}function k2(t=Yp){const e=vo.get(t);if(!e&&t===Yp&&E2())return R2();if(!e)throw Vi.create("no-app",{appName:t});return e}function P2(){return Array.from(vo.values())}function ut(t,e,n){var r;let i=null!==(r=kie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void _o.warn(a.join(" "))}wn(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Lie="firebase-heartbeat-database",Vie=1,Hl="firebase-heartbeat-store";let dI=null;function O2(){return dI||(dI=function rie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vs(o.result),u.oldVersion,u.newVersion,vs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Lie,Vie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Hl)}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),dI}function hI(){return(hI=_(function*(t){try{return yield(yield O2()).transaction(Hl).objectStore(Hl).get(L2(t))}catch(e){if(e instanceof kr)_o.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e?.message});_o.warn(n.message)}}})).apply(this,arguments)}function F2(t,e){return fI.apply(this,arguments)}function fI(){return(fI=_(function*(t,e){try{const r=(yield O2()).transaction(Hl,"readwrite");yield r.objectStore(Hl).put(e,L2(t)),yield r.done}catch(n){if(n instanceof kr)_o.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n?.message});_o.warn(r.message)}}})).apply(this,arguments)}function L2(t){return`${t.name}!${t.options.appId}`}class $ie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=V2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=V2(),{heartbeatsToSend:r,unsentEntries:i}=function Hie(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=zp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function V2(){return(new Date).toISOString().substring(0,10)}class Gie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!mo()&&jl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Bie(t){return hI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return F2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return F2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function B2(t){return zp(JSON.stringify({version:2,heartbeats:t})).length}!function zie(t){wn(new nn("platform-logger",e=>new oie(e),"PRIVATE")),wn(new nn("heartbeat",e=>new $ie(e),"PRIVATE")),ut(cI,"0.9.13",t),ut(cI,"0.9.13","esm2017"),ut("fire-js","")}(""),ut("firebase","9.23.0","app");const Kie=(t,e)=>e.some(n=>t instanceof n);let U2,j2;const $2=new WeakMap,pI=new WeakMap,H2=new WeakMap,gI=new WeakMap,mI=new WeakMap;let yI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||H2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function tse(t){return"function"==typeof t?function ese(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yie(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(_I(this),e),ws($2.get(this))}:function(...e){return ws(t.apply(_I(this),e))}:function(e,...n){const r=t.call(_I(this),e,...n);return H2.set(r,e.sort?e.sort():[e]),ws(r)}}(t):(t instanceof IDBTransaction&&function Xie(t){if(pI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pI.set(t,e)}(t),Kie(t,function Qie(){return U2||(U2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,yI):t)}function ws(t){if(t instanceof IDBRequest)return function Zie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$2.set(n,t)}).catch(()=>{}),mI.set(e,t),e}(t);if(gI.has(t))return gI.get(t);const e=tse(t);return e!==t&&(gI.set(t,e),mI.set(e,t)),e}const _I=t=>mI.get(t),rse=["get","getKey","getAll","getAllKeys","count"],ise=["put","add","delete","clear"],vI=new Map;function G2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(vI.get(e))return vI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ise.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rse.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return vI.set(e,s),s}!function Jie(t){yI=t(yI)}(t=>({...t,get:(e,n,r)=>G2(e,n)||t.get(e,n,r),has:(e,n)=>!!G2(e,n)||t.has(e,n)}));const z2="@firebase/installations",wI="0.6.4",q2=1e4,W2=`w:${wI}`,K2="FIS_v2",sse="https://firebaseinstallations.googleapis.com/v1",ose=36e5,Bi=new ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Q2(t){return t instanceof kr&&t.code.includes("request-failed")}function EI({projectId:t}){return`${sse}/projects/${t}/installations`}function Y2(t){return{token:t.token,requestStatus:2,expiresIn:lse(t.expiresIn),creationTime:Date.now()}}function II(t,e){return DI.apply(this,arguments)}function DI(){return(DI=_(function*(t,e){const r=(yield e.json()).error;return Bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Z2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TI(t){return bI.apply(this,arguments)}function bI(){return(bI=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function lse(t){return Number(t.replace("s","000"))}function CI(){return(CI=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EI(t),i=Z2(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:K2,appId:t.appId,sdkVersion:W2})},u=yield TI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Y2(c.authToken)}}throw yield II("Create Installation",u)})).apply(this,arguments)}function J2(t){return new Promise(e=>{setTimeout(e,t)})}const pse=/^[cdef][\w-]{21}$/,SI="";function gse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function mse(t){return function fse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return pse.test(n)?n:SI}catch{return SI}}function fu(t){return`${t.appName}!${t.appId}`}const pu=new Map;function eV(t,e){const n=fu(t);tV(n,e),function vse(t,e){const n=function nV(){return!wo&&"BroadcastChannel"in self&&(wo=new BroadcastChannel("[Firebase] FID Change"),wo.onmessage=t=>{tV(t.data.key,t.data.fid)}),wo}();n&&n.postMessage({key:t,fid:e}),function rV(){0===pu.size&&wo&&(wo.close(),wo=null)}()}(n,e)}function tV(t,e){const n=pu.get(t);if(n)for(const r of n)r(e)}let wo=null;const wse="firebase-installations-database",Ese=1,Eo="firebase-installations-store";let AI=null;function MI(){return AI||(AI=function nse(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ws(o.result),u.oldVersion,u.newVersion,ws(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(wse,Ese,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Eo)}})),AI}function Jp(t,e){return NI.apply(this,arguments)}function NI(){return(NI=_(function*(t,e){const n=fu(t),i=(yield MI()).transaction(Eo,"readwrite"),s=i.objectStore(Eo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&eV(t,e.fid),e})).apply(this,arguments)}function xI(t){return RI.apply(this,arguments)}function RI(){return(RI=_(function*(t){const e=fu(t),r=(yield MI()).transaction(Eo,"readwrite");yield r.objectStore(Eo).delete(e),yield r.done})).apply(this,arguments)}function Gl(t,e){return kI.apply(this,arguments)}function kI(){return(kI=_(function*(t,e){const n=fu(t),i=(yield MI()).transaction(Eo,"readwrite"),s=i.objectStore(Eo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&eV(t,a.fid),a})).apply(this,arguments)}function PI(t){return OI.apply(this,arguments)}function OI(){return OI=_(function*(t){let e;const n=yield Gl(t.appConfig,r=>{const i=function Ise(t){return sV(t||{fid:gse(),registrationStatus:0})}(r),s=function Dse(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Bi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Tse(t,e){return FI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bse(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===SI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),OI.apply(this,arguments)}function FI(){return FI=_(function*(t,e){try{const n=yield function hse(t,e){return CI.apply(this,arguments)}(t,e);return Jp(t.appConfig,n)}catch(n){throw Q2(n)&&409===n.customData.serverCode?yield xI(t.appConfig):yield Jp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),FI.apply(this,arguments)}function bse(t){return LI.apply(this,arguments)}function LI(){return(LI=_(function*(t){let e=yield iV(t.appConfig);for(;1===e.registrationStatus;)yield J2(100),e=yield iV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield PI(t);return r||n}return e})).apply(this,arguments)}function iV(t){return Gl(t,e=>{if(!e)throw Bi.create("installation-not-found");return sV(e)})}function sV(t){return function Cse(t){return 1===t.registrationStatus&&t.registrationTime+q2<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function VI(){return(VI=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ase(t,{fid:e}){return`${EI(t)}/${e}/authTokens:generate`}(t,n),i=function X2(t,{refreshToken:e}){const n=Z2(t);return n.append("Authorization",function dse(t){return`${K2} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:W2,appId:t.appId}})},u=yield TI(()=>fetch(r,a));if(u.ok)return Y2(yield u.json());throw yield II("Generate Auth Token",u)})).apply(this,arguments)}function BI(t){return UI.apply(this,arguments)}function UI(){return UI=_(function*(t,e=!1){let n;const r=yield Gl(t.appConfig,s=>{if(!aV(s))throw Bi.create("not-registered");const o=s.authToken;if(!e&&function xse(t){return 2===t.requestStatus&&!function Rse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ose}(t)}(o))return s;if(1===o.requestStatus)return n=function Mse(t,e){return jI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Bi.create("app-offline");const a=function kse(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Nse(t,e){return $I.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),UI.apply(this,arguments)}function jI(){return(jI=_(function*(t,e){let n=yield oV(t.appConfig);for(;1===n.authToken.requestStatus;)yield J2(100),n=yield oV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?BI(t,e):r})).apply(this,arguments)}function oV(t){return Gl(t,e=>{if(!aV(e))throw Bi.create("not-registered");return function Pse(t){return 1===t.requestStatus&&t.requestTime+q2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $I(){return $I=_(function*(t,e){try{const n=yield function Sse(t,e){return VI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Jp(t.appConfig,r),n}catch(n){if(!Q2(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jp(t.appConfig,r)}else yield xI(t.appConfig);throw n}}),$I.apply(this,arguments)}function aV(t){return void 0!==t&&2===t.registrationStatus}function HI(){return(HI=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield PI(e);return r?r.catch(console.error):BI(e).catch(console.error),n.fid})).apply(this,arguments)}function GI(){return GI=_(function*(t,e=!1){const n=t;return yield function Lse(t){return zI.apply(this,arguments)}(n),(yield BI(n,e)).token}),GI.apply(this,arguments)}function zI(){return(zI=_(function*(t){const{registrationPromise:e}=yield PI(t);e&&(yield e)})).apply(this,arguments)}function KI(t){return Bi.create("missing-app-config-values",{valueName:t})}const uV="installations",$se=t=>{const e=t.getProvider("app").getImmediate(),n=function Use(t){if(!t||!t.options)throw KI("App Configuration");if(!t.name)throw KI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw KI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Xp(e,"heartbeat"),_delete:()=>Promise.resolve()}},Hse=t=>{const n=Xp(t.getProvider("app").getImmediate(),uV).getImmediate();return{getId:()=>function Ose(t){return HI.apply(this,arguments)}(n),getToken:i=>function Fse(t){return GI.apply(this,arguments)}(n,i)}};(function Gse(){wn(new nn(uV,$se,"PUBLIC")),wn(new nn("installations-internal",Hse,"PRIVATE"))})(),ut(z2,wI),ut(z2,wI,"esm2017");const QI="@firebase/remote-config",Vn=new ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class toe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function noe(t=navigator){return t.languages&&t.languages[0]||t.language}class roe{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:noe()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",y(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),Vn.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw Vn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Vn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class ooe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function ioe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function soe(t){if(!(t instanceof kr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+tI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class coe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tg(t,e){const n=t.target.error||void 0;return Vn.create(e,{originalErrorMessage:n&&n?.message})}const Io="app_namespace_store";class foe{constructor(e,n,r,i=function hoe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(tg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Io,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Io],"readonly").objectStore(Io),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(tg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Vn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Io],"readwrite").objectStore(Io),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(tg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Vn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Io],"readwrite").objectStore(Io),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(tg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Vn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class poe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function moe(){return eD.apply(this,arguments)}function eD(){return(eD=_(function*(){if(!mo())return!1;try{return yield jl()}catch{return!1}})).apply(this,arguments)}!function goe(){wn(new nn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!mo())throw Vn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Vn.create("registration-project-id");if(!o)throw Vn.create("registration-api-key");if(!a)throw Vn.create("registration-app-id");const u=new foe(a,r.name,n=n||"firebase"),c=new poe(u),l=new hu(QI);l.logLevel=me.ERROR;const d=new roe(i,$l,n,s,o,a),h=new ooe(d,u),f=new toe(h,u,c,l),p=new coe(r,f,c,u,l);return function Xse(t){const e=_r(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ut(QI,"0.4.4"),ut(QI,"0.4.4","esm2017")}();const yoe=(t,e)=>e.some(n=>t instanceof n);let hV,fV;const pV=new WeakMap,tD=new WeakMap,gV=new WeakMap,nD=new WeakMap,rD=new WeakMap;let iD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Toe(t){return"function"==typeof t?function Doe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function voe(){return fV||(fV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sD(this),e),Ui(pV.get(this))}:function(...e){return Ui(t.apply(sD(this),e))}:function(e,...n){const r=t.call(sD(this),e,...n);return gV.set(r,e.sort?e.sort():[e]),Ui(r)}}(t):(t instanceof IDBTransaction&&function Eoe(t){if(tD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tD.set(t,e)}(t),yoe(t,function _oe(){return hV||(hV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iD):t)}function Ui(t){if(t instanceof IDBRequest)return function woe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ui(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pV.set(n,t)}).catch(()=>{}),rD.set(e,t),e}(t);if(nD.has(t))return nD.get(t);const e=Toe(t);return e!==t&&(nD.set(t,e),rD.set(e,t)),e}const sD=t=>rD.get(t);function mV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ui(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ui(o.result),u.oldVersion,u.newVersion,Ui(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function oD(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ui(n).then(()=>{})}const boe=["get","getKey","getAll","getAllKeys","count"],Coe=["put","add","delete","clear"],aD=new Map;function yV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aD.get(e))return aD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Coe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!boe.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aD.set(e,s),s}!function Ioe(t){iD=t(iD)}(t=>({...t,get:(e,n,r)=>yV(e,n)||t.get(e,n,r),has:(e,n)=>!!yV(e,n)||t.has(e,n)}));const Soe="/firebase-messaging-sw.js",Aoe="/firebase-cloud-messaging-push-scope",_V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Moe="https://fcmregistrations.googleapis.com/v1",vV="google.c.a.c_id",Noe="google.c.a.c_l",xoe="google.c.a.ts";var ng=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(ng||{});function ji(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Poe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const uD="fcm_token_details_db",Ooe=5,wV="fcm_token_object_Store";function cD(){return cD=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(uD))return null;let e=null;return(yield mV(uD,Ooe,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(wV))return;const c=a.objectStore(wV),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ji(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ji(d.auth),p256dh:ji(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ji(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ji(d.auth),p256dh:ji(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ji(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield oD(uD),yield oD("fcm_vapid_details_db"),yield oD("undefined"),function Loe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),cD.apply(this,arguments)}const Voe="firebase-messaging-database",Boe=1,Do="firebase-messaging-store";let lD=null;function dD(){return lD||(lD=mV(Voe,Boe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Do)}})),lD}function EV(t){return hD.apply(this,arguments)}function hD(){return hD=_(function*(t){const e=mD(t),r=yield(yield dD()).transaction(Do).objectStore(Do).get(e);if(r)return r;{const i=yield function Foe(t){return cD.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield fD(t,i),i}}),hD.apply(this,arguments)}function fD(t,e){return pD.apply(this,arguments)}function pD(){return(pD=_(function*(t,e){const n=mD(t),i=(yield dD()).transaction(Do,"readwrite");return yield i.objectStore(Do).put(e,n),yield i.done,e})).apply(this,arguments)}function gD(){return(gD=_(function*(t){const e=mD(t),r=(yield dD()).transaction(Do,"readwrite");yield r.objectStore(Do).delete(e),yield r.done})).apply(this,arguments)}function mD({appConfig:t}){return t.appId}const qt=new ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $oe(t,e){return yD.apply(this,arguments)}function yD(){return(yD=_(function*(t,e){const n=yield ED(t),r=DV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(wD(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function _D(){return(_D=_(function*(t,e){const n=yield ED(t),r=DV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${wD(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function IV(t,e){return vD.apply(this,arguments)}function vD(){return(vD=_(function*(t,e){const r={method:"DELETE",headers:yield ED(t)};try{const s=yield(yield fetch(`${wD(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function wD({projectId:t}){return`${Moe}/projects/${t}/registrations`}function ED(t){return ID.apply(this,arguments)}function ID(){return(ID=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function DV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==_V&&(i.web.applicationPubKey=r),i}const Goe=6048e5;function DD(){return DD=_(function*(t){const e=yield function Woe(t,e){return SD.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ji(e.getKey("auth")),p256dh:ji(e.getKey("p256dh"))},r=yield EV(t.firebaseDependencies);if(r){if(function Koe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Goe?function qoe(t,e){return bD.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield IV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bV(t.firebaseDependencies,n)}return bV(t.firebaseDependencies,n)}),DD.apply(this,arguments)}function TD(){return TD=_(function*(t){const e=yield EV(t.firebaseDependencies);e&&(yield IV(t.firebaseDependencies,e.token),yield function Uoe(t){return gD.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),TD.apply(this,arguments)}function bD(){return bD=_(function*(t,e){try{const n=yield function Hoe(t,e){return _D.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fD(t.firebaseDependencies,r),n}catch(n){throw yield function TV(t){return TD.apply(this,arguments)}(t),n}}),bD.apply(this,arguments)}function bV(t,e){return CD.apply(this,arguments)}function CD(){return(CD=_(function*(t,e){const r={token:yield $oe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fD(t,r),r.token})).apply(this,arguments)}function SD(){return(SD=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Poe(e)})})).apply(this,arguments)}function CV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Qoe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Yoe(t,e){e.data&&(t.data=e.data)}(e,t),function Zoe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function SV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function AD(t){return qt.create("missing-app-config-values",{valueName:t})}SV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),SV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class eae{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Joe(t){if(!t||!t.options)throw AD("App Configuration Object");if(!t.name)throw AD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw AD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function MD(){return(MD=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Soe,{scope:Aoe}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function ND(){return(ND=_(function*(t,e){if(!e&&!t.swRegistration&&(yield function AV(t){return MD.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function xD(){return(xD=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=_V)})).apply(this,arguments)}function RD(){return RD=_(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield function nae(t,e){return xD.apply(this,arguments)}(t,e?.vapidKey),yield function tae(t,e){return ND.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function zoe(t){return DD.apply(this,arguments)}(t)}),RD.apply(this,arguments)}function kD(){return(kD=_(function*(t,e,n){const r=function iae(t){switch(t){case ng.NOTIFICATION_CLICKED:return"notification_open";case ng.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[vV],message_name:n[Noe],message_time:n[xoe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function PD(){return PD=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ng.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(CV(n)):t.onMessageHandler.next(CV(n)));const r=n.data;(function Xoe(t){return"object"==typeof t&&!!t&&vV in t})(r)&&"1"===r["google.c.a.e"]&&(yield function rae(t,e,n){return kD.apply(this,arguments)}(t,n.messageType,r))}),PD.apply(this,arguments)}const NV="@firebase/messaging",oae=t=>{const e=new eae(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function sae(t,e){return PD.apply(this,arguments)}(e,n)),e},aae=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function MV(t,e){return RD.apply(this,arguments)}(e,r)}};function RV(){return OD.apply(this,arguments)}function OD(){return(OD=_(function*(){try{yield jl()}catch{return!1}return typeof window<"u"&&mo()&&ZE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uae(){wn(new nn("messaging",oae,"PUBLIC")),wn(new nn("messaging-internal",aae,"PRIVATE")),ut(NV,"0.12.4"),ut(NV,"0.12.4","esm2017")}();const rg="analytics",dae="firebase_id",hae="origin",fae=6e4,pae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VD="https://www.googletagmanager.com/gtag/js",xt=new hu("@firebase/analytics"),En=new ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mae(t){if(!t.startsWith(VD)){const e=En.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function kV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BD(){return(BD=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield kV(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,s)})).apply(this,arguments)}function UD(){return(UD=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kV(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){xt.error(s)}})).apply(this,arguments)}const bae=30,PV=new class Sae{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Aae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jD(){return(jD=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Aae(r)},s=pae.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $D(){return($D=_(function*(t,e=PV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw En.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw En.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kae;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:fae),OV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function OV(t,e,n){return HD.apply(this,arguments)}function HD(){return HD=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PV){var s;const{appId:o,measurementId:a}=t;try{yield function xae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Mae(t){return jD.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Rae(t){if(!(t instanceof kr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?tI(n,i.intervalMillis,bae):tI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),xt.debug(`Calling attemptFetch again in ${l} millis`),OV(t,d,r,i)}}),HD.apply(this,arguments)}class kae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let GD,ZD;function zD(){return(zD=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function XD(){return(XD=_(function*(){if(!mo())return xt.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield jl()}catch(t){return xt.warn(En.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function JD(){return JD=_(function*(t,e,n,r,i,s,o){var a;const u=function Nae(t){return $D.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=function Uae(){return XD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Tae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(VD)&&n.src.includes(t))return n;return null})(s)||function _ae(t,e){const n=function yae(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:mae}),r=document.createElement("script"),i=`${VD}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),ZD&&(i("consent","default",ZD),function FV(t){ZD=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[hae]="firebase",h.update=!0,null!=d&&(h[dae]=d),i("config",l.measurementId,h),GD&&(i("set",GD),function LV(t){GD=t}(void 0)),l.measurementId}),JD.apply(this,arguments)}class $ae{constructor(e){this.app=e}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},VV=[];const BV={};let jV,ni,ig="dataLayer",eT=!1;function Gae(t,e,n){!function Hae(){const t=[];if(YE()&&t.push("This is a browser extension environment."),ZE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw En.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw En.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[r])throw En.create("already-exists",{id:r});if(!eT){!function vae(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ig);const{wrappedGtag:s,gtagCore:o}=function Dae(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Iae(t,e,n,r){function s(){return s=_(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Eae(t,e,n,r,i){return UD.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function wae(t,e,n,r,i,s){return BD.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){xt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ti,VV,BV,ig,"gtag");ni=s,jV=o,eT=!0}return ti[r]=function jae(t,e,n,r,i,s,o){return JD.apply(this,arguments)}(t,VV,BV,e,jV,ig,n),new $ae(t)}function qae(){return tT.apply(this,arguments)}function tT(){return(tT=_(function*(){if(YE()||!ZE()||!mo())return!1;try{return yield jl()}catch{return!1}})).apply(this,arguments)}const $V="@firebase/analytics";!function Kae(){wn(new nn(rg,(e,{options:n})=>Gae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wn(new nn("analytics-internal",function t(e){try{const n=e.getProvider(rg).getImmediate();return{logEvent:(r,i,s)=>function Wae(t,e,n,r){t=_r(t),function Pae(t,e,n,r,i){return zD.apply(this,arguments)}(ni,ti[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}(n,r,i,s)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ut($V,"0.10.0"),ut($V,"0.10.0","esm2017")}();class Qae extends bn{constructor(e,n){super()}schedule(e,n=0){return this}}const sg={setInterval(t,e,...n){const{delegate:r}=sg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=sg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class GV extends Qae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return sg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&sg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ra(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const zV={now:()=>(zV.delegate||Date).now(),delegate:void 0};class zl{constructor(e,n=zl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}zl.now=zV.now;class qV extends zl{constructor(e,n=zl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Xae=new class Zae extends qV{}(class Yae extends GV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Jae=new qV(GV),rT=new ka("7.6.1"),iT="__angularfire_symbol__analyticsIsSupportedValue",sT="__angularfire_symbol__analyticsIsSupported",oT="__angularfire_symbol__remoteConfigIsSupportedValue",aT="__angularfire_symbol__remoteConfigIsSupported",uT="__angularfire_symbol__messagingIsSupportedValue",cT="__angularfire_symbol__messagingIsSupported";globalThis[sT]||(globalThis[sT]=qae().then(t=>globalThis[iT]=t).catch(()=>globalThis[iT]=!1)),globalThis[cT]||(globalThis[cT]=RV().then(t=>globalThis[uT]=t).catch(()=>globalThis[uT]=!1)),globalThis[aT]||(globalThis[aT]=moe().then(t=>globalThis[oT]=t).catch(()=>globalThis[oT]=!1));const hT=(t,e)=>{const n=e?[e]:P2(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function gu(){}class WV{constructor(e,n=Xae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class eue{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gu,{},gu,gu)),n.pipe(zt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let KV=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new WV(Zone.current)),this.insideAngular=n.run(()=>new WV(Zone.current,Jae)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(O(pe))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function To(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function bo(t){return To().ngZone.run(()=>t())}function nue(t){return To(),function rue(t){return function(n){return(n=n.lift(new eue(t.ngZone))).pipe(Eh(t.outsideAngular),wh(t.insideAngular))}}(To())(t)}const iue=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),bo(()=>t.apply(void 0,r))},Co=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gu,{},gu,gu)))),r[s]=iue(r[s],n));const i=function tue(t){return To().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof We){const s=To();return i.pipe(Eh(s.outsideAngular),wh(s.insideAngular))}return bo(()=>i)}return i instanceof We?i.pipe(nue):i instanceof Promise?bo(()=>new Promise((s,o)=>i.then(a=>bo(()=>s(a)),a=>bo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:bo(()=>i)};class mu{constructor(e){return e}}class QV{constructor(){return P2()}}const fT=new V("angularfire2._apps"),oue={provide:mu,useFactory:function sue(t){return t&&1===t.length?t[0]:new mu(k2())},deps:[[new xn,fT]]},aue={provide:QV,deps:[[new xn,fT]]};function uue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new mu(r)}}let cue=(()=>{class t{constructor(n){ut("angularfire",rT.full,"core"),ut("angularfire",rT.full,"app"),ut("angular",wR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(O(cs))},t.\u0275mod=Sn({type:t}),t.\u0275inj=dn({providers:[oue,aue]}),t})();function lue(t,...e){return{ngModule:cue,providers:[{provide:fT,useFactory:uue(t),multi:!0,deps:[pe,St,KV,...e]}]}}const due=Co(R2,!0);const hue=function YV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ZV=new ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),og=new hu("@firebase/auth");function ag(t,...e){og.logLevel<=me.ERROR&&og.error(`Auth (${$l}): ${t}`,...e)}function Bn(t,...e){throw pT(t,...e)}function ri(t,...e){return pT(t,...e)}function pT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZV.create(t,...e)}function M(t,e,...n){if(!t)throw pT(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ag(e),new Error(e)}function Es(t,e){t||ii(e)}function JV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=function Are(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}()||function Nre(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function pue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gT(){return"http:"===JV()||"https:"===JV()}()||YE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class eB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yue=new Wl(3e4,6e4);function tt(t,e,n,r){return yT.apply(this,arguments)}function yT(){return(yT=_(function*(t,e,n,r,i={}){return tB(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=T2(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eB.fetch()(nB(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tB(t,e,n){return _T.apply(this,arguments)}function _T(){return(_T=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mue),e);try{const i=new _ue(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Kl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Kl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Kl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Kl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function XV(t,e,n){const r=Object.assign(Object.assign({},hue()),{[e]:n});return new ei("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Bn(t,l)}}catch(i){if(i instanceof kr)throw i;Bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function nB(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function mT(t,e){Es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class _ue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),yue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function wT(){return(wT=_(function*(t,e){return tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function IT(){return(IT=_(function*(t,e){return tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function DT(){return(DT=_(function*(t,e=!1){const n=_r(t),r=yield n.getIdToken(e),i=ug(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ql(TT(i.auth_time)),issuedAtTime:Ql(TT(i.iat)),expirationTime:Ql(TT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function TT(t){return 1e3*Number(t)}function ug(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=qp(n);return i?JSON.parse(i):(ag("Failed to decode base64 JWT payload"),null)}catch(i){return ag("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Hi(t,e){return bT.apply(this,arguments)}function bT(){return(bT=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof kr&&function Tue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class bue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class rB{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yl(t){return CT.apply(this,arguments)}function CT(){return CT=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Hi(t,function Eue(t,e){return IT.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Aue(t){return t.map(e=>{var{providerId:n}=e,r=Cy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Sue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rB(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),CT.apply(this,arguments)}function ST(){return(ST=_(function*(t){const e=_r(t);yield Yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function AT(){return(AT=_(function*(t,e){const n=yield tB(t,{},_(function*(){const r=T2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nB(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Due(t){const e=ug(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Mue(t,e){return AT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return ii("not implemented")}}function Is(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class So{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield Hi(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Iue(t){return DT.apply(this,arguments)}(this,e)}reload(){return function Cue(t){return ST.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new So(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Yl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield Hi(e,function vue(t,e){return wT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:A,isAnonymous:L,providerData:H,stsTokenManager:re}=n;M(D&&re,e,"internal-error");const Ve=Zl.fromJSON(this.name,re);M("string"==typeof D,e,"internal-error"),Is(d,e.name),Is(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof L,e,"internal-error"),Is(f,e.name),Is(p,e.name),Is(g,e.name),Is(m,e.name),Is(v,e.name),Is(y,e.name);const _t=new So({uid:D,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ve,createdAt:v,lastLoginAt:y});return H&&Array.isArray(H)&&(_t.providerData=H.map(ir=>Object.assign({},ir))),m&&(_t._redirectEventId=m),_t}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Zl;i.updateFromServerResponse(n);const s=new So({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yl(s),s})()}}const iB=new Map;function Gi(t){Es(t instanceof Function,"Expected a class definition");let e=iB.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iB.set(t,e),e)}const sB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function cg(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cg(this.userKey,i.apiKey,s),this.fullPersistenceKey=cg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?So._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new _u(Gi(sB),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Gi(sB);const o=cg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=So._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new _u(s,e,r)):new _u(s,e,r)})()}}function oB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function cB(t=er()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function aB(t=er()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function dB(t=er()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function hB(t=er()){return/webos/i.test(t)}(e))return"Webos";if(function MT(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function uB(t=er()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function lB(t=er()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function fB(t,e=[]){let n;switch(t){case"Browser":n=oB(er());break;case"Worker":n=`${oB(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}function pB(t,e){return xT.apply(this,arguments)}function xT(){return(xT=_(function*(t,e){return tt(t,"GET","/v2/recaptchaConfig",function Qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function mB(t){return void 0!==t&&void 0!==t.enterprise}class yB{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class vB{constructor(e){this.type="recaptcha-enterprise",this.auth=Rt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){pB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new yB(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;mB(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&mB(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function RT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function kue(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Lue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Vue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wB(this),this.idTokenSubscription=new wB(this),this.beforeStateQueue=new Lue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield _u.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Yl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function gue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?_r(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Gi(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield pB(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new yB(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new vB(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&Gi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield _u.create(n,[Gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function fue(t,...e){og.logLevel<=me.WARN&&og.warn(`Auth (${$l}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Rt(t){return _r(t)}class wB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Pre(t,e){const n=new Ore(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function _B(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Wl(3e4,6e4),new Wl(2e3,1e4),new Wl(3e4,6e4),new Wl(5e3,15e3),encodeURIComponent("fac");var QB="@firebase/auth";class Nle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Wp(),function Rle(t){wn(new nn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fB(t)},c=new Vue(r,i,s,u);return function Uue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new nn("auth-internal",e=>{const n=Rt(e.getProvider("auth").getImmediate());return new Nle(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(QB,"0.23.2",function xle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ut(QB,"0.23.2","esm2017")}("Browser");class JB{constructor(){return hT("auth")}}const wC=new Map,eU={activated:!1,tokenObservers:[]},Ble={initialized:!1,enabled:!1};function nt(t){return wC.get(t)||Object.assign({},eU)}function Ig(){return Ble}const EC="https://content-firebaseappcheck.googleapis.com/v1",Hle="exchangeDebugToken",tU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class zle{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new Kp,yield function qle(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Kp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Wt=new ei("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function IC(t){if(!nt(t).activated)throw Wt.create("use-before-activation",{appName:t.name})}function bg(t,e){return TC.apply(this,arguments)}function TC(){return TC=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Wt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Wt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Wt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),TC.apply(this,arguments)}function nU(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${EC}/projects/${n}/apps/${r}:${Hle}?key=${i}`,body:{debug_token:e}}}const Yle="firebase-app-check-database",Zle=1,nd="firebase-app-check-store";let Cg=null;function bC(){return bC=_(function*(t,e){const r=(yield function iU(){return Cg||(Cg=new Promise((t,e)=>{try{const n=indexedDB.open(Yle,Zle);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nd,{keyPath:"compositeKey"})}}catch(n){e(Wt.create("storage-open",{originalErrorMessage:n?.message}))}}),Cg)}()).transaction(nd,"readwrite"),s=r.objectStore(nd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Wt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),bC.apply(this,arguments)}const rd=new hu("@firebase/app-check");function AC(t,e){return mo()?function Jle(t,e){return function sU(t,e){return bC.apply(this,arguments)}(function aU(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{rd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function NC(){return Ig().enabled}function xC(){return RC.apply(this,arguments)}function RC(){return RC=_(function*(){const t=Ig();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RC.apply(this,arguments)}const sde={error:"UNKNOWN_ERROR"};function ode(t){return QE.encodeString(JSON.stringify(t),!1)}function Sg(t){return kC.apply(this,arguments)}function kC(){return kC=_(function*(t,e=!1){const n=t.app;IC(n);const r=nt(n);let s,i=r.token;if(i&&!wu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(wu(u)?i=u:yield AC(n,void 0))}if(!e&&i&&wu(i))return{token:i.token};let a,o=!1;if(NC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bg(nU(n,yield xC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield AC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield nt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?rd.warn(u.message):rd.error(u),s=u}return i?s?a=wu(i)?{token:i.token,internalError:s}:dU(s):(a={token:i.token},r.token=i,yield AC(n,i)):a=dU(s),o&&function lU(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),kC.apply(this,arguments)}function PC(){return PC=_(function*(t){const e=t.app;IC(e);const{provider:n}=nt(e);if(NC()){const r=yield xC(),{token:i}=yield bg(nU(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),PC.apply(this,arguments)}function FC(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function cU(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function ade(t){const{app:e}=t;return new zle(_(function*(){let r;if(r=nt(e).token?yield Sg(t,!0):yield Sg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},tU.RETRIAL_MIN_WAIT,tU.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wu(t){return t.expireTimeMillis-Date.now()>0}function dU(t){return{token:ode(sde),error:t}}class ude{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)FC(this.app,n.next);return Promise.resolve()}}const vU="app-check-internal";!function Ide(){wn(new nn("app-check",t=>function cde(t,e){return new ude(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(vU).initialize()})),wn(new nn(vU,t=>function lde(t){return{getToken:e=>Sg(t,e),getLimitedUseToken:()=>function uU(t){return PC.apply(this,arguments)}(t),addTokenListener:e=>function OC(t,e,n,r){const{app:i}=t,s=nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&wu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),cU(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>cU(t))}(t,"INTERNAL",e),removeTokenListener:e=>FC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ut("@firebase/app-check","0.8.0")}();class EU{constructor(){return hT("app-check")}}typeof window<"u"&&window;var R,Sde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pr={},jC=jC||{},ee=Sde||self;function Mg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function id(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var $C="closure_uid_"+(1e9*Math.random()>>>0),Mde=0;function Nde(t,e,n){return t.call.apply(t.bind,arguments)}function xde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return(rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nde:xde).apply(null,arguments)}function Ng(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ts(){this.s=this.s,this.o=this.o}Ts.prototype.s=!1,Ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ade(t){Object.prototype.hasOwnProperty.call(t,$C)&&t[$C]||(t[$C]=++Mde)}(this)},Ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function HC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var kde=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function sd(t){return/^[\s\xa0]*$/.test(t)}function xg(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function si(t){return-1!=xg().indexOf(t)}function GC(t){return GC[" "](t),t}GC[" "]=function(){};var qC,Ode=si("Opera"),Eu=si("Trident")||si("MSIE"),TU=si("Edge"),zC=TU||Eu,bU=si("Gecko")&&!(-1!=xg().toLowerCase().indexOf("webkit")&&!si("Edge"))&&!(si("Trident")||si("MSIE"))&&!si("Edge"),Fde=-1!=xg().toLowerCase().indexOf("webkit")&&!si("Edge");function CU(){var t=ee.document;return t?t.documentMode:void 0}e:{var WC="",KC=function(){var t=xg();return bU?/rv:([^\);]+)(\)|;)/.exec(t):TU?/Edge\/([\d\.]+)/.exec(t):Eu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Fde?/WebKit\/(\S+)/.exec(t):Ode?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(KC&&(WC=KC?KC[1]:""),Eu){var QC=CU();if(null!=QC&&QC>parseFloat(WC)){qC=String(QC);break e}}qC=WC}var Lde=ee.document&&Eu&&(CU()||parseInt(qC,10))||void 0;function od(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bU){e:{try{GC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vde[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&od.$.h.call(this)}}kt(od,sn);var Vde={2:"touch",3:"pen",4:"mouse"};od.prototype.h=function(){od.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ad="closure_listenable_"+(1e6*Math.random()|0),Bde=0;function Ude(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Bde,this.fa=this.ia=!1}function Rg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ZC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AU(t){const e={};for(const n in t)e[n]=t[n];return e}const MU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<MU.length;s++)n=MU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kg(t){this.src=t,this.g={},this.h=0}function XC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=IU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function JC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}kg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=JC(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Ude(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var e0="closure_lm_"+(1e6*Math.random()|0),t0={};function xU(t,e,n,r,i){if(r&&r.once)return kU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xU(t,e[s],n,r,i);return null}return n=o0(n),t&&t[ad]?t.O(e,n,id(r)?!!r.capture:!!r,i):RU(t,e,n,!1,r,i)}function RU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=id(i)?!!i.capture:!!i,a=r0(t);if(a||(t[e0]=a=new kg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function $de(){const e=Hde;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kde||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(OU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function kU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kU(t,e[s],n,r,i);return null}return n=o0(n),t&&t[ad]?t.P(e,n,id(r)?!!r.capture:!!r,i):RU(t,e,n,!0,r,i)}function PU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)PU(t,e[s],n,r,i);else r=id(r)?!!r.capture:!!r,n=o0(n),t&&t[ad]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=JC(s=t.g[e],n,r,i))&&(Rg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=r0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=JC(e,n,r,i)),(n=-1<t?e[t]:null)&&n0(n))}function n0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ad])XC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(OU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=r0(e))?(XC(n,t),0==n.h&&(n.src=null,e[e0]=null)):Rg(t)}}}function OU(t){return t in t0?t0[t]:t0[t]="on"+t}function Hde(t,e){if(t.fa)t=!0;else{e=new od(e,this);var n=t.listener,r=t.la||t.src;t.ia&&n0(t),t=n.call(r,e)}return t}function r0(t){return(t=t[e0])instanceof kg?t:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function o0(t){return"function"==typeof t?t:(t[s0]||(t[s0]=function(e){return t.handleEvent(e)}),t[s0])}function Pt(){Ts.call(this),this.i=new kg(this),this.S=this,this.J=null}function Kt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;NU(e=new sn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Pg(o,r,!0,e)&&i}if(i=Pg(o=e.g=t,r,!0,e)&&i,i=Pg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Pg(o=e.g=n[s],r,!1,e)&&i}function Pg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&XC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(Pt,Ts),Pt.prototype[ad]=!0,Pt.prototype.removeEventListener=function(t,e,n,r){PU(this,t,e,n,r)},Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rg(n[r]);delete t.g[e],t.h--}}this.J=null},Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var a0=ee.JSON.stringify;function zde(){var t=u0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var FU=new class Gde{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Wde,t=>t.reset());class Wde{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Kde(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qde(t){ee.setTimeout(()=>{throw t},0)}let ud,cd=!1,u0=new class qde{constructor(){this.h=this.g=null}add(e,n){const r=FU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},LU=()=>{const t=ee.Promise.resolve(void 0);ud=()=>{t.then(Yde)}};var Yde=()=>{for(var t;t=zde();){try{t.h.call(t.g)}catch(n){Qde(n)}var e=FU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cd=!1};function Og(t,e){Pt.call(this),this.h=t||1,this.g=e||ee,this.j=rn(this.qb,this),this.l=Date.now()}function c0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function l0(t,e,n){if("function"==typeof t)n&&(t=rn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function VU(t){t.g=l0(()=>{t.g=null,t.i&&(t.i=!1,VU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(Og,Pt),(R=Og.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(c0(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){Og.$.N.call(this),c0(this),delete this.g};class Zde extends Ts{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VU(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ld(t){Ts.call(this),this.h=t,this.g={}}kt(ld,Ts);var BU=[];function UU(t,e,n,r){Array.isArray(n)||(n&&(BU[0]=n.toString()),n=BU);for(var i=0;i<n.length;i++){var s=xU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jU(t){ZC(t.g,function(e,n){this.g.hasOwnProperty(n)&&n0(e)},t),t.g={}}function Fg(){this.g=!0}function Iu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function the(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return a0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ld.prototype.N=function(){ld.$.N.call(this),jU(this)},ld.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fg.prototype.Ea=function(){this.g=!1},Fg.prototype.info=function(){};var xo={},$U=null;function Lg(){return $U=$U||new Pt}function HU(t){sn.call(this,xo.Ta,t)}function dd(t){const e=Lg();Kt(e,new HU(e))}function GU(t,e){sn.call(this,xo.STAT_EVENT,t),this.stat=e}function In(t){const e=Lg();Kt(e,new GU(e,t))}function zU(t,e){sn.call(this,xo.Ua,t),this.size=e}function hd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}xo.Ta="serverreachability",kt(HU,sn),xo.STAT_EVENT="statevent",kt(GU,sn),xo.Ua="timingevent",kt(zU,sn);var Vg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function d0(){}function KU(){}d0.prototype.h=null;var p0,fd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function h0(){sn.call(this,"d")}function f0(){sn.call(this,"c")}function Bg(){}function pd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ld(this),this.P=nhe,this.V=new Og(t=zC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QU}function QU(){this.i=null,this.g="",this.h=!1}kt(h0,sn),kt(f0,sn),kt(Bg,d0),Bg.prototype.g=function(){return new XMLHttpRequest},Bg.prototype.i=function(){return{}},p0=new Bg;var nhe=45e3,g0={},Ug={};function m0(t,e,n){t.L=1,t.v=Gg(qi(e)),t.s=n,t.S=!0,YU(t,null)}function YU(t,e){t.G=Date.now(),gd(t),t.A=qi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),oj(n.i,"t",r),t.C=0,n=t.l.J,t.h=new QU,t.g=Nj(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Zde(rn(t.Pa,t,t.g),t.O)),UU(t.U,t.g,"readystatechange",t.nb),e=t.I?AU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),dd(),function Xde(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function ZU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function XU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=rhe(t,n),i==Ug){4==e&&(t.o=4,In(14),r=!1),Iu(t.j,t.m,null,"[Incomplete Response]");break}if(i==g0){t.o=4,In(15),Iu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Iu(t.j,t.m,i,null),y0(t,i)}ZU(t)&&i!=Ug&&i!=g0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,In(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),T0(e),e.M=!0,In(11))):(Iu(t.j,t.m,n,"[Invalid Chunked Response]"),Ro(t),md(t))}function rhe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ug:(n=Number(e.substring(n,r)),isNaN(n)?g0:(r+=1)+n>e.length?Ug:(e=e.slice(r,r+n),t.C=r+n,e))}function gd(t){t.Y=Date.now()+t.P,JU(t,t.P)}function JU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=hd(rn(t.lb,t),e)}function jg(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}function md(t){0==t.l.H||t.J||Cj(t.l,t)}function Ro(t){jg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,c0(t.V),jU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function y0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_0(n.i,t)))if(!t.K&&_0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Yg(n),Kg(n)}D0(n),In(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=hd(rn(n.ib,n),6e3));if(1>=cj(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Po(n,11)}else if((t.K||n.g==t)&&Yg(n),!sd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(v0(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ue(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=Mj(r,r.J?r.pa:null,r.Y),o.K){lj(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(jg(a),gd(a)),r.g=o}else Tj(r);0<n.j.length&&Qg(n)}else"stop"!=c[0]&&"close"!=c[0]||Po(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Po(n,7):I0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}dd()}catch{}}function ej(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Mg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function she(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ihe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Mg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(R=pd.prototype).setTimeout=function(t){this.P=t},R.nb=function(t){t=t.target;const e=this.M;e&&3==oi(t)?e.l():this.Pa(t)},R.Pa=function(t){try{if(t==this.g)e:{const l=oi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||zC||this.g&&(this.h.h||this.g.ja()||_j(this.g)))){this.J||4!=l||7==e||dd(),jg(this);var n=this.g.da();this.ca=n;t:if(ZU(this)){var r=_j(this.g);t="";var i=r.length,s=4==oi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),md(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Jde(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,In(12),Ro(this),md(this);break e}Iu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,y0(this,n)}this.S?(XU(this,l,o),zC&&this.i&&3==l&&(UU(this.U,this.V,"tick",this.mb),this.V.start())):(Iu(this.j,this.m,o,null),y0(this,o)),4==l&&Ro(this),this.i&&!this.J&&(4==l?Cj(this.l,this):(this.i=!1,gd(this)))}else(function Dhe(t){const e={};t=(t.g&&2<=oi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(sd(t[r]))continue;var n=Kde(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function jde(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,In(12)):(this.o=0,In(13)),Ro(this),md(this)}}}catch{}},R.mb=function(){if(this.g){var t=oi(this.g),e=this.g.ja();this.C<e.length&&(jg(this),XU(this,t,e),this.i&&4!=t&&gd(this))}},R.cancel=function(){this.J=!0,Ro(this)},R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function ehe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dd(),In(17)),Ro(this),this.o=2,md(this)):JU(this,this.Y-t)};var tj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ko){this.h=t.h,$g(this,t.j),this.s=t.s,this.g=t.g,Hg(this,t.m),this.l=t.l;var e=t.i,n=new vd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nj(this,n),this.o=t.o}else t&&(e=String(t).match(tj))?(this.h=!1,$g(this,e[1]||"",!0),this.s=yd(e[2]||""),this.g=yd(e[3]||"",!0),Hg(this,e[4]),this.l=yd(e[5]||"",!0),nj(this,e[6]||"",!0),this.o=yd(e[7]||"")):(this.h=!1,this.i=new vd(null,this.h))}function qi(t){return new ko(t)}function $g(t,e,n){t.j=n?yd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nj(t,e,n){e instanceof vd?(t.i=e,function hhe(t,e){e&&!t.j&&(bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ij(this,r),oj(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=_d(e,lhe)),t.i=new vd(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Gg(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _d(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ahe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ahe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_d(e,rj,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(_d(e,rj,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(_d(n,"/"==n.charAt(0)?che:uhe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_d(n,dhe)),t.join("")};var rj=/[#\/\?@]/g,uhe=/[#\?:]/g,che=/[#\?]/g,lhe=/[#\?@]/g,dhe=/#/g;function vd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bs(t){t.g||(t.g=new Map,t.h=0,t.i&&function ohe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ij(t,e){bs(t),e=Du(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sj(t,e){return bs(t),e=Du(t,e),t.g.has(e)}function oj(t,e,n){ij(t,e),0<n.length&&(t.i=null,t.g.set(Du(t,e),HC(n)),t.h+=n.length)}function Du(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aj(t){this.l=t||phe,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=vd.prototype).add=function(t,e){bs(this),this.i=null,t=Du(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},R.ta=function(){bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},R.Z=function(t){bs(this);let e=[];if("string"==typeof t)sj(this,t)&&(e=e.concat(this.g.get(Du(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},R.set=function(t,e){return bs(this),this.i=null,sj(this,t=Du(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var phe=10;function uj(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cj(t){return t.h?1:t.g?t.g.size:0}function _0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function v0(t,e){t.g?t.g.add(e):t.h=e}function lj(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function dj(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return HC(t.i)}aj.prototype.cancel=function(){if(this.i=dj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ghe=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function mhe(){this.g=new ghe}function yhe(t,e,n){const r=n||"";try{ej(t,function(i,s){let o=i;id(i)&&(o=a0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wd(t){this.l=t.fc||null,this.j=t.ob||!1}function qg(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=w0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(wd,d0),wd.prototype.g=function(){return new qg(this.l,this.j)},wd.prototype.i=function(t){return function(){return t}}({}),kt(qg,Pt);var w0=0;function hj(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ed(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Id(t)}function Id(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=qg.prototype).open=function(t,e){if(this.readyState!=w0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Id(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ed(this)),this.readyState=w0},R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Id(this)),this.g&&(this.readyState=3,Id(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hj(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ed(this):Id(this),3==this.readyState&&hj(this)}},R.Za=function(t){this.g&&(this.response=this.responseText=t,Ed(this))},R.Ya=function(t){this.g&&(this.response=t,Ed(this))},R.ka=function(){this.g&&Ed(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var vhe=ee.JSON.parse;function rt(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fj,this.L=this.M=!1}kt(rt,Pt);var fj="",whe=/^https?$/i,Ehe=["POST","PUT"];function pj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gj(t),Wg(t)}function gj(t){t.F||(t.F=!0,Kt(t,"complete"),Kt(t,"error"))}function mj(t){if(t.h&&typeof jC<"u"&&(!t.C[1]||4!=oi(t)||2!=t.da()))if(t.v&&4==oi(t))l0(t.La,0,t);else if(Kt(t,"readystatechange"),4==oi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(tj)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!whe.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var s=2<oi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gj(t)}}finally{Wg(t)}}}function Wg(t,e){if(t.g){yj(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function yj(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}function _j(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fj:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vj(t){let e="";return ZC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function E0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vj(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Dd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wj(t){this.Ga=0,this.j=[],this.l=new Fg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,t),this.hb=Dd("retryDelaySeedMs",1e4,t),this.eb=Dd("forwardChannelMaxRetries",2,t),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aj(t&&t.concurrentRequestLimit),this.Ja=new mhe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function I0(t){if(Ej(t),3==t.H){var e=t.W++,n=qi(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Td(t,n),(e=new pd(t,t.l,e)).L=2,e.v=Gg(qi(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=Nj(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gd(e)}Aj(t)}function Kg(t){t.g&&(T0(t),t.g.cancel(),t.g=null)}function Ej(t){Kg(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Yg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function Qg(t){if(!uj(t.i)&&!t.m){t.m=!0;var e=t.Na;ud||LU(),cd||(ud(),cd=!0),u0.add(e,t),t.C=0}}function Ij(t,e){var n;n=e?e.m:t.W++;const r=qi(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),Td(t,r),t.o&&t.s&&E0(r,t.o,t.s),n=new pd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Dj(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),v0(t.i,n),m0(n,r,e)}function Td(t,e){t.na&&ZC(t.na,function(n,r){Ue(e,r,n)}),t.h&&ej({},function(n,r){Ue(e,r,n)})}function Dj(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{yhe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Tj(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ud||LU(),cd||(ud(),cd=!0),u0.add(e,t),t.A=0}}function D0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=hd(rn(t.Ma,t),Sj(t,t.A)),t.A++,0))}function T0(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function bj(t){t.g=new pd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=qi(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),Td(t,e),t.o&&t.s&&E0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Gg(qi(e)),n.s=null,n.S=!0,YU(n,t)}function Yg(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function Cj(t,e){var n=null;if(t.g==e){Yg(t),T0(t),t.g=null;var r=2}else{if(!_0(t.i,e))return;n=e.F,lj(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Kt(r=Lg(),new zU(r,n)),Qg(t)}else Tj(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function The(t,e){return!(cj(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=hd(rn(t.Na,t,e),Sj(t,t.C)),t.C++,0)))}(t,e)||2==r&&D0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Po(t,5);break;case 4:Po(t,10);break;case 3:Po(t,6);break;default:Po(t,2)}}function Sj(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Po(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||$g(n,"https"),Gg(n)),function _he(t,e){const n=new Fg;if(ee.Image){const r=new Image;r.onload=Ng(zg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ng(zg,n,r,"TestLoadImage: error",!1,e),r.onabort=Ng(zg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ng(zg,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else In(2);t.H=0,t.h&&t.h.za(e),Aj(t),Ej(t)}function Aj(t){if(t.H=0,t.ma=[],t.h){const e=dj(t.i);(0!=e.length||0!=t.j.length)&&(DU(t.ma,e),DU(t.ma,t.j),t.i.i.length=0,HC(t.j),t.j.length=0),t.h.ya()}}function Mj(t,e,n){var r=n instanceof ko?qi(n):new ko(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Hg(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ko(null);r&&$g(s,r),e&&(s.g=e),i&&Hg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),Td(t,r),r}function Nj(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rt(n&&t.Ha&&!t.va?new wd({ob:!0}):t.va)).Oa(t.J),e}function xj(){}function Zg(){if(Eu&&!(10<=Number(Lde)))throw Error("Environmental error: no available transport.")}function tr(t,e){Pt.call(this),this.g=new wj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!sd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Tu(this)}function Rj(t){h0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function kj(){f0.call(this),this.status=1}function Tu(t){this.g=t}function Or(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function b0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(R=rt.prototype).Oa=function(t){this.M=t},R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():p0.g(),this.C=function WU(t){return t.h||(t.h=t.i())}(this.u?this.u:p0),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void pj(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=IU(Ehe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yj(this),0<this.B&&((this.L=function Ihe(t){return Eu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=l0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){pj(this,s)}},R.ua=function(){typeof jC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),Wg(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wg(this,!0)),rt.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?mj(this):this.kb())},R.kb=function(){mj(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vhe(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=wj.prototype).ra=8,R.H=1,R.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new pd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=AU(s),NU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Dj(this,i,e),Ue(n=qi(this.I),"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Td(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(vj(s)))+"&"+e:this.o&&E0(n,this.o,s)),v0(this.i,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.aa=!0,m0(i,n,null)):m0(i,n,e),this.H=2}}else 3==this.H&&(t?Ij(this,t):0==this.j.length||uj(this.i)||Ij(this))},R.Ma=function(){if(this.u=null,bj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hd(rn(this.jb,this),t)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,In(10),Kg(this),bj(this))},R.ib=function(){null!=this.v&&(this.v=null,Kg(this),D0(this),In(19))},R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),In(2)):(this.l.info("Failed to ping google.com"),In(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=xj.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},Zg.prototype.g=function(t,e){return new tr(t,e)},kt(tr,Pt),tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;In(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Mj(t,null,t.Y),Qg(t)},tr.prototype.close=function(){I0(this.g)},tr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=a0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Qg(e)},tr.prototype.N=function(){this.g.h=null,delete this.j,I0(this.g),delete this.g,tr.$.N.call(this)},kt(Rj,h0),kt(kj,f0),kt(Tu,xj),Tu.prototype.Ba=function(){Kt(this.g,"a")},Tu.prototype.Aa=function(t){Kt(this.g,new Rj(t))},Tu.prototype.za=function(t){Kt(this.g,new kj)},Tu.prototype.ya=function(){Kt(this.g,"b")},kt(Or,function bhe(){this.blockSize=-1}),Or.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Or.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)b0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){b0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){b0(this,r),i=0;break}}this.h=i,this.i+=e},Or.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Che={};function C0(t){return-128<=t&&128>t?function Pde(t,e){var n=Che;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Se([0|e],0>e?-1:0)}):new Se([0|t],0>t?-1:0)}function ai(t){if(isNaN(t)||!isFinite(t))return bu;if(0>t)return Qt(ai(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=S0;return new Se(e,0)}var S0=4294967296,bu=C0(0),A0=C0(1),Oj=C0(16777216);function Wi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function wr(t){return-1==t.h}function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Se(n,~t.h).add(A0)}function Xg(t,e){return t.add(Qt(e))}function Jg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bd(t,e){this.g=t,this.h=e}function em(t,e){if(Wi(e))throw Error("division by zero");if(Wi(t))return new bd(bu,bu);if(wr(t))return e=em(Qt(t),e),new bd(Qt(e.g),Qt(e.h));if(wr(e))return e=em(t,Qt(e)),new bd(Qt(e.g),e.h);if(30<t.g.length){if(wr(t)||wr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=A0,r=e;0>=r.X(t);)n=Fj(n),r=Fj(r);var i=Cu(n,1),s=Cu(r,1);for(r=Cu(r,2),n=Cu(n,2);!Wi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Cu(r,1),n=Cu(n,1)}return e=Xg(t,i.R(e)),new bd(i,e)}for(i=bu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ai(n)).R(e);wr(o)||0<o.X(t);)o=(s=ai(n-=r)).R(e);Wi(s)&&(s=A0),i=i.add(s),t=Xg(t,o)}return new bd(i,t)}function Fj(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Se(n,t.h)}function Cu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Se(i,t.h)}(R=Se.prototype).ea=function(){if(wr(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:S0+r)*e,e*=S0}return t},R.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Wi(this))return"0";if(wr(this))return"-"+Qt(this).toString(t);for(var e=ai(Math.pow(t,6)),n=this,r="";;){var i=em(n,e).g,s=((0<(n=Xg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Wi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},R.X=function(t){return wr(t=Xg(this,t))?-1:Wi(t)?0:1},R.abs=function(){return wr(this)?Qt(this):this},R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Se(n,-2147483648&n[n.length-1]?-1:0)},R.R=function(t){if(Wi(this)||Wi(t))return bu;if(wr(this))return wr(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(wr(t))return Qt(this.R(Qt(t)));if(0>this.X(Oj)&&0>t.X(Oj))return ai(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Jg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Jg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Jg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Jg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Se(n,0)},R.gb=function(t){return em(this,t).h},R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Se(n,this.h&t.h)},R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Se(n,this.h|t.h)},R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Se(n,this.h^t.h)},Zg.prototype.createWebChannel=Zg.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,Vg.NO_ERROR=0,Vg.TIMEOUT=8,Vg.HTTP_ERROR=6,qU.COMPLETE="complete",KU.EventType=fd,fd.OPEN="a",fd.CLOSE="b",fd.ERROR="c",fd.MESSAGE="d",Pt.prototype.listen=Pt.prototype.O,rt.prototype.listenOnce=rt.prototype.P,rt.prototype.getLastError=rt.prototype.Sa,rt.prototype.getLastErrorCode=rt.prototype.Ia,rt.prototype.getStatus=rt.prototype.da,rt.prototype.getResponseJson=rt.prototype.Wa,rt.prototype.getResponseText=rt.prototype.ja,rt.prototype.send=rt.prototype.ha,rt.prototype.setWithCredentials=rt.prototype.Oa,Or.prototype.digest=Or.prototype.l,Or.prototype.reset=Or.prototype.reset,Or.prototype.update=Or.prototype.j,Se.prototype.add=Se.prototype.add,Se.prototype.multiply=Se.prototype.R,Se.prototype.modulo=Se.prototype.gb,Se.prototype.compare=Se.prototype.X,Se.prototype.toNumber=Se.prototype.ea,Se.prototype.toString=Se.prototype.toString,Se.prototype.getBits=Se.prototype.D,Se.fromNumber=ai,Se.fromString=function Pj(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Qt(Pj(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ai(Math.pow(e,8)),r=bu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ai(Math.pow(e,s)),r=r.R(s).add(ai(o))):r=(r=r.R(n)).add(ai(o))}return r};var She=Pr.createWebChannelTransport=function(){return new Zg},Ahe=Pr.getStatEventTarget=function(){return Lg()},M0=Pr.ErrorCode=Vg,Mhe=Pr.EventType=qU,Nhe=Pr.Event=xo,Lj=Pr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xhe=Pr.FetchXmlHttpFactory=wd,tm=Pr.WebChannel=KU,Rhe=Pr.XhrIo=rt,khe=Pr.Md5=Or,Su=Pr.Integer=Se;const Vj="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let Au="9.23.0";const Cs=new hu("@firebase/firestore");function N0(){return Cs.logLevel}function S(t,...e){if(Cs.logLevel<=me.DEBUG){const n=e.map(x0);Cs.debug(`Firestore (${Au}): ${t}`,...n)}}function ct(t,...e){if(Cs.logLevel<=me.ERROR){const n=e.map(x0);Cs.error(`Firestore (${Au}): ${t}`,...n)}}function Fr(t,...e){if(Cs.logLevel<=me.WARN){const n=e.map(x0);Cs.warn(`Firestore (${Au}): ${t}`,...n)}}function x0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+t;throw ct(e),new Error(e)}function j(t,e){t||F()}function x(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Bj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Phe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class Ohe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Fhe{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new Bj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Ot(e)}}class Lhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Vhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Lhe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bhe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.T=n.token,new Uj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Uhe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class jj{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Uhe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function Mu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${constructor(e){this.timestamp=e}static fromTimestamp(e){return new $(e)}static min(){return new $(new Ye(0,0))}static max(){return new $(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cd{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Cd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Cd{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const jhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Cd{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return jhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(he.fromString(e))}static fromName(e){return new N(he.fromString(e).popFirst(5))}static empty(){return new N(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new he(e.slice()))}}function Gj(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr($.min(),N.empty(),-1)}static max(){return new nr($.max(),N.empty(),-1)}}function k0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=N.comparator(t.documentKey,e.documentKey),0!==n?n:Z(t.largestBatchId,e.largestBatchId))}const zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ghe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ss(t){return P0.apply(this,arguments)}function P0(){return P0=_(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==zj)throw t;S("LocalStore","Unexpectedly lost primary lease")}),P0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function As(t){return"IndexedDbTransactionError"===t.name}let rr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Md(t){return null==t}function Nd(t){return 0===t&&1/t==-1/0}function e$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Le{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n$(this.data.getIterator())}getIteratorFrom(e){return new n$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class n${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new je(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class r$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new r$("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const ffe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(j(!!t),"string"==typeof t){let e=0;const n=ffe.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ki(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function am(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function um(t){const e=t.mapValue.fields.__previous_value__;return am(e)?um(e):e}function xd(t){const e=Ns(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}class pfe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?am(t)?4:a$(t)?9007199254740991:10:F()}function ci(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ns(r.timestampValue),o=Ns(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ki(t.bytesValue).isEqual(Ki(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=it(r.doubleValue),o=it(i.doubleValue);return s===o?Nd(s)===Nd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(e$(s)!==e$(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ci(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Rd(t,e){return void 0!==(t.values||[]).find(n=>ci(n,e))}function ks(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=it(i.integerValue||i.doubleValue),a=it(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return i$(t.timestampValue,e.timestampValue);case 4:return i$(xd(t),xd(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ki(i),a=Ki(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Z(o[u],a[u]);if(0!==c)return c}return Z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(it(i.latitude),it(s.latitude));return 0!==o?o:Z(it(i.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ks(o[u],a[u]);if(c)return c}return Z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===xs.mapValue&&s===xs.mapValue)return 0;if(i===xs.mapValue)return 1;if(s===xs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=ks(o[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function i$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);const n=Ns(t),r=Ns(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function xu(t){return L0(t)}function L0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ns(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ki(t.bytesValue).toBase64():"referenceValue"in t?N.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=L0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${L0(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function V0(t){return!!t&&"integerValue"in t}function kd(t){return!!t&&"arrayValue"in t}function s$(t){return!!t&&"nullValue"in t}function o$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dm(t){return!!t&&"mapValue"in t}function Pd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a$(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(Pd(this.value))}}function l$(t){const e=[];return Ms(t.fields,(n,r)=>{const i=new lt([n]);if(dm(r)){const s=l$(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Un(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,$.min(),$.min(),$.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,$.min(),$.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,$.min(),$.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ps{constructor(e,n){this.position=e,this.inclusive=n}}function d$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),n.key):ks(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function h$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function yfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class f${}class ue extends f${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new _fe(e,n,r):"array-contains"===n?new Efe(e,r):"in"===n?new v$(e,r):"not-in"===n?new Ife(e,r):"array-contains-any"===n?new Dfe(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new vfe(e,r):new wfe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ks(n,this.value)):null!==n&&Rs(this.value)===Rs(n)&&this.matchesComparison(ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ae extends f${constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ae(e,n)}matches(e){return ku(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ku(t){return"and"===t.op}function U0(t){return function p$(t){for(const e of t.filters)if(e instanceof Ae)return!1;return!0}(t)&&ku(t)}function j0(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+xu(t.value);if(U0(t))return t.filters.map(e=>j0(e)).join(",");{const e=t.filters.map(n=>j0(n)).join(",");return`${t.op}(${e})`}}function g$(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&ci(n.value,r.value)):t instanceof Ae?function(n,r){return r instanceof Ae&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&g$(s,r.filters[o]),!0)}(t,e):void F();var n,r}function y$(t){return t instanceof ue?function(e){return`${e.field.canonicalString()} ${e.op} ${xu(e.value)}`}(t):t instanceof Ae?function(e){return e.op.toString()+" {"+e.getFilters().map(y$).join(" ,")+"}"}(t):"Filter"}class _fe extends ue{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class vfe extends ue{constructor(e,n){super(e,"in",n),this.keys=_$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wfe extends ue{constructor(e,n){super(e,"not-in",n),this.keys=_$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class Efe extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kd(n)&&Rd(n.arrayValue,this.value)}}class v$ extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Rd(this.value.arrayValue,n)}}class Ife extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Rd(this.value.arrayValue,n)}}class Dfe extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rd(this.value.arrayValue,r))}}class Tfe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function $0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Tfe(t,e,n,r,i,s,o)}function Bo(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xu(r)).join(",")),e.dt=n}return e.dt}function Od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h$(t.startAt,e.startAt)&&h$(t.endAt,e.endAt)}function hm(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Pu(t){return new Qi(t)}function D$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Uo(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function pm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function H0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ru(n)),e.wt.push(new Ru(lt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ru(lt.keyField(),s))}}}return e.wt}function Dn(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=$0(e.path,e.collectionGroup,Uo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Uo(e))n.push(new Ru(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ps(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ps(e.startAt.position,e.startAt.inclusive):null;e._t=$0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function gm(t,e,n){return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Od(Dn(t),Dn(e))&&t.limitType===e.limitType}function T$(t){return`${Bo(Dn(t))}|lt:${t.limitType}`}function q0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>y$(r)).join(", ")}]`),Md(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xu(r)).join(",")),`Target(${n})`}(Dn(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):N.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Uo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=d$(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Uo(n),r)||n.endAt&&!function(i,s,o){const a=d$(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Uo(n),r)));var n,r}function C$(t){return(e,n)=>{let r=!1;for(const i of Uo(t)){const s=bfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function bfe(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ks(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return t$(this.inner)}size(){return this.innerSize}}const Cfe=new Le(N.comparator);function jn(){return Cfe}const S$=new Le(N.comparator);function Vd(...t){let e=S$;for(const n of t)e=e.insert(n.key,n);return e}function A$(t){let e=S$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return Bd()}function M$(){return Bd()}function Bd(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sfe=new Le(N.comparator),Afe=new je(N.comparator);function se(...t){let e=Afe;for(const n of t)e=e.add(n);return e}const Mfe=new je(Z);function N$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function x$(t){return{integerValue:""+t}}function R$(t,e){return function Wj(t){return"number"==typeof t&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?x$(e):N$(t,e)}class mm{constructor(){this._=void 0}}function Nfe(t,e,n){return t instanceof Ou?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&am(i)&&(i=um(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof jo?P$(t,e):t instanceof $o?O$(t,e):function(r,i){const s=k$(r,i),o=F$(s)+F$(r.gt);return V0(s)&&V0(r.gt)?x$(o):N$(r.serializer,o)}(t,e)}function xfe(t,e,n){return t instanceof jo?P$(t,e):t instanceof $o?O$(t,e):n}function k$(t,e){return t instanceof Fu?V0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ou extends mm{}class jo extends mm{constructor(e){super(),this.elements=e}}function P$(t,e){const n=L$(e);for(const r of t.elements)n.some(i=>ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class $o extends mm{constructor(e){super(),this.elements=e}}function O$(t,e){let n=L$(e);for(const r of t.elements)n=n.filter(i=>!ci(i,r));return{arrayValue:{values:n}}}class Fu extends mm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function F$(t){return it(t.integerValue||t.doubleValue)}function L$(t){return kd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class kfe{constructor(e,n){this.version=e,this.transformResults=n}}class qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qe}static exists(e){return new qe(void 0,e)}static updateTime(e){return new qe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ym(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class _m{}function V$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Vu(t.key,qe.none()):new Lu(t.key,t.data,qe.none());{const n=t.data,r=Zt.empty();let i=new je(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new Un(i.toArray()),qe.none())}}function Pfe(t,e,n){t instanceof Lu?function(r,i,s){const o=r.value.clone(),a=j$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(r,i,s){if(!ym(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=j$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(U$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function jd(t,e,n,r){return t instanceof Lu?function(i,s,o,a){if(!ym(i.precondition,s))return o;const u=i.value.clone(),c=$$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(i,s,o,a){if(!ym(i.precondition,s))return o;const u=$$(i.fieldTransforms,a,s),c=s.data;return c.setAll(U$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ym(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ofe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=k$(r.transform,i||null);null!=s&&(null===n&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function B$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Mu(n,r,(i,s)=>function Rfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof jo&&r instanceof jo||n instanceof $o&&r instanceof $o?Mu(n.elements,r.elements,ci):n instanceof Fu&&r instanceof Fu?ci(n.gt,r.gt):n instanceof Ou&&r instanceof Ou);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Lu extends _m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends _m{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j$(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xfe(o,a,n[i]))}return r}function $$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Nfe(s,o,e))}return r}class Vu extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K0 extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Pfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=V$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(n,r)=>B$(n,r))&&Mu(this.baseMutations,e.baseMutations,(n,r)=>B$(n,r))}}class Y0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=Sfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Y0(e,n,r,i)}}class Z0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var mt,fe;function G$(t){if(void 0===t)return ct("GRPC error has no .code"),E.UNKNOWN;switch(t){case mt.OK:return E.OK;case mt.CANCELLED:return E.CANCELLED;case mt.UNKNOWN:return E.UNKNOWN;case mt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case mt.INTERNAL:return E.INTERNAL;case mt.UNAVAILABLE:return E.UNAVAILABLE;case mt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case mt.NOT_FOUND:return E.NOT_FOUND;case mt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case mt.ABORTED:return E.ABORTED;case mt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case mt.DATA_LOSS:return E.DATA_LOSS;default:return F()}}(fe=mt||(mt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class X0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vm}static getOrCreateInstance(){return null===vm&&(vm=new X0),vm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let vm=null;const Vfe=new Su([4294967295,4294967295],0);function q$(t){const e=function z$(){return new TextEncoder}().encode(t),n=new khe;return n.update(e),new Uint8Array(n.digest())}function W$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Su([n,r],0),new Su([i,s],0)]}class J0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $d(`Invalid padding: ${n}`);if(r<0)throw new $d(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new $d(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new $d(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Su.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Su.fromNumber(r)));return 1===i.compare(Vfe)&&(i=new Su([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=q$(e),[r,i]=W$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new J0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=q$(e),[r,i]=W$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd($.min(),i,new Le(Z),jn(),se())}}class Gd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gd(r,n,se(),se(),se())}}class wm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class K${constructor(e,n){this.targetId=e,this.Vt=n}}class Q${constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y${constructor(){this.St=0,this.Dt=X$(),this.Ct=Tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Gd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=X$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jn(),this.zt=Z$(),this.Wt=new Le(Z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(hm(o))if(0===i){const a=new N(o.path);this.Yt(r,a,$e.newNoDocument(a,$.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=X0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,v;const y={localCacheCount:l,existenceFilterCount:d.count},D=d.unchangedNames;return D&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=D?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=D?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(m=D?.bits)||void 0===m?void 0:m.padding)&&void 0!==v?v:0}),y}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ki(s).toUint8Array()}catch(l){if(l instanceof r$)return Fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new J0(u,o,a)}catch(l){return Fr(l instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&hm(a.target)){const u=new N(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Hd(e,n,this.Wt,this.jt,r);return this.jt=jn(),this.zt=Z$(),this.Wt=new Le(Z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Y$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new je(Z),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Y$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Z$(){return new Le(N.comparator)}function X$(){return new Le(N.comparator)}const Ufe={asc:"ASCENDING",desc:"DESCENDING"},jfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$fe={and:"AND",or:"OR"};class Hfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eS(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function Bu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gfe(t,e){return Bu(t,e.toTimestamp())}function dt(t){return j(!!t),$.fromTimestamp(function(e){const n=Ns(e);return new Ye(n.seconds,n.nanos)}(t))}function tS(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function eH(t){const e=he.fromString(t);return j(cH(e)),e}function zd(t,e){return tS(t.databaseId,e.path)}function di(t,e){const n=eH(e);if(n.get(1)!==t.databaseId.projectId)throw new b(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(nH(n))}function nS(t,e){return tS(t.databaseId,e)}function qd(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nH(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rH(t,e,n){return{name:zd(t,e),fields:n.value.mapValue.fields}}function sH(t,e){return{documents:[nS(t,e.path)]}}function iS(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=nS(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nS(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return uH(Ae.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Os((l=c).field),direction:Qfe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=eS(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function oH(t){let e=function tH(t){const e=eH(t);return 4===e.length?he.emptyPath():nH(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=aH(l);return d instanceof Ae&&U0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ru(Uu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Md(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ps((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ps(l.values||[],!l.before)}(n.endAt)),function I$(t,e,n,r,i,s,o,a){return new Qi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function aH(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Uu(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Uu(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uu(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uu(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?function(e){return ue.create(Uu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ae.create(e.compositeFilter.filters.map(n=>aH(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F()}function Qfe(t){return Ufe[t]}function Yfe(t){return jfe[t]}function Zfe(t){return $fe[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Uu(t){return lt.fromServerFormat(t.fieldPath)}function uH(t){return t instanceof ue?function(e){if("=="===e.op){if(o$(e.value))return{unaryFilter:{field:Os(e.field),op:"IS_NAN"}};if(s$(e.value))return{unaryFilter:{field:Os(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(o$(e.value))return{unaryFilter:{field:Os(e.field),op:"IS_NOT_NAN"}};if(s$(e.value))return{unaryFilter:{field:Os(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(e.field),op:Yfe(e.op),value:e.value}}}(t):t instanceof Ae?function(e){const n=e.getFilters().map(r=>uH(r));return 1===n.length?n[0]:{compositeFilter:{op:Zfe(e.op),filters:n}}}(t):F()}function Xfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cH(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Xi{constructor(e,n,r,i,s=$.min(),o=$.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lH{constructor(e){this.fe=e}}function sS(t){const e=oH({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?gm(e,e.limit,"L"):e}class qo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(it(e.integerValue));else if("doubleValue"in e){const r=it(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Nd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ki(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?a$(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),N.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}qo.Ve=new qo;class ape{constructor(){this.rn=new dS}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(nr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class dS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(he.comparator)).toArray()}}new Uint8Array(0);class an{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class Ko{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ko(0)}static Mn(){return new Ko(-1)}}class fpe{constructor(){this.changes=new Yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mpe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&jd(r.mutation,i,Un.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn();const o=Bd(),a=Bd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Zi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),jd(l.mutation,c,l.mutation.getFieldMask(),Ye.now())):o.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new mpe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bd();let i=new Le((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Un.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=M$();l.forEach(h=>{if(!s.has(h)){const f=V$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return N.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function G0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(li());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:A$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=Vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Vd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Qi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=Vd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&jd(c.mutation,u,Un.empty(),Ye.now()),Ld(n,u)&&(o=o.insert(a,u))}),o})}}class ype{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:dt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:sS(r.bundledQuery),readTime:dt(r.readTime)}),w.resolve();var r}}class _pe{constructor(){this.overlays=new Le(N.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=li(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=li(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=li(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z0(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class hS{constructor(){this.fs=new je(Lt.ds),this.ws=new je(Lt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Lt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new N(new he([])),r=new Lt(n,e),i=new Lt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new N(new he([])),r=new Lt(n,e),i=new Lt(n,e+1);let s=se();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Lt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return N.comparator(e.key,n.key)||Z(e.As,n.As)}static _s(e,n){return Z(e.As,n.As)||N.comparator(e.key,n.key)}}class vpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new je(Lt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Q0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(Z);return n.forEach(i=>{const s=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Lt(new N(s),0);let a=new je(Z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Lt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wpe{constructor(e){this.Ds=e,this.docs=new Le(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn();const o=n.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||k0(Gj(l),r)<=0||(i.has(l.key)||Ld(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Epe(this)}getSize(e){return w.resolve(this.size)}}class Epe extends fpe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Ipe{constructor(e){this.persistence=e,this.xs=new Yi(n=>Bo(n),Od),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hS,this.targetCount=0,this.Ms=Ko.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class fS{constructor(e,n){this.$s={},this.overlays={},this.Os=new rr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ipe(this),this.indexManager=new ape,this.remoteDocumentCache=new wpe(r=>this.referenceDelegate.Ls(r)),this.serializer=new lH(n),this.qs=new ype(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _pe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new vpe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Dpe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Dpe extends Ghe{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.Qs=new hS,this.js=null}static zs(e){return new Mm(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,$.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class yS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yS(e,n.fromCache,r,i)}}class VH{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(D$(n))return w.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=gm(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,gm(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return D$(n)||i.isEqual($.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(N0()<=me.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),q0(n)),this.Wi(e,o,n,function Hj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Ye(n+1,0):new Ye(n,r));return new nr(i,N.empty(),e)}(i,-1)))})}ji(e,n){let r=new je(C$(e));return n.forEach((i,s)=>{Ld(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return N0()<=me.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",q0(n)),this.Ui.getDocumentsMatchingQuery(e,n,nr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class bpe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Le(Z),this.Yi=new Yi(s=>Bo(s),Od),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function UH(t,e){return _S.apply(this,arguments)}function _S(){return _S=_(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),_S.apply(this,arguments)}function jH(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Ape(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gu(t,e,n){return vS.apply(this,arguments)}function vS(){return vS=_(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!As(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),vS.apply(this,arguments)}function Rm(t,e,n){const r=x(t);let i=$.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:$.min(),n?s:se())).next(a=>(function zH(t,e,n){let r=t.Xi.get(e)||$.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function b$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class TS{constructor(){this.activeTargetIds=function W0(){return Mfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KH{constructor(){this.Hr=new TS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new TS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xpe{Yr(e){}shutdown(){}}class QH{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Om=null;function CS(){return null===Om?Om=268435456+Math.round(2147483648*Math.random()):Om++,"0x"+Om.toString(16)}const Rpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kpe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const un="WebChannelConnection";class Ppe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=CS(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Fr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Rpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=CS();return new Promise((o,a)=>{const u=new Rhe;u.setWithCredentials(!0),u.listenOnce(Mhe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case M0.NO_ERROR:const l=u.getResponseJson();S(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case M0.TIMEOUT:S(un,`RPC '${e}' ${s} timed out`),a(new b(E.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const d=u.getStatus();if(S(un,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(E.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(un,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(un,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=CS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=She(),a=Ahe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new xhe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(un,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new kpe({ro:m=>{f?S(un,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(un,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(un,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,v,y)=>{m.listen(v,D=>{try{y(D)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,tm.EventType.OPEN,()=>{f||S(un,`RPC '${e}' stream ${i} transport opened.`)}),g(d,tm.EventType.CLOSE,()=>{f||(f=!0,S(un,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,tm.EventType.ERROR,m=>{f||(f=!0,Fr(un,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,tm.EventType.MESSAGE,m=>{var v;if(!f){const y=m.data[0];j(!!y);const A=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(A){S(un,`RPC '${e}' stream ${i} received error:`,A);const L=A.status;let H=function(Ve){const _t=mt[Ve];if(void 0!==_t)return G$(_t)}(L),re=A.message;void 0===H&&(H=E.INTERNAL,re="Unknown error status: "+L+" with message "+A.message),f=!0,p.wo(new b(H,re)),d.close()}else S(un,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,Nhe.STAT_EVENT,m=>{m.stat===Lj.PROXY?S(un,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Lj.NOPROXY&&S(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Fm(){return typeof document<"u"?document:null}function nh(t){return new Hfe(t,!0)}class SS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ZH{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SS(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(ct(n.toString()),ct("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ope extends ZH{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function qfe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(j(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:G$(u.code);return new b(c,u.message||"")}(o);n=new Q$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=di(t,r.document.name),s=dt(r.document.updateTime),o=r.document.createTime?dt(r.document.createTime):$.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new wm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=di(t,r.document),s=r.readTime?dt(r.readTime):$.min(),o=$e.newNoDocument(i,s);n=new wm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=di(t,r.document);n=new wm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Lfe(i,s);n=new K$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return $.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?dt(s.readTime):$.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=qd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=hm(a)?{documents:sH(i,a)}:{query:iS(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=J$(i,s.resumeToken);const u=eS(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo($.min())>0){o.readTime=Bu(i,s.snapshotVersion.toTimestamp());const u=eS(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Kfe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=qd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Fpe extends ZH{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Wfe(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=dt(r.updateTime?r.updateTime:i);return s.isEqual($.min())&&(s=dt(i)),new kfe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=dt(e.commitTime);return this.listener.cu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=qd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Wd(t,e){let n;if(e instanceof Lu)n={update:rH(t,e.key,e.value)};else if(e instanceof Vu)n={delete:zd(t,e.key)};else if(e instanceof Zi)n={update:rH(t,e.key,e.data),updateMask:Xfe(e.fieldMask)};else{if(!(e instanceof K0))return F();n={verify:zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Gfe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class Lpe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(E.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Bpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ct(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Upe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var u;Bs(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(c){const l=x(c);l.vu.add(4),yield zu(l),l.bu.set("Unknown"),l.vu.delete(4),yield rh(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Bpe(r,i)}}function rh(t){return MS.apply(this,arguments)}function MS(){return MS=_(function*(t){if(Bs(t))for(const e of t.Ru)yield e(!0)}),MS.apply(this,arguments)}function zu(t){return NS.apply(this,arguments)}function NS(){return NS=_(function*(t){for(const e of t.Ru)yield e(!1)}),NS.apply(this,arguments)}function Lm(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),kS(n)?RS(n):Wu(n).Ko()&&xS(n,e))}function ih(t,e){const n=x(t),r=Wu(n);n.Au.delete(e),r.Ko()&&XH(n,e),0===n.Au.size&&(r.Ko()?r.jo():Bs(n)&&n.bu.set("Unknown"))}function xS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wu(t).su(e)}function XH(t,e){t.Vu.qt(e),Wu(t).iu(e)}function RS(t){t.Vu=new Bfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Wu(t).start(),t.bu.gu()}function kS(t){return Bs(t)&&!Wu(t).Uo()&&t.Au.size>0}function Bs(t){return 0===x(t).vu.size}function JH(t){t.Vu=void 0}function jpe(t){return PS.apply(this,arguments)}function PS(){return PS=_(function*(t){t.Au.forEach((e,n)=>{xS(t,e)})}),PS.apply(this,arguments)}function $pe(t,e){return OS.apply(this,arguments)}function OS(){return OS=_(function*(t,e){JH(t),kS(t)?(t.bu.Iu(e),RS(t)):t.bu.set("Unknown")}),OS.apply(this,arguments)}function Hpe(t,e,n){return FS.apply(this,arguments)}function FS(){return FS=_(function*(t,e,n){if(t.bu.set("Online"),e instanceof Q$&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vm(t,r)}else if(e instanceof wm?t.Vu.Ht(e):e instanceof K$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual($.min()))try{const r=yield jH(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),XH(i,a);const l=new Xi(c.target,a,u,c.sequenceNumber);xS(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Vm(t,r)}var r}),FS.apply(this,arguments)}function Vm(t,e,n){return LS.apply(this,arguments)}function LS(){return LS=_(function*(t,e,n){if(!As(e))throw e;t.vu.add(1),yield zu(t),t.bu.set("Offline"),n||(n=()=>jH(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield rh(t)}))}),LS.apply(this,arguments)}function eG(t,e){return e().catch(n=>Vm(t,n,e))}function qu(t){return VS.apply(this,arguments)}function VS(){return VS=_(function*(t){const e=x(t),n=Us(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Gpe(e);)try{const i=yield Ape(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,zpe(e,i)}catch(i){yield Vm(e,i)}tG(e)&&nG(e)}),VS.apply(this,arguments)}function Gpe(t){return Bs(t)&&t.Eu.length<10}function zpe(t,e){t.Eu.push(e);const n=Us(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function tG(t){return Bs(t)&&!Us(t).Uo()&&t.Eu.length>0}function nG(t){Us(t).start()}function qpe(t){return BS.apply(this,arguments)}function BS(){return BS=_(function*(t){Us(t).hu()}),BS.apply(this,arguments)}function Wpe(t){return US.apply(this,arguments)}function US(){return US=_(function*(t){const e=Us(t);for(const n of t.Eu)e.uu(n.mutations)}),US.apply(this,arguments)}function Kpe(t,e,n){return jS.apply(this,arguments)}function jS(){return jS=_(function*(t,e,n){const r=t.Eu.shift(),i=Y0.from(r,e,n);yield eG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qu(t)}),jS.apply(this,arguments)}function Qpe(t,e){return $S.apply(this,arguments)}function $S(){return $S=_(function*(t,e){var n;e&&Us(t).ou&&(yield(n=_(function*(r,i){if(function H$(t){switch(t){default:return F();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();Us(r).Qo(),yield eG(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),tG(t)&&nG(t)}),$S.apply(this,arguments)}function rG(t,e){return HS.apply(this,arguments)}function HS(){return HS=_(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Bs(n);n.vu.add(3),yield zu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield rh(n)}),HS.apply(this,arguments)}function zS(){return zS=_(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield rh(n)):e||(n.vu.add(2),yield zu(n),n.bu.set("Unknown"))}),zS.apply(this,arguments)}function Wu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Ope(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:jpe.bind(null,t),ao:$pe.bind(null,t),nu:Hpe.bind(null,t)}),t.Ru.push(function(){var e=_(function*(n){n?(t.Su.Qo(),kS(t)?RS(t):t.bu.set("Unknown")):(yield t.Su.stop(),JH(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Us(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Fpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:qpe.bind(null,t),ao:Qpe.bind(null,t),au:Wpe.bind(null,t),cu:Kpe.bind(null,t)}),t.Ru.push(function(){var e=_(function*(n){n?(t.Du.Qo(),yield qu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class qS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ku(t,e){if(ct("AsyncQueue",`${e}: ${t}`),As(t))return new b(E.UNAVAILABLE,`${e}: ${t}`);throw t}class Qu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=Vd(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Qu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class iG{constructor(){this.Cu=new Le(N.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yu(e,n,Qu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ype{constructor(){this.Nu=void 0,this.listeners=[]}}class Zpe{constructor(){this.queries=new Yi(e=>T$(e),Fd),this.onlineState="Unknown",this.ku=new Set}}function KS(){return KS=_(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ype),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ku(o,`Initialization of query '${q0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ZS(n)}),KS.apply(this,arguments)}function YS(){return YS=_(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),YS.apply(this,arguments)}function Xpe(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ZS(n)}function Jpe(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ZS(t){t.ku.forEach(e=>{e.next()})}class XS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aG{constructor(e){this.key=e}}class uG{constructor(e){this.key=e}}class cG{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=C$(e),this.ec=new Qu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new iG,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Ld(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Yu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new iG,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new uG(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new aG(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Yu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class nge{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rge{constructor(e){this.key=e,this.fc=!1}}class ige{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Yi(a=>T$(a),Fd),this._c=new Map,this.mc=new Set,this.gc=new Le(N.comparator),this.yc=new Map,this.Ic=new hS,this.Tc={},this.Ec=new Map,this.Ac=Ko.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sge(t,e){return JS.apply(this,arguments)}function JS(){return JS=_(function*(t,e){const n=function IA(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uge.bind(null,e),e.dc.nu=Xpe.bind(null,e.eventManager),e.dc.Pc=Jpe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Hu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function eA(t,e,n,r,i){return tA.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Lm(n.remoteStore,o)}return i}),JS.apply(this,arguments)}function tA(){return tA=_(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=_(function*(g,m,v,y){let D=m.view.sc(v);D.zi&&(D=yield Rm(g.localStore,m.query,!1).then(({documents:H})=>m.view.sc(H,D)));const A=y&&y.targetChanges.get(m.targetId),L=m.view.applyChanges(D,g.isPrimaryClient,A);return dA(g,m.targetId,L.cc),L.snapshot}),function(g,m,v,y){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Rm(t.localStore,e,!0),o=new cG(e,s.ir),a=o.sc(s.documents),u=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);dA(t,n,c.cc);const l=new nge(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),tA.apply(this,arguments)}function oge(t,e){return nA.apply(this,arguments)}function nA(){return nA=_(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Fd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ih(n.remoteStore,r.targetId),Zu(n,r.targetId)}).catch(Ss))):(Zu(n,r.targetId),yield Gu(n.localStore,r.targetId,!0))}),nA.apply(this,arguments)}function rA(){return rA=_(function*(t,e,n){const r=function DA(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lge.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=Ye.now(),c=o.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=jn(),p=se();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const v of o){const y=Ofe(v,l.get(v.key).overlayedDocument);null!=y&&m.push(new Zi(v.key,y,l$(y.value.mapValue),qe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:A$(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Le(Z)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ji(r,i.changes),yield qu(r.remoteStore)}catch(i){const s=Ku(i,"Failed to persist write");n.reject(s)}}),rA.apply(this,arguments)}function lG(t,e){return iA.apply(this,arguments)}function iA(){return iA=_(function*(t,e){const n=x(t);try{const r=yield function Spe(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=jn(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function $H(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual($.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield Ji(n,r,e)}catch(r){yield Ss(r)}}),iA.apply(this,arguments)}function dG(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&ZS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uge(t,e,n){return sA.apply(this,arguments)}function sA(){return sA=_(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Le(N.comparator);o=o.insert(s,$e.newNoDocument(s,$.min()));const a=se().add(s),u=new Hd($.min(),new Map,new Le(Z),o,a);yield lG(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),hA(r)}else yield Gu(r.localStore,e,!1).then(()=>Zu(r,e,n)).catch(Ss)}),sA.apply(this,arguments)}function cge(t,e){return oA.apply(this,arguments)}function oA(){return oA=_(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function Cpe(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);lA(n,r,null),cA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ji(n,i)}catch(i){yield Ss(i)}}),oA.apply(this,arguments)}function lge(t,e,n){return aA.apply(this,arguments)}function aA(){return aA=_(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(j(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);lA(r,e,n),cA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ji(r,i)}catch(i){yield Ss(i)}}),aA.apply(this,arguments)}function cA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function lA(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||hG(t,r)})}function hG(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ih(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),hA(t))}function dA(t,e,n){for(const r of n)r instanceof aG?(t.Ic.addReference(r.key,e),hge(t,r)):r instanceof uG?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||hG(t,r.key)):F()}function hge(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),hA(t))}function hA(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new N(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new rge(n)),t.gc=t.gc.insert(n,r),Lm(t.remoteStore,new Xi(Dn(Pu(n.path)),r,"TargetPurposeLimboResolution",rr.ct))}}function Ji(t,e,n){return fA.apply(this,arguments)}function fA(){return fA=_(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=yS.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=_(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!As(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),fA.apply(this,arguments)}function fge(t,e){return pA.apply(this,arguments)}function pA(){return pA=_(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield UH(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ji(n,r.er)}var i}),pA.apply(this,arguments)}function pge(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Bm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=nh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function BH(t,e,n,r){return new bpe(t,e,n,r)}(this.persistence,new VH,e.initialUser,this.serializer)}createPersistence(e){return new fS(Mm.zs,this.serializer)}createSharedClientState(e){return new KH}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xu{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fge.bind(null,r.syncEngine),yield function GS(t,e){return zS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zpe}createDatastore(e){const n=nh(e.databaseInfo.databaseId),r=new Ppe(e.databaseInfo);return new Lpe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dG(this.syncEngine,a,0),o=QH.D()?new QH:new xpe,new Upe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new ige(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=_(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield zu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Um{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ct("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Sge{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=jj.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ku(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function jm(t,e){return TA.apply(this,arguments)}function TA(){return TA=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield UH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),TA.apply(this,arguments)}function bA(t,e){return CA.apply(this,arguments)}function CA(){return CA=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function SA(t){return AA.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>rG(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rG(e.remoteStore,s)),t._onlineComponents=e}),CA.apply(this,arguments)}function AA(){return AA=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function _G(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Fr("Error using user provided cache. Falling back to memory cache: "+n),yield jm(t,new Bm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield jm(t,new Bm);return t._offlineComponents}),AA.apply(this,arguments)}function $m(t){return MA.apply(this,arguments)}function MA(){return MA=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield bA(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield bA(t,new Xu))),t._onlineComponents}),MA.apply(this,arguments)}function Ju(t){return xA.apply(this,arguments)}function xA(){return xA=_(function*(t){const e=yield $m(t),n=e.eventManager;return n.onListen=sge.bind(null,e.syncEngine),n.onUnlisten=oge.bind(null,e.syncEngine),n}),xA.apply(this,arguments)}function TG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const bG=new Map;function RA(t,e,n){if(!n)throw new b(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CG(t){if(!N.isDocumentKey(t))throw new b(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SG(t){if(N.isDocumentKey(t))throw new b(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(t);throw new b(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class MG{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Fge(t,e,n,r){if(!0===e&&!0===r)throw new b(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=TG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MG(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Phe;switch(n.type){case"firstParty":return new Vhe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bG.get(e);n&&(S("ComponentProvider","Removing Datastore"),bG.delete(e),n.terminate())}(this),Promise.resolve()}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}}class Xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class hi extends Xt{constructor(e,n,r){super(e,n,Pu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new N(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Vge(t,e,...n){if(t=_r(t),RA("collection","path",e),t instanceof sh){const r=he.fromString(e,...n);return SG(r),new hi(t,null,r)}{if(!(t instanceof ht||t instanceof hi))throw new b(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return SG(r),new hi(t.firestore,null,r)}}function NG(t,e,...n){if(t=_r(t),1===arguments.length&&(e=jj.A()),RA("doc","path",e),t instanceof sh){const r=he.fromString(e,...n);return CG(r),new ht(t,null,new N(r))}{if(!(t instanceof ht||t instanceof hi))throw new b(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return CG(r),new ht(t.firestore,t instanceof hi?t.converter:null,new N(r))}}class Bge{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SS(this,"async_queue_retry"),this.Xc=()=>{const n=Fm();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Fm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!As(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ct("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=qS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function kA(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class He extends sh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RG(this),this._firestoreClient.terminate()}}function jge(t,e){const r="string"==typeof t?t:e||"(default)",i=Xp("object"==typeof t?t:k2(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Wp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Lge(t,e,n,r={}){var i;const s=(t=ce(t,sh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ot.MOCK_USER;else{a=function Sre(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zp(JSON.stringify({alg:"none",type:"JWT"})),zp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}t._authCredentials=new Ohe(new Bj(a,u))}}(i,...s)}return i}function yt(t){return t._firestoreClient||RG(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RG(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new pfe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TG(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Sge(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Tt.fromBase64String(e))}catch(n){throw new b(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ec{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class OG{constructor(e){this._methodName=e}}class PA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const Hge=/^__.*__$/;class Gge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}function LG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class zm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Wm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(LG(this.ca)&&Hge.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nh(e)}ya(e,n,r,i=!1){return new zm({ca:e,methodName:n,ga:r,path:lt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tc(t){const e=t._freezeSettings(),n=nh(t._databaseId);return new zge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OA(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);LA("Data must be an object, but it was:",o,r);const a=$G(r,o);let u,c;if(s.merge)u=new Un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=uh(e,d,n);if(!o.contains(h))throw new b(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);GG(l,h)||l.push(h)}u=new Un(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Gge(new Zt(a),u,c)}function Zo(t,e){if(HG(t=_r(t)))return LA("Unsupported field value:",e,t),$G(t,e);if(t instanceof OG)return function(n,r){if(!LG(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Zo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=_r(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return R$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:Bu(r.serializer,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bu(r.serializer,i)}}if(n instanceof PA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yo)return{bytesValue:J$(r.serializer,n._byteString)};if(n instanceof ht){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Gm(n)}`)}(t,e)}function $G(t,e){const n={};return t$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(r,i)=>{const s=Zo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function HG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof PA||t instanceof Yo||t instanceof ht||t instanceof OG)}function LA(t,e,n){if(!HG(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Gm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function uh(t,e,n){if((e=_r(e))instanceof ec)return e._internalPath;if("string"==typeof e)return qm(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qge=new RegExp("[~\\*/\\[\\]]");function qm(t,e,n){if(e.search(Qge)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ec(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(E.INVALID_ARGUMENT,a+t+u)}function GG(t,e){return t.some(n=>n.isEqual(e))}class VA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Yge extends VA{data(){return super.data()}}function Km(t,e){return"string"==typeof e?qm(t,e):e instanceof ec?e._internalPath:e._delegate._internalPath}class Xge{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new PA(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);j(cH(r));const i=new Lo(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends VA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xm extends rc{data(e={}){return super.data(e)}}class ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xm(this._firestore,this._userDataWriter,r.key,r,new Xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Xm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Xm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:eme(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class js extends Xge{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function tme(t){return lh(ce(t.firestore,He),[new Vu(t._key,qe.none())])}function nme(t,e){const n=ce(t.firestore,He),r=NG(t),i=function UA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return lh(n,[OA(tc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,qe.exists(!1))]).then(()=>r)}function lh(t,e){return function(n,r){const i=new Dt;return n.asyncQueue.enqueueAndForget(_(function*(){return function age(t,e,n){return rA.apply(this,arguments)}(yield function NA(t){return $m(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(yt(t),e)}!function(t,e=!0){Au=$l,wn(new nn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new He(new Fhe(n.getProvider("auth-internal")),new Bhe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ut(Vj,"3.13.0",t),ut(Vj,"3.13.0","esm2017")}();var ey=function(){return ey=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},ey.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var gme={includeMetadataChanges:!1};function HA(t,e){return void 0===e&&(e=gme),new We(function(n){var r=function rme(t,...e){var n,r,i;t=_r(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||kA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(kA(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ht)c=ce(t.firestore,He),l=Pu(t._key.path),u={next:d=>{e[o]&&e[o](function jA(t,e,n){const r=n.docs.get(e._key),i=new js(t);return new rc(t,i,e._key,r,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Xt);c=ce(d.firestore,He),l=d._query;const h=new js(c);u={next:f=>{e[o]&&e[o](new ic(c,h,d,f))},error:e[o+1],complete:e[o+2]},function zG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Um(p),m=new XS(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function WS(t,e){return KS.apply(this,arguments)}(yield Ju(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(_(function*(){return function QS(t,e){return YS.apply(this,arguments)}(yield Ju(d),m)}))}}(yt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ime(t,e){return void 0===e&&(e={}),function Eme(t){return HA(t,{includeMetadataChanges:!0}).pipe(De(function(e){return e.docs}))}(t).pipe(De(function(n){return n.map(function(r){return function JG(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?ey(ey({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class ty{constructor(e){return e}}const r4="firestore",qA=new V("angularfire2.firestore-instances");function Cme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ty(r)}}const Sme={provide:class Tme{constructor(){return hT(r4)}},deps:[[new xn,qA]]},Ame={provide:ty,useFactory:function bme(t,e){const n=function dT(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(r4,t,e);return n&&new ty(n)},deps:[[new xn,qA],mu]};let Mme=(()=>{class t{constructor(){ut("angularfire",rT.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Sn({type:t}),t.\u0275inj=dn({providers:[Ame,Sme]}),t})();function Nme(t,...e){return{ngModule:Mme,providers:[{provide:qA,useFactory:Cme(t),multi:!0,deps:[pe,St,KV,QV,[new xn,JB],[new xn,EU],...e]}]}}const i4=Co(Ime,!0),xme=Co(nme,!0),s4=Co(Vge,!0),Rme=Co(tme,!0),kme=Co(NG,!0),Pme=Co(jge,!0),o4=["toast-component",""];function Ome(t,e){if(1&t){const n=tl();ve(0,"button",5),Mt("click",function(){return Dc(n),Tc(On().remove())}),ve(1,"span",6),Pe(2,"\xd7"),ge()()}}function Fme(t,e){if(1&t&&(Jc(0),Pe(1),el()),2&t){const n=On(2);Be(1),Si("[",n.duplicatesCount+1,"]")}}function Lme(t,e){if(1&t&&(ve(0,"div"),Pe(1),Pn(2,Fme,2,1,"ng-container",4),ge()),2&t){const n=On();Ci(n.options.titleClass),kn("aria-label",n.title),Be(1),Si(" ",n.title," "),Be(1),At("ngIf",n.duplicatesCount)}}function Vme(t,e){if(1&t&&br(0,"div",7),2&t){const n=On();Ci(n.options.messageClass),At("innerHTML",n.message,U_)}}function Bme(t,e){if(1&t&&(ve(0,"div",8),Pe(1),ge()),2&t){const n=On();Ci(n.options.messageClass),kn("aria-label",n.message),Be(1),Si(" ",n.message," ")}}function Ume(t,e){if(1&t&&(ve(0,"div"),br(1,"div",9),ge()),2&t){const n=On();Be(1),Wa("width",n.width+"%")}}class Wme{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Kme{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Qme{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new bt;_activate=new bt;_manualClose=new bt;_resetTimeout=new bt;_countDuplicate=new bt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class ny{toastId;config;message;title;toastType;toastRef;_onTap=new bt;_onAction=new bt;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const u4=new V("ToastConfig");class Yme extends Kme{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Zme=(()=>{class t{_document=P(Nt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Xme{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let Jme=(()=>{class t{_overlayContainer=P(Zme);_componentFactoryResolver=P($c);_appRef=P(Ni);_document=P(Nt);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new Yme(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Xme(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WA=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...n.default,...n.config},n.config.iconClasses&&(this.toastrConfig.iconClasses={...n.default.iconClasses,...n.config.iconClasses})}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===n)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(n={}){return{...this.toastrConfig,...n}}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(Kn.HTML,r));const l=new Qme(u),d=new ny(this.index,s,c,i,n,l),f=St.create({providers:[{provide:ny,useValue:d}],parent:this._injector}),p=new Wme(s.toastComponent,f),g=u.attach(p,s.newestOnTop);l.componentInstance=g.instance;const m={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(r){return new(r||t)(O(u4),O(Jme),O(St),O(EF),O(pe))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eye={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(C(WA),C(ny),C(pe))};static \u0275cmp=pc({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&Mt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(Lv("@flyInOut",i.state),Ci(i.toastClasses),Wa("display",i.displayStyle))},standalone:!0,features:[$f],attrs:o4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(Pn(0,Ome,3,0,"button",0),Pn(1,Lme,3,5,"div",1),Pn(2,Vme,1,3,"div",2),Pn(3,Bme,2,4,"div",3),Pn(4,Ume,2,2,"div",4)),2&r&&(At("ngIf",i.options.closeButton),Be(1),At("ngIf",i.title),Be(1),At("ngIf",i.message&&i.options.enableHtml),Be(1),At("ngIf",i.message&&!i.options.enableHtml),Be(1),At("ngIf",i.options.progressBar))},dependencies:[Ow],encapsulation:2,data:{animation:[VX("flyInOut",[Zw("inactive",_l({opacity:0})),Zw("active",_l({opacity:1})),Zw("removed",_l({opacity:0})),SF("inactive => active",bF("{{ easeTime }}ms {{ easing }}")),SF("active => removed",bF("{{ easeTime }}ms {{ easing }}"))])]}})}return t})()},tye=(t={})=>function $_(t){return{\u0275providers:t}}([{provide:u4,useValue:{default:eye,config:t}}]);let nye=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[tye(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Sn({type:t});static \u0275inj=dn({})}return t})(),c4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ii),C(Qn))};static#t=this.\u0275dir=Q({type:t})}return t})(),Jo=(()=>{class t extends c4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=Q({type:t,features:[be]})}return t})();const fi=new V("NgValueAccessor"),sye={provide:fi,useExisting:xe(()=>ry),multi:!0},aye=new V("CompositionEventMode");let ry=(()=>{class t extends c4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oye(){const t=hs()?hs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ii),C(Qn),C(aye,8))};static#t=this.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Mt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ze([sye]),be]})}return t})();function $s(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const cn=new V("NgValidators"),Hs=new V("NgAsyncValidators"),uye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function p4(t){return $s(t.value)?{required:!0}:null}function m4(t){return $s(t.value)||uye.test(t.value)?null:{email:!0}}function iy(t){return null}function w4(t){return null!=t}function E4(t){return nl(t)?Ct(t):t}function I4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function D4(t,e){return e.map(n=>n(t))}function T4(t){return t.map(e=>function cye(t){return!t.validate}(e)?e:n=>e.validate(n))}function KA(t){return null!=t?function b4(t){if(!t)return null;const e=t.filter(w4);return 0==e.length?null:function(n){return I4(D4(n,e))}}(T4(t)):null}function QA(t){return null!=t?function C4(t){if(!t)return null;const e=t.filter(w4);return 0==e.length?null:function(n){return function rye(...t){const e=FM(t),{args:n,keys:r}=uL(t),i=new We(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;$n(n[l]).subscribe(ft(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?lL(r,a):a),s.complete())}))}});return e?i.pipe(cL(e)):i}(D4(n,e).map(E4)).pipe(De(I4))}}(T4(t)):null}function S4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YA(t){return t?Array.isArray(t)?t:[t]:[]}function sy(t,e){return Array.isArray(t)?t.includes(e):t===e}function N4(t,e){const n=YA(e);return YA(t).forEach(i=>{sy(n,i)||n.push(i)}),n}function x4(t,e){return YA(e).filter(n=>!sy(t,n))}class R4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Tn extends R4{get formDirective(){return null}get path(){return null}}class Gs extends R4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class k4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let P4=(()=>{class t extends k4{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Gs,2))};static#t=this.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ff("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[be]})}return t})(),O4=(()=>{class t extends k4{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Tn,10))};static#t=this.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ff("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[be]})}return t})();const dh="VALID",ay="INVALID",sc="PENDING",hh="DISABLED";function JA(t){return(uy(t)?t.validators:t)||null}function eM(t,e){return(uy(e)?e.asyncValidators:t)||null}function uy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class B4{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dh}get invalid(){return this.status===ay}get pending(){return this.status==sc}get disabled(){return this.status===hh}get enabled(){return this.status!==hh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(N4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(x4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(x4(e,this._rawAsyncValidators))}hasValidator(e){return sy(this._rawValidators,e)}hasAsyncValidator(e){return sy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=hh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=dh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dh||this.status===sc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hh:dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sc,this._hasOwnPendingAsyncValidator=!0;const n=E4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?hh:this.errors?ay:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sc)?sc:this._anyControlsHaveStatus(ay)?ay:dh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fye(t){return Array.isArray(t)?KA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pye(t){return Array.isArray(t)?QA(t):t||null}(this._rawAsyncValidators)}}class tM extends B4{constructor(e,n,r){super(JA(n),eM(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function V4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new I(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function L4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const oc=new V("CallSetDisabledState",{providedIn:"root",factory:()=>cy}),cy="always";function fh(t,e,n=cy){nM(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function yye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&U4(t,e)})}(t,e),function vye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _ye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&U4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function mye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function hy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nM(t,e){const n=function A4(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(S4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function M4(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(S4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();hy(e._rawValidators,i),hy(e._rawAsyncValidators,i)}function U4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Tye={provide:Tn,useExisting:xe(()=>py)},ph=(()=>Promise.resolve())();let py=(()=>{class t extends Tn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new tM({},KA(n),QA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ph.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),fh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ph.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ph.then(()=>{const r=this._findContainer(n.path),i=new tM({});(function j4(t,e){nM(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ph.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ph.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function $4(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(C(cn,10),C(Hs,10),C(oc,8))};static#t=this.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Mt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([Tye]),be]})}return t})();function H4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function G4(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const z4=class extends B4{constructor(e=null,n,r){super(JA(n),eM(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=G4(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){H4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){H4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){G4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Sye={provide:Gs,useExisting:xe(()=>oM)},K4=(()=>Promise.resolve())();let oM=(()=>{class t extends Gs{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new z4,this._registered=!1,this.name="",this.update=new Je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sM(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ry?n=s:function Iye(t){return Object.getPrototypeOf(t.constructor)===Jo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function iM(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){K4.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Ja(r);K4.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function ly(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(C(Tn,9),C(cn,10),C(Hs,10),C(fi,10),C(Qf,8),C(oc,8))};static#t=this.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([Sye]),be,lr]})}return t})(),Q4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),Z4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({})}return t})(),ea=(()=>{class t{constructor(){this._validator=iy}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):iy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Q({type:t,features:[lr]})}return t})();const zye={provide:cn,useExisting:xe(()=>gy),multi:!0};let gy=(()=>{class t extends ea{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ja,this.createValidator=n=>p4}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=Q({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&kn("required",i._enabled?"":null)},inputs:{required:"required"},features:[ze([zye]),be]})}return t})();const Wye={provide:cn,useExisting:xe(()=>hM),multi:!0};let hM=(()=>{class t extends ea{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Ja,this.createValidator=n=>m4}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=Q({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[ze([Wye]),be]})}return t})(),Zye=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({imports:[Z4]})}return t})(),Jye=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oc,useValue:n.callSetDisabledState??cy}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t});static#n=this.\u0275inj=dn({imports:[Zye]})}return t})();function e_e(t,e){if(1&t){const n=tl();ve(0,"tr")(1,"td"),Pe(2),ge(),ve(3,"td"),Pe(4),ge(),ve(5,"td"),Pe(6),ge(),ve(7,"td"),Pe(8),ge(),ve(9,"td")(10,"button",21),Mt("click",function(){const s=Dc(n).$implicit;return Tc(On().dletedata(s.id))}),Pe(11,"Delete"),ge()()()}if(2&t){const n=e.$implicit;Be(2),Ka(n.firstName),Be(2),Ka(n.lastName),Be(2),Ka(n.email),Be(2),Ka(n.password)}}let t_e=(()=>{class t{constructor(n,r){this.toastr=n,this.firestore=r,this.title="fire",this.array=[],this.getData(),console.log("userdata",this.userdata)}onSubmit(n){console.log("Form submitted:",n.value);const r=s4(this.firestore,"users");xme(r,n.value).then(()=>{n.reset(),console.log("data saved successfully"),this.toastr.success("Data added successfully!","Success")}).catch(i=>{console.log(i),this.toastr.error("Error adding data!","Error")})}getData(){const n=s4(this.firestore,"users");i4(n,{idField:"id"}).subscribe(r=>{console.log(r)}),this.userdata=i4(n,{idField:"id"})}dletedata(n){const r=kme(this.firestore,"users",n);Rme(r).then(()=>{console.log("Delete successful"),this.toastr.info("Data deleted successfully!","sucesss")}).catch(i=>{console.log(i),this.toastr.error("Error deleting data!","Error")})}static#e=this.\u0275fac=function(r){return new(r||t)(C(WA),C(ty))};static#t=this.\u0275cmp=pc({type:t,selectors:[["app-root"]],decls:47,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"mt-4","text-center"],[3,"ngSubmit"],["registrationForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","name","firstName","ngModel","","required","",1,"form-control"],["for","lastName"],["type","text","id","lastName","name","lastName","ngModel","","required","",1,"form-control"],["for","email"],["type","email","id","email","name","email","ngModel","","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","name","password","ngModel","","required","",1,"form-control"],["type","submit",1,"btn","btn-warning","btn-block",3,"disabled"],[1,"container","mt-5"],[1,"text-center"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"]],template:function(r,i){if(1&r){const s=tl();ve(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Pe(4,"Registration Form"),ge(),ve(5,"form",4,5),Mt("ngSubmit",function(){Dc(s);const a=Nv(6);return Tc(i.onSubmit(a))}),ve(7,"div",6)(8,"label",7),Pe(9,"First Name"),ge(),br(10,"input",8),ge(),ve(11,"div",6)(12,"label",9),Pe(13,"Last Name"),ge(),br(14,"input",10),ge(),ve(15,"div",6)(16,"label",11),Pe(17,"Email"),ge(),br(18,"input",12),ge(),ve(19,"div",6)(20,"label",13),Pe(21,"Password"),ge(),br(22,"input",14),ge(),ve(23,"button",15),Pe(24,"Submit"),ge()()()()(),ve(25,"div",16)(26,"div",1)(27,"div",2)(28,"h2",17),Pe(29,"Database Details"),ge(),ve(30,"div",18)(31,"table",19)(32,"thead")(33,"tr")(34,"th"),Pe(35,"First Name"),ge(),ve(36,"th"),Pe(37,"Last Name"),ge(),ve(38,"th"),Pe(39,"Email"),ge(),ve(40,"th"),Pe(41,"Password"),ge(),ve(42,"th"),Pe(43,"Action"),ge()()(),ve(44,"tbody"),Pn(45,e_e,12,4,"tr",20),function gP(t,e){const n=de();let r;const i=t+ae;n.firstCreatePass?(r=function hK(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ys(r.type)),a=Cn(C);try{const u=jh(!1),c=s();return jh(u),function qW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,T(),i,c),c}finally{Cn(a)}}(46,"async"),ge()()()()()()}if(2&r){const s=Nv(6);Be(23),At("disabled",!s.valid),Be(22),At("ngForOf",mP(46,2,i.userdata))}},dependencies:[WO,Q4,ry,P4,O4,gy,hM,oM,py,ZO]})}return t})();const n_e_firebase={projectId:"ecommerce-ba808",appId:"1:980899440077:web:b4a93d248f46df81dc9084",storageBucket:"ecommerce-ba808.appspot.com",apiKey:"AIzaSyCO2Ly8Z3mMG6p_8VElrxPGEZlMeO50jpQ",authDomain:"ecommerce-ba808.firebaseapp.com",messagingSenderId:"980899440077"};let r_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Sn({type:t,bootstrap:[t_e]});static#n=this.\u0275inj=dn({imports:[yF,kee,Jye,nye.forRoot(),fre,lue(()=>due(n_e_firebase)),Nme(()=>Pme())]})}return t})();MX().bootstrapModule(r_e).catch(t=>console.error(t))}},Me=>{Me(Me.s=740)}]);